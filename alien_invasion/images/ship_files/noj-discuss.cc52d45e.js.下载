(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[81],{"+0ST":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return Me}));var a=n("D57K"),i=n("jg1C"),c=n("ERkP"),o=n.n(c),r=n("zCf4"),s=n("+SGW"),d=n("YnR9"),u=n("+75L"),l=n("TMWK"),b=n("daAW"),p=n("fgAA"),j=n("7a+J"),O=Object(l.a)("div",{target:"e1wmc8fn0"})(j.a.card,{width:"100vw",overflowX:"auto",overflowY:"hidden",position:"fixed",top:"47px",zIndex:1,background:p.b.White(),scrollbarWidth:"none",msOverflowStyle:"none","::-webkit-scrollbar":{display:"none"}},"label:Container;"),f=Object(l.a)("div",{target:"e1wmc8fn1"})({display:"inline-flex",alignItems:"center",padding:"0 16px"},"label:ScrollContainer;"),g=Object(l.a)(b.a,{target:"e1wmc8fn2"})({display:"block",height:"44px",position:"relative",fontSize:"16px",lineHeight:"44px",whiteSpace:"nowrap","&, &:hover, &:active":{color:p.b.LabelSecondary()},":not(:last-of-type)":{marginRight:"32px"},"::after":{content:'""',display:"block",position:"absolute",bottom:0,left:0,right:0,height:"2px",backgroundColor:p.b.LabelPrimary(),opacity:0,transition:"opacity .3s"},'&[data-is-active="true"]':{fontWeight:600,"&, &:hover, &:active":{color:p.b.Black()},"::after":{opacity:1}}},"label:Category;"),_=d.a.main.paths,m=[{key:u.j.Interview,title:u.x[u.j.Interview],isDefault:!0},{key:u.j.Career,title:u.x[u.j.Career]},{key:u.j.Other,title:u.x[u.j.Other]},{key:u.l,title:u.x[u.j.StudySharing]},{key:u.j.Feedback,title:u.x[u.j.Feedback]}];function y(){var e=Object(r.k)().subjectSlug,t=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e,n=null===(e=t.current)||void 0===e?void 0:e.querySelector('a[data-is-active="true"]');n&&Object(s.default)(n,{inline:"center"})}),[e]),Object(i.jsx)(O,Object(a.__assign)({ref:t},{children:Object(i.jsx)(f,{children:m.map((function(t){var n=t.key,c=t.title,o=t.isDefault;return Object(i.jsx)(g,Object(a.__assign)({"data-is-active":e===n||o&&!e,to:_.discuss.home({subjectSlug:o?void 0:n})},{children:c}),n)}))},void 0)}),void 0)}var v=n("K/af"),h=n("r2qc"),x=n("mH2o"),k=Object(l.a)("div",{target:"e1b7uzif0"})({marginTop:"18px"},"label:Container;"),S=function(){var e=Object(a.__read)(Object(v.a)(x.p),1)[0].question;return(null===e||void 0===e?void 0:e.tags.length)?Object(i.jsx)(k,{children:Object(i.jsx)(h.A,{items:e.tags,noCountLimit:!0},void 0)},void 0):null},C=n("34li"),w=n("yqT4"),A=n("AF8X"),T=n("60w7"),I=n("1QlS"),D=n("q+Tr"),F=n("WWwk"),R=n("lDJ/"),P=Object(l.a)(R.a,{target:"e1cc9s3q0"})({background:p.a.grey(0),width:"100%",padding:0,marginTop:"20px",".highlight pre, pre":{fontSize:14},".katex-block":{overflowX:"scroll"}},"label:StyledMarkdown;"),q=Object(l.a)("div",{target:"e1cc9s3q1"})({display:"none",position:"absolute",width:"100%",top:0,right:0,bottom:0,left:0,zIndex:1,background:"linear-gradient(180deg, "+p.a.grey(0,0)+" 0%, "+p.a.grey(0)+" 100%);",cursor:"pointer",color:p.a.grey(5),fontSize:"15px",lineHeight:"24px",alignItems:"flex-end",justifyContent:"center"},"label:Mask;"),E=Object(l.a)("div",{target:"e1cc9s3q2"})((function(e){var t,n=e.collapsed,a=e.collapsedHeight;return n?((t={position:"relative",maxHeight:a+"px",overflow:"hidden"})[""+q]={display:"flex",height:a+"px"},t):{}}),"label:Wrapper;"),L=o.a.memo((function(e){var t=e.content,n=e.tip,o=e.collapsedHeight,r=e.fontSize,s=void 0===r?17:r,d=e.onMaskClick,u=Object(c.useRef)(null),l=Object(a.__read)(Object(I.a)(!0),3),b=l[0],p=l[2],j=Object(D.a)(u),O=Object(c.useCallback)((function(){"function"===typeof d?d():p()}),[]);return Object(F.a)((function(){j&&u.current&&u.current.getBoundingClientRect().height<o&&p()}),[j,o]),Object(i.jsxs)(E,Object(a.__assign)({collapsed:b,collapsedHeight:o},{children:[Object(i.jsx)(P,Object(a.__assign)({containerRef:u,rootFontSize:s},{children:t||""}),void 0),Object(i.jsx)(q,Object(a.__assign)({onClick:O},{children:n}),void 0)]}),void 0)})),M=n("OJn1"),N=n("cPtI"),z=n("XKjd"),B=Object(l.a)("div",{target:"e1f1xwsz0"})({display:"flex",alignItems:"center",fontSize:"12px",lineHeight:"18px",color:p.a.grey(6),"> *:not(:last-child)":{marginRight:"5px"}},"label:InfoWrapper;"),Q=Object(l.a)("div",{target:"e1f1xwsz1"})({width:"2px",height:"2px",borderRadius:"100%",background:p.a.grey(6)},"label:Dot;"),W=Object(z.a)({"> div:last-of-type":{"button:first-of-type":{background:p.a.grey(2),color:p.a.primary(5),":hover":{background:p.a.grey(2),color:p.a.primary(5)},":active":{background:p.a.grey(2),color:p.a.primary(5)}},"button:last-of-type":{background:p.a.primary(5),color:p.a.grey(0),":hover":{background:p.a.primary(5),color:p.a.grey(0)},":active":{background:p.a.primary(5),color:p.a.grey(0)}}}}),H=n("/fpG"),U=n("nPqx"),G=function(){var e=Object(a.__read)(Object(I.a)(!1),3),t=e[0],n=e[1],o=e[2],r=Object(c.useCallback)((function(){window.open("https://m.leetcode-cn.com"+window.location.pathname,"_blank"),o()}),[]);return[Object(c.useMemo)((function(){return Object(i.jsx)(U.a,Object(a.__assign)({okText:"\u5728\u529b\u6263 App \u4e2d\u6253\u5f00",contentPadding:"30px 15px",visible:t,onClose:o,onOk:r,className:W},{children:"\u4f53\u9a8c\u5b8c\u6574\u529f\u80fd\uff0c\u8bf7\u4f7f\u7528\u529b\u6263 App"}),void 0)}),[t]),n]},V=Object(l.a)("button",{target:"ek36vxg0"})({flexGrow:0,flexShrink:0,whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center",height:"32px",fontSize:"14px",textAlign:"center",outline:0,cursor:"pointer",borderRadius:"4px",border:0,padding:0,userSelect:"none"},"label:Button;"),K=o.a.memo((function(e){var t=e.className,n=e.children,c=Object(a.__read)(G(),2),o=c[0],r=c[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(V,Object(a.__assign)({className:t,onClick:r},{children:n}),void 0),o]},void 0)})),$=Object(l.a)("div",{target:"exw5j1s0"})({width:"100%",height:"36px",display:"flex",alignItems:"center"},"label:Wrapper;"),Y=Object(l.a)(H.a,{target:"exw5j1s1"})({width:"32px",height:"32px",borderRadius:"100%",marginRight:"8px"},"label:Avatar;"),X=Object(l.a)("div",{target:"exw5j1s2"})({height:"100%"},"label:NameWrapper;"),J=(p.a.grey(8),Object(l.a)(K,{target:"exw5j1s4"})({width:"50px",background:p.a.grey(2),color:p.a.primary(5),marginLeft:"auto"},"label:FakeSubscribe;")),Z=o.a.memo((function(e){var t=e.name,n=e.userSlug,a=e.avatar,c=e.createdAt,o=e.updatedAt,r=e.viewNum,s=e.showSubscribe,d=void 0===s||s,u=Object(M.a)(o||c);return Object(i.jsxs)($,{children:[Object(i.jsx)(Y,{src:a},void 0),Object(i.jsxs)(X,{children:[Object(i.jsx)(N.a,{userSlug:n,realName:t,defaultColor:p.a.grey(8),fontSize:"13px"},void 0),Object(i.jsxs)(B,{children:[Object(i.jsx)("span",{children:u},void 0),r&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Q,{},void 0),Object(i.jsxs)("span",{children:[Object(T.c)(r)," \u9605\u8bfb"]},void 0)]},void 0)]},void 0)]},void 0),d&&Object(i.jsx)(J,{children:"\u5173\u6ce8"},void 0)]},void 0)})),ee=n("5ZzG"),te=n("F2zA"),ne=Object(l.a)("div",{target:"e1fqleuh0"})({width:"100vw",padding:te.e+"px",marginLeft:"-"+te.e+"px",borderBottom:"1px solid "+p.a.grey(2),"> div:last-of-type":{marginTop:"20px"}},"label:Wrapper;"),ae=(p.a.grey(2),p.a.grey(5),p.a.grey(6),o.a.memo((function(e){var t=e.name,n=e.userSlug,c=e.avatar,o=e.createdAt,r=e.updatedAt,s=e.content,d=e.voteUpCount,u=e.replyCount,l=Object(a.__read)(G(),2),b=l[0],p=l[1],j=Object(T.c)(d),O=Object(T.c)(u);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(ne,{children:[Object(i.jsx)(Z,{name:t,userSlug:null!==n&&void 0!==n?n:"",avatar:c,createdAt:o,updatedAt:r,showSubscribe:!1},void 0),Object(i.jsx)(L,{tip:"",collapsedHeight:80,fontSize:15,content:s,onMaskClick:p},void 0),Object(i.jsxs)(B,{children:[Object(i.jsx)("span",{children:j+" \u4e2a\u8d5e"},void 0),Object(i.jsx)(Q,{},void 0),Object(i.jsx)("span",{children:O+" \u6761\u8bc4\u8bba"},void 0)]},void 0)]},void 0),b]},void 0)}))),ie=Object(l.a)("div",{target:"e1rvalyy0"})({width:"100%",height:"50px",display:"flex",alignItems:"center"},"label:Wrapper;"),ce=Object(l.a)(K,{target:"e1rvalyy1"})({flex:"1 1 auto",maxWidth:"120px",height:"36px",borderRadius:"18px",background:p.a.grey(2),marginRight:"15px",position:"relative","::after":{fontSize:"15px",color:p.a.grey(5),content:'"\u5199\u8bc4\u8bba"',position:"absolute",top:"50%",left:"20px",transform:"translateY(-50%)"}},"label:FakeCommentButton;"),oe=Object(l.a)("div",{target:"e1rvalyy2"})({":first-of-type":{marginLeft:"auto"},":not(:last-of-type)":{marginRight:"25px"},svg:{color:p.a.grey(6),fontSize:"24px",marginBottom:"5px"},"> div":{color:p.a.grey(6),fontSize:"10px",lineHeight:"12px",textAlign:"center"}},"label:IconWrapper;"),re=o.a.memo((function(e){var t=Object(a.__read)(G(),2),n=t[0],o=t[1],r=Object(c.useMemo)((function(){return function(e){return[{type:"comment",text:Object(T.c)(e.commentNum)},{type:"thumb-up-o",text:Object(T.c)(e.voteUpNum)},{type:"insert-emotion",text:Object(T.c)(e.emojiNum)},{type:"star-o",text:"\u6536\u85cf"}]}(e)}),[e]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(ie,{children:[Object(i.jsx)(ce,{},void 0),r.map((function(e){var t=e.type,n=e.text;return Object(i.jsxs)(oe,{children:[Object(i.jsx)(ee.a,{type:t,onClick:o},void 0),Object(i.jsx)("div",{children:n},void 0)]},t)}))]},void 0),n]},void 0)})),se=n("5Nzd"),de=n("u3dr"),ue=n("2wT7"),le=n("9EWH"),be=n("HnWI"),pe=n("AouM"),je=n("Jg5f"),Oe=n("W/Ou"),fe=n("wUZp"),ge=n("B07F"),_e=n("uxpW"),me={totalNum:0,comments:[],loading:!1},ye=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=me,n}var n,i,c,o,r,s;return Object(a.__extends)(t,e),t.prototype.resetStore=function(){return me},t.prototype.setLoading=function(e){e.loading=!0},t.prototype.setComments=function(e,t){t&&(e.totalNum=t.totalNum||0,e.comments=t.edges.reduce((function(e,t){var n;if(t&&t.node){var a=t.node.post,i=a.content,c=a.voteUpCount,o=a.author,r=a.creationDate,s=a.updationDate;e.push({content:i,voteUpCount:c,replyCount:t.node.numChildren||0,name:o&&(o.profile.realName||o.username)||"",userSlug:null===(n=null===o||void 0===o?void 0:o.profile)||void 0===n?void 0:n.userSlug,avatar:o&&o.profile.userAvatar||"",createdAt:1e3*(r||0),updatedAt:1e3*(s||0)})}return e}),[])),e.loading=!1},t.prototype.getComments=function(e){var t=this;return e.pipe(Object(pe.a)((function(e){return t.client.query({query:_e.a,variables:{topicId:e}}).pipe(Object(fe.a)("\u83b7\u53d6\u8bc4\u8bba\u5931\u8d25"),Object(je.a)((function(e){var n=e.data;return t.getActions().setComments(n.commonTopicComments)})),Object(Oe.a)(t.getActions().setLoading()))})))},Object(a.__decorate)([Object(de.a)(),Object(a.__metadata)("design:type","function"===typeof(n="undefined"!==typeof be.a&&be.a)?n:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(de.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(a.__decorate)([Object(de.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof le.Draft&&le.Draft)?i:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(a.__decorate)([Object(de.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof le.Draft&&le.Draft)?c:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setComments",null),Object(a.__decorate)([Object(de.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof be.a&&be.a)?o:Object]),Object(a.__metadata)("design:returntype","function"===typeof(r="undefined"!==typeof be.a&&be.a)?r:Object)],t.prototype,"getComments",null),t=Object(a.__decorate)([Object(se.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof ge.a&&ge.a)?s:Object])],t)}(ue.a),ve=Object(l.a)(K,{target:"ecpdt8e0"})({background:p.a.primary(5),color:p.a.grey(0)},"label:PrimaryButton;"),he=Object(l.a)(K,{target:"ecpdt8e1"})({background:p.a.grey(2),color:p.a.primary(5)},"label:TextButton;"),xe=Object(l.a)("div",{target:"ecpdt8e2"})({padding:"0px 16px 120px 16px"},"label:Wrapper;"),ke=Object(l.a)("section",{target:"ecpdt8e3"})((function(e){var t=e.imgUrl;return{backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"cover",backgroundImage:'url("'+encodeURI(t)+'")',height:"160px",width:"100vw",marginLeft:"-"+te.e+"px"}}),"label:Cover;"),Se=Object(l.a)("h1",{target:"ecpdt8e4"})({width:"100%",wordWrap:"break-word",fontSize:"20px",lineHeight:"28px",color:p.a.grey(8),marginTop:"16px"},"label:Title;"),Ce=Object(l.a)("div",{target:"ecpdt8e5"})({marginTop:"20px"},"label:MetaDataWrapper;"),we=Object(l.a)("div",{target:"ecpdt8e6"})({height:"68px",padding:"0 "+te.e+"px",marginLeft:"-"+te.e+"px",borderTop:"1px solid "+p.a.grey(2),borderBottom:"1px solid "+p.a.grey(2),display:"flex",alignItems:"center",justifyContent:"center"},"label:QuestionMetaDataWrapper;"),Ae=Object(l.a)(we,{target:"ecpdt8e7"})({borderTop:"none"},"label:AnswerMetaDataWrapper;"),Te=Object(l.a)("div",{target:"ecpdt8e8"})({marginTop:"20px"},"label:OperationsWrapper;"),Ie=Object(l.a)("div",{target:"ecpdt8e9"})({paddingBottom:"12px"},"label:ReplyWrapper;"),De=Object(l.a)("div",{target:"ecpdt8e10"})({width:"100vw",height:"44px",paddingLeft:te.e+"px",marginLeft:"-"+te.e+"px",borderBottom:"1px solid "+p.a.grey(2),fontSize:"12px",lineHeight:"44px",color:p.a.grey(8)},"label:ReplyCount;"),Fe=Object(l.a)(ve,{target:"ecpdt8e11"})({width:"100%",height:"40px",marginTop:"12px"},"label:MoreReplyButton;"),Re=Object(l.a)("div",{target:"ecpdt8e12"})({display:"flex",alignItems:"center",justifyContent:"space-between"},"label:ButtonWrapper;"),Pe=Object(l.a)(K,{target:"ecpdt8e13"})({width:"165px",background:p.a.grey(2),color:p.a.grey(6),svg:{marginLeft:"5px",fontSize:"16px"}},"label:FakeShowAllAnswers;"),qe=Object(l.a)(ve,{target:"ecpdt8e14"})((function(e){return"sm"===e.size?{width:"92px",svg:{fontSize:"16px"}}:{flexGrow:1,maxWidth:"230px",height:"40px",fontSize:"16px",svg:{fontSize:"20px"}}}),"label:FakeParticipateIn;"),Ee=Object(l.a)(he,{target:"ecpdt8e15"})({width:"96px",height:"40px",fontSize:"16px",marginRight:"16px"},"label:FakeSubscribe;"),Le=Object(l.a)("div",{target:"ecpdt8e16"})({width:"100vw",height:"8px",marginLeft:"-"+te.e+"px",background:p.a.grey(1)},"label:Divider;"),Me=o.a.memo((function(e){var t=Object(a.__read)(Object(v.a)(ye),2),n=t[0],o=n.totalNum,r=n.comments,s=t[1],d=s.getComments,u=s.dispose$,l=s.resetStore,b=e.author;Object(c.useEffect)((function(){return e.topicId&&d(e.topicId),function(){u(),l()}}),[e.topicId]);var p=Object(A.b)(e.reactionsV2),j=p.voteUpNum,O=p.emojiNum;return Object(i.jsxs)(xe,{children:[e.cover&&Object(i.jsx)(ke,{imgUrl:e.cover},void 0),Object(i.jsx)(Se,{children:e.title},void 0),Object(i.jsx)(Ce,{children:Object(i.jsx)(Z,{name:b.name,userSlug:b.slug,avatar:b.avatar,createdAt:e.createdAt,updatedAt:e.updatedAt,viewNum:e.viewCount},void 0)},void 0),Object(i.jsx)(L,{content:e.content,tip:"\u5c55\u5f00\u6587\u7ae0\u8be6\u60c5",collapsedHeight:700},void 0),Object(i.jsx)(w.h,{author:b,contentType:C.pc.Article,contentId:e.articleId},void 0),Object(i.jsx)(Te,{children:Object(i.jsx)(re,{commentNum:o,voteUpNum:j,emojiNum:O},void 0)},void 0),Object(i.jsx)(Le,{},void 0),Object(i.jsxs)(Ie,{children:[Object(i.jsxs)(De,{children:[o," \u4e2a\u8bc4\u8bba"]},void 0),r.map((function(e,t){return Object(i.jsx)(ae,Object(a.__assign)({},e),t)})),Object(i.jsx)(Fe,{children:"\u67e5\u770b\u66f4\u591a\u8bc4\u8bba"},void 0)]},void 0)]},void 0)})),Ne=(o.a.memo((function(e){var t=e.author;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Se,{children:e.title},void 0),e.contentVisible?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(L,{content:e.content,tip:"\u5c55\u5f00\u8ba8\u8bba\u8be6\u60c5",collapsedHeight:400},void 0),Object(i.jsx)(we,{children:Object(i.jsx)(Z,{name:t.name,userSlug:t.slug,avatar:t.avatar,createdAt:e.createdAt,updatedAt:e.updatedAt,viewNum:e.viewCount},void 0)},void 0),Object(i.jsxs)(Re,{children:[Object(i.jsx)(Ee,{children:"\u63a5\u6536\u52a8\u6001"},void 0),Object(i.jsx)(qe,{children:"\u53c2\u4e0e\u8ba8\u8bba"},void 0)]},void 0)]},void 0):Object(i.jsxs)(Re,{children:[Object(i.jsxs)(Pe,{children:["\u67e5\u770b\u5168\u90e8 "+e.answerCount+" \u4e2a\u89c2\u70b9",Object(i.jsx)(ee.a,{type:"angle-right"},void 0)]},void 0),Object(i.jsx)(qe,Object(a.__assign)({size:"sm"},{children:"\u53c2\u4e0e\u8ba8\u8bba"}),void 0)]},void 0)]},void 0)})),n("l1SX"));o.a.memo((function(e){var t=e.detail,n=Object(a.__read)(Object(v.a)(ye),2),o=n[0],r=o.loading,s=o.totalNum,d=o.comments,u=n[1],l=u.getComments,b=u.dispose$,p=u.resetStore,j=t&&t.topicId;if(Object(c.useEffect)((function(){return j&&l(j),function(){b(),p()}}),[j]),!t)return Object(i.jsx)(Ne.a,{},void 0);var O=Object(A.b)(t.reactionsV2),f=O.voteUpNum,g=O.emojiNum;return Object(i.jsxs)(xe,{children:[Object(i.jsx)(Le,{},void 0),Object(i.jsx)(Ae,{children:Object(i.jsx)(Z,{name:t.author.name,userSlug:t.author.slug,avatar:t.author.avatar,createdAt:t.createdAt},void 0)},void 0),Object(i.jsx)(L,{content:t.content,tip:"\u5c55\u5f00\u8ba8\u8bba\u8be6\u60c5",collapsedHeight:400},void 0),Object(i.jsx)(Te,{children:Object(i.jsx)(re,{commentNum:s,voteUpNum:f,emojiNum:g},void 0)},void 0),Object(i.jsx)(Le,{},void 0),r?Object(i.jsx)(Ne.a,{},void 0):Object(i.jsxs)(Ie,{children:[Object(i.jsxs)(De,{children:[s," \u4e2a\u8bc4\u8bba"]},void 0),d.map((function(e,t){return Object(i.jsx)(ae,Object(a.__assign)({},e),t)})),Object(i.jsx)(Fe,{children:"\u67e5\u770b\u66f4\u591a\u8bc4\u8bba"},void 0)]},void 0)]},void 0)})),o.a.memo((function(e){return Object(i.jsxs)(xe,{children:[Object(i.jsx)(Le,{},void 0),Object(i.jsxs)(Ie,{children:[Object(i.jsxs)(De,{children:[e.totalNum," \u4e2a\u8ba8\u8bba"]},void 0),e.answers.map((function(e){var t,n=e.uuid,a=e.author,c=e.createdAt,o=e.content,r=e.reactionsV2,s=e.commentCount;return Object(i.jsx)(ae,{name:a.name,userSlug:a.slug,avatar:a.avatar,createdAt:c,content:o,voteUpCount:(null===(t=r.find((function(e){return e.reactionType===C.gc.Upvote})))||void 0===t?void 0:t.count)||0,replyCount:s},n)})),Object(i.jsx)(Fe,{children:"\u67e5\u770b\u66f4\u591a\u8ba8\u8bba"},void 0)]},void 0)]},void 0)}))},"+75L":function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"j",(function(){return i})),n.d(t,"n",(function(){return _})),n.d(t,"l",(function(){return m})),n.d(t,"x",(function(){return y})),n.d(t,"k",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"m",(function(){return h})),n.d(t,"r",(function(){return x})),n.d(t,"t",(function(){return k})),n.d(t,"s",(function(){return S})),n.d(t,"v",(function(){return C})),n.d(t,"q",(function(){return w})),n.d(t,"p",(function(){return A})),n.d(t,"u",(function(){return T})),n.d(t,"w",(function(){return I})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return F}));var a,i,c=n("nnm9"),o=n.n(c),r=n("ERkP"),s=n.n(r),d=n("34li"),u=10,l=5,b=(d.n.Hot,d.n.Latest,d.n.Hot,d.n.Latest,[{key:d.Yb.Hottest,name:"\u6700\u70ed"},{key:d.Yb.Latest,name:"\u6700\u65b0"}]),p=[{key:d.Xb.Hottest,name:"\u6700\u70ed"},{key:d.Xb.Latest,name:"\u6700\u65b0"}];!function(e){e.Interview="interview",e.Career="career",e.Other="other",e.StudySharing="study-sharing",e.Feedback="feedback"}(i||(i={}));var j,O,f,g,_=i.Interview,m="notes",y=((a={})[i.Interview]="\u6c42\u804c\u9762\u8bd5",a[i.Career]="\u804c\u573a\u4e0e\u5185\u63a8",a[i.Other]="\u6280\u672f\u4ea4\u6d41",a[i.StudySharing]="\u5b66\u4e60\u5206\u4eab",a[i.Feedback]="\u610f\u89c1\u53cd\u9988",a);!function(e){e.NEWEST="newest",e.RECOMMEND="recommend",e.HOTTEST="hottest"}(j||(j={})),function(e){e.back="back",e.answers="answers",e.questions="questions"}(O||(O={})),function(e){e.back="back",e.answers="answers",e.articles="articles"}(f||(f={})),function(e){e.back="back",e.questions="questions",e.articles="articles"}(g||(g={}));var v=Symbol("discussion"),h=Symbol("article"),x=Symbol("my-comments"),k=Symbol("my-favorite-articles"),S=Symbol("my-favorite-answers"),C=Symbol("my-follow-articles"),w=Symbol("my-articles"),A=(Symbol("my-draft"),Symbol("my-answers")),T=Symbol("my-questions"),I=Symbol("recommendation"),D="discuss-score-visibility",F=s.a.createContext({scoreVisible:!0,toggleScoreVisible:o.a})},"+Aeu":function(e,t,n){"use strict";var a=n("zF28");n.d(t,"m",(function(){return a.a})),n.d(t,"n",(function(){return a.c})),n.d(t,"o",(function(){return a.d})),n.d(t,"p",(function(){return a.e})),n.d(t,"q",(function(){return a.f}));var i=n("wbrp");n.d(t,"a",(function(){return i.c})),n.d(t,"b",(function(){return i.d})),n.d(t,"c",(function(){return i.e})),n.d(t,"e",(function(){return i.g})),n.d(t,"f",(function(){return i.h}));var c=n("A83I");n.d(t,"d",(function(){return c.b}));var o=n("W4BP");n.d(t,"g",(function(){return o.a})),n.d(t,"h",(function(){return o.b})),n.d(t,"i",(function(){return o.c})),n.d(t,"j",(function(){return o.d})),n.d(t,"k",(function(){return o.e})),n.d(t,"l",(function(){return o.f}))},"+gd7":function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a=n("D57K"),i=n("jg1C"),c=n("ERkP"),o=n.n(c),r=n("YnR9"),s=n("1QlS"),d=n("q+Tr"),u=n("WWwk"),l=n("ttV/"),b=n("ZRwv"),p=n("ildc"),j=n("Blax"),O=n("5ZzG"),f=n("0FzZ"),g=n("zF28"),_=n("fgAA"),m=n("xqpu"),y=n("OJn1"),v=n("uhKY"),h=n("CZCR"),x=n("Aw0H"),k=n("AbD5"),S=n("M+N8"),C=n("cPtI"),w=n("34li"),A=n("VxrX"),T=n("6H+M"),I=n("8SGJ"),D=n("ICpN"),F=n("K/af"),R=n("OTEi"),P=n("5AFa"),q=r.a.main.paths,E=o.a.memo((function(e){var t=e.questionAuthorSuffix,n=void 0===t?"\u697c\u4e3b":t,o=e.questionAuthorSlug,r=e.userSlug,s=e.name,d=e.avatar,u=e.anonymous,l=e.createdAt,b=e.picked,j=e.ipRegion,O=e.uuid,f=e.questionStatus,g=""===r,E=Object(c.useContext)(m.d).isAdmin,L=Object(a.__read)(Object(F.a)(R.a,{scope:O}),2),M=L[0].muted,N=L[1].setMuted,z=Object(a.__read)(Object(F.a)(P.a,{scope:O}),2),B=z[0].picked,Q=z[1].setPicked,W=Object(y.a)(l),H=E&&u?s+"\uff08\u533f\u540d\u53d1\u5e03\uff09":s,U=!(!o||o!==r),G=Object(c.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),V=Object(c.useCallback)((function(e){A.a.discuss.discussClickAvatarOrName(),e.stopPropagation(),e.preventDefault(),g||(window.location.href=q.publicProfile.home({userSlug:r}))}),[r,g]);return Object(c.useEffect)((function(){N(f===w.o.Muted)}),[f]),Object(c.useEffect)((function(){Q(b)}),[b]),Object(i.jsxs)(I.c,Object(a.__assign)({onClick:G},{children:[Object(i.jsx)(S.a,Object(a.__assign)({userSlug:r},{children:Object(i.jsxs)(I.d,Object(a.__assign)({onClick:V,isMobile:Object(p.q)()},{children:[!Object(p.q)()&&Object(i.jsx)(I.a,{src:Object(v.b)(d,22)},void 0),Object(i.jsx)(x.a,Object(a.__assign)({shouldStrip:g},{children:Object(i.jsxs)("a",Object(a.__assign)({href:q.publicProfile.home({userSlug:r})},{children:[Object(i.jsx)(C.a,{userSlug:r,realName:H,className:Object(I.h)(Object(p.q)()),defaultColor:_.a.grey(5),hideReputation:!0},void 0),U&&!g&&Object(i.jsxs)(I.e,{children:[" \xb7 ",n]},void 0),E&&Object(i.jsx)(D.a,{muted:M},void 0)]}),void 0)}),void 0)]}),void 0)}),void 0),Object(i.jsxs)(I.b,Object(a.__assign)({isMobile:Object(p.q)()},{children:[B&&!Object(p.q)()&&Object(i.jsx)(k.a,{kind:"green",size:"xs",content:"\u7cbe\u9009"},void 0),Object(i.jsxs)(I.f,Object(a.__assign)({isMobile:Object(p.q)()},{children:[Object(p.q)()?Object(i.jsx)(i.Fragment,{children:"\xa0\xb7\xa0"},void 0):null,Object(i.jsx)("span",{children:Object(h.b)(j)},void 0),Object(i.jsx)(T.d,{},void 0),Object(i.jsx)("span",{children:W},void 0)]}),void 0)]}),void 0)]}),void 0)})),L=n("X7IW"),M=n("PbXi"),N=r.a.main.paths,z=o.a.memo((function(e){e.content;var t=e.isAnonymous,n=e.author,o=e.isDeleted,r=e.uuid,s=e.fetchAnswerPageInfo,d=e.summary,u=Object(c.useCallback)((function(){null===s||void 0===s||s({answerId:r,effects:[]})}),[s,r]);return Object(i.jsx)(M.b,{children:o?Object(i.jsxs)(M.e,{children:[Object(i.jsx)(M.f,{size:18},void 0),Object(i.jsx)(M.c,{children:"\u8be5\u5185\u5bb9\u5df2\u88ab\u5220\u9664"},void 0)]},void 0):Object(i.jsxs)(M.d,Object(a.__assign)({clickable:!!s,onClick:u},{children:[Object(i.jsx)(S.a,Object(a.__assign)({userSlug:n.slug},{children:Object(i.jsx)(x.a,Object(a.__assign)({shouldStrip:t},{children:Object(i.jsx)("a",Object(a.__assign)({href:N.publicProfile.home({userSlug:n.slug})},{children:Object(i.jsx)(M.a,{src:n.avatar},void 0)}),void 0)}),void 0)}),void 0),Object(i.jsx)(M.c,{children:d},void 0)]}),void 0)},void 0)})),B=n("2yfB"),Q=n("W4BP"),W=n("RP75"),H=n("UqMZ"),U=r.a.main.paths;function G(e){var t=e.questionId,n=e.answerId;return U.discuss.viewShare({discussId:t,viewId:n})}var V=o.a.memo((function(e){var t=e.onEdit,n=e.onReply,o=e.onAddReply,r=e.fetchAnswerPageInfo,_=e.getCopyLink,m=void 0===_?G:_,y=e.questionAuthorSlug,v=e.questionAuthorSuffix,h=e.forceExpanded,x=void 0!==h&&h,k=e.replyToVisible,S=void 0!==k&&k,C=e.isReplyExpanded,w=void 0!==C&&C,A=e.disabledOperations,T=Object(a.__rest)(e,["onEdit","onReply","onAddReply","fetchAnswerPageInfo","getCopyLink","questionAuthorSlug","questionAuthorSuffix","forceExpanded","replyToVisible","isReplyExpanded","disabledOperations"]),I=T.uuid,D=T.createdAt,R=T.content,P=T.slateValue,q=T.author,M=q.name,N=q.slug,U=q.avatar,V=T.parent,K=T.picked,$=T.replyTo,Y=T.isAnonymous,X=T.ipRegion,J=T.status,Z=Object(a.__read)(Object(c.useState)("default"),2),ee=Z[0],te=Z[1],ne=Object(a.__read)(Object(s.a)(!1),3),ae=ne[0],ie=ne[1],ce=ne[2],oe=Object(c.useRef)(null),re=Object(d.a)(oe),se=Object(a.__read)(Object(c.useMemo)((function(){return[t&&function(){return t(I)},o&&function(){return o(I,M)}]}),[t,I,o,M]),2),de=se[0],ue=se[1],le=Object(g.b)({parent:V,answer:T,onEdit:de,onReply:n,isReplyExpanded:w});Object(u.a)((function(){if(oe.current&&re){var e=oe.current.getBoundingClientRect().height<B.e?"default":x?"expanded":"collapsed";te(e)}}),[R,x,re]);var be=Object(c.useCallback)((function(){"collapsed"===ee&&te("expanded")}),[ee]),pe=Object(c.useCallback)((function(){"expanded"===ee&&te("collapsed")}),[ee]),je=Object(l.a)([T],(function(){return Object(Q.d)(M,m({questionId:V.uuid,answerId:I}))})),Oe=Object(c.useCallback)((function(e){e.stopPropagation(),je(e)}),[je]),fe=Object(a.__read)(Object(F.a)(b.a),1)[0].globalData;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(E,{questionAuthorSuffix:v,questionAuthorSlug:y,userSlug:N,name:M,avatar:U,anonymous:Y,createdAt:D,picked:K,ipRegion:X,uuid:I,questionStatus:J},void 0),$&&S&&Object(i.jsx)(z,Object(a.__assign)({},$,{fetchAnswerPageInfo:r}),void 0),Object(i.jsxs)(B.f,Object(a.__assign)({ref:oe,onClick:be,collapsed:"collapsed"===ee,isMobile:Object(p.q)()},{children:["collapsed"===ee&&Object(i.jsx)(B.g,{onMouseEnter:ie,onMouseLeave:ce},void 0),P?Object(i.jsx)(W.a,{readOnly:!0,initValue:JSON.parse(P)},void 0):Object(i.jsx)(j.a,{children:Object(i.jsx)(B.d,Object(a.__assign)({onCopy:Oe,isMobile:Object(p.q)()},{children:R}),void 0)},void 0)]}),void 0),Object(i.jsxs)(B.c,Object(a.__assign)({isMobile:Object(p.q)()},{children:[Object(i.jsx)(L.a,Object(a.__assign)({},le,{disabledOperation:A}),void 0),"default"!==ee&&Object(i.jsxs)(B.a,Object(a.__assign)({onClick:"expanded"===ee?pe:be,highlighted:ae},{children:[Object(i.jsx)(O.a,{type:"expanded"===ee?"angle-up":"angle-down"},void 0),"expanded"===ee?"\u6536\u8d77\u5168\u6587":"\u5c55\u5f00\u5168\u6587"]}),void 0),!Object(p.q)()&&ue&&Object(i.jsx)(B.b,Object(a.__assign)({onClick:function(){var e;(null===(e=null===fe||void 0===fe?void 0:fe.userStatus)||void 0===e?void 0:e.isSignedIn)?ue():H.a.signIn({})},kind:"transparent",prefixIcon:Object(i.jsx)(f.a,{},void 0)},{children:"\u6dfb\u52a0\u56de\u590d"}),void 0)]}),void 0)]},void 0)}))},"2yfB":function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return h}));var a,i,c,o,r=n("f7k3"),s=n("TMWK"),d=n("fgAA"),u=n("lDJ/"),l=n("/NrN"),b=Object(s.a)(u.a,{target:"e1wiyo5l0"})({padding:0,marginTop:"6px"},(function(e){return e.isMobile?{marginTop:"10px"}:[]}),"label:AnswerMarkdownContent;"),p=Object(s.a)("div",{target:"e1wiyo5l1"})({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0px 16px 0px",borderTop:"1px solid "+d.b.DividerSecondary(),"> div:first-of-type":{marginLeft:"-9px",marginTop:0,border:"none",padding:0}},(function(e){return e.isMobile?{paddingTop:"10px",borderTop:"none"}:{}}),"label:AnswerDetailOperation;"),j=Object(s.a)("div",{target:"e1wiyo5l2"})(((a={position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,background:"linear-gradient(to bottom, "+d.a.grey(0,0)+" 0%,\n                                          "+d.a.grey(0,0)+" 70%,\n                                          "+d.a.grey(0)+" 100%)",cursor:"pointer"})[d.c]={background:"linear-gradient(to bottom, "+d.a.grey(0,0)+" 0%,\n                                            "+d.a.grey(0,0)+" 70%,\n                                            "+d.a.grey(3)+" 100%)"},a),"label:Mask;"),O=2e4,f=Object(s.a)("div",{target:"e1wiyo5l3"})({position:"relative",width:"100%",overflow:"hidden",marginBottom:"12px"},(function(e){return e.collapsed?{maxHeight:O+"px"}:{}}),(function(e){return e.isMobile?{marginBottom:"0px"}:{}}),"label:MarkdownWrapper;"),g=Object(s.a)("div",{target:"e1wiyo5l4"})((function(e){return{fontSize:"12px",cursor:"pointer",transition:"all 0.3s ease",color:e.highlighted?d.a.grey(6):d.a.grey(5),":hover":{color:d.a.grey(5)},svg:{marginRight:"5px"}}}),"label:Action;"),_=Object(s.a)("div",{target:"e1wiyo5l5"})({paddingBottom:"16px"},"label:RepliesContainer;"),m=Object(s.a)(l.a,{target:"e1wiyo5l6"})({color:d.b.BaseGrey6()},"label:AddReplyButton;"),y=Object(s.a)("div",{target:"e1wiyo5l7"})(((i={padding:"8px 16px 0px 16px",background:d.b.BaseGrey1(),borderRadius:"7px",":not(:last-of-type)":{marginBottom:"12px"}})[""+m]={transition:"opacity .3s",opacity:0},i[":hover"]=((c={})[""+m]={opacity:1},c),i),"label:ReplyContainer;"),v=Object(r.b)({".ant-pagination":{".ant-pagination-item":{background:d.b.FillTertiary(),borderRadius:"5px",border:"none",fontSize:"12px",lineHeight:"24px",minWidth:"24px",height:"24px",a:{color:d.b.LabelSecondary()}},".ant-pagination-next, .ant-pagination-prev":{fontSize:"12px",lineHeight:"24px",minWidth:"24px",height:"24px",borderRadius:"5px",".ant-pagination-item-link":{background:d.b.FillTertiary(),border:"none"},button:{color:d.b.LabelSecondary()}},".ant-pagination-item-active":(o={background:d.b.White(),boxShadow:"0px 1px 2px "+d.b.fixed.Black(.1)+", 0px 2px 8px "+d.b.fixed.Black(.08)},o[d.c]={background:d.b.BaseGrey5()},o),".ant-pagination-item-ellipsis":{color:d.b.BaseGrey7()}}},"label:antdPaginationOverride;"),h=Object(s.a)("div",{target:"e1wiyo5l8"})(v,{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"12px","> button":{color:d.b.BaseGrey5()}},"label:PaginationContainer;")},"4p56":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/other.324a1ee9.png"},"5fFo":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/interview-active.ebee91f1.png"},"5n56":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/general-topic.66326b21.png"},"6H+M":function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return j}));var a=n("TMWK"),i=n("fgAA"),c=n("/fpG"),o=Object(a.a)("div",{target:"eb2yap90"})({marginTop:"25px",display:"flex"},"label:TitleWrapper;"),r=Object(a.a)("div",{target:"eb2yap91"})({fontSize:"18px",lineHeight:"24px",paddingLeft:"5px",marginTop:"5px",color:i.a.grey(9),fontWeight:500,wordBreak:"break-word"},"label:Title;"),s=Object(a.a)("div",{target:"eb2yap92"})({display:"flex",justifyContent:"space-between",alignItems:"center",height:"32px"},"label:DescWrapper;"),d=Object(a.a)("div",{target:"eb2yap93"})({display:"flex",alignItems:"center","> a":{display:"flex",alignItems:"center",marginRight:"10px"},"> div:not(:last-of-type)":{marginRight:"10px"}},"label:InfoWrapper;"),u=Object(a.a)("div",{target:"eb2yap94"})({marginLeft:"auto",paddingLeft:"10px"},"label:BtnWrapper;"),l=Object(a.a)("div",{target:"eb2yap95"})({width:"4px",height:"4px",borderRadius:"100%",background:i.a.grey(3)},"label:Dot;"),b=Object(a.a)(c.a,{target:"eb2yap96"})({width:"32px",height:"32px",borderRadius:"50%",background:i.a.grey(3),marginRight:"10px"},"label:Avatar;"),p=b.withComponent("div"),j=(i.a.grey(6),Object(a.a)("div",{target:"eb2yap98"})({fontSize:"12px",color:i.a.grey(5),userSelect:"none"},"label:InfoItem;"))},"7/1i":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/notes-active.a3ab52f5.png"},"7TSo":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/hot.b04eceef.png"},"8SGJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return g}));var a=n("D57K"),i=n("XKjd"),c=n("TMWK"),o=n("fgAA"),r=n("pqRN"),s=n("/fpG"),d=n("CkJS"),u=Object(c.a)(s.a,{target:"e64ett70"})({flexShrink:0,flexGrow:0,width:"22px",height:"22px",borderRadius:"100%",border:0,background:o.a.grey(2),marginRight:"10px",cursor:"pointer"},"label:Avatar;"),l=Object(c.a)("div",{target:"e64ett71"})({marginLeft:"auto",display:"flex",alignItems:"center"},(function(e){return e.isMobile?{marginLeft:"unset"}:{}}),"label:InfoWrapper;"),b=Object(c.a)("div",{target:"e64ett72"})({display:"flex",alignItems:"center",padding:0,marginLeft:"12px",color:o.b.BaseGrey5(),span:{margin:"0 8px"}},(function(e){return e.isMobile?{marginLeft:"0px",fontSize:"12px",lineHeight:"16px",color:o.b.BaseGrey6()}:{}}),"label:StyledPublishDate;"),p=Object(c.a)("div",{target:"e64ett73"})({display:"flex",alignItems:"center",height:"24px"},"label:MetaData;"),j=Object(c.a)("div",{target:"e64ett74"})({display:"flex",alignItems:"center"},(function(e){return e.isMobile?{a:{display:"inline-flex"}}:{}}),"label:ProfileWrapper;"),O=function(e){return Object(i.a)({"> span:first-of-type":Object(a.__assign)({maxWidth:e?"35px":"110px",":hover":{textDecoration:"underline",color:o.a.grey(8)}},r.l)})},f=function(e){return Object(i.a)(O(e),{"> span:first-of-type":{color:o.b.BaseGrey6(),maxWidth:"150px"}},e?{span:{fontSize:"12px",lineHeight:"16px"}}:{})},g=Object(c.a)("span",{target:"e64ett75"})(d.a.paragraph.md,{color:o.b.BaseGrey5()},"label:QuestionAuthor;")},"8za7":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/system-design.bbb9faf4.png"},A83I:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return a})),function(e){e.Reaction="Reaction",e.Comment="Comment",e.Share="Share",e.Favor="Favor",e.FeatureRequest="FeatureRequest",e.Reply="Reply",e.AllExtra="AllExtra"}(a||(a={}))},AF8X:function(e,t,n){"use strict";n.d(t,"m",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"n",(function(){return r})),n.d(t,"p",(function(){return u})),n.d(t,"r",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"u",(function(){return k})),n.d(t,"o",(function(){return d})),n.d(t,"j",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"k",(function(){return A})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return I})),n.d(t,"t",(function(){return F})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return R})),n.d(t,"a",(function(){return P})),n.d(t,"s",(function(){return q})),n.d(t,"q",(function(){return E})),n.d(t,"h",(function(){return B})),n.d(t,"b",(function(){return Q}));var a=n("YnR9").a.main.paths,i=function(e){var t=e.id,n=e.post,i=n.content,c=n.voteUpCount,o=n.creationDate,r=e.numChildren,s=e.belonging,d="";switch(s&&s.kind){case"SOLUTION":var u=s.solution,l=u.slug,b=u.question.questionTitleSlug;d=a.questionDetail.solutionDetail({questionSlug:b,articleSlug:l})+""+t;break;case"QUESTION":b=s.question.questionTitleSlug;d=a.questionDetail.home({questionSlug:b})+"comments/"+t;break;case"ARTICLE":var p=s.article.uuid;d=a.discuss.articleDetail({articleId:p})+"comments/"+t;break;case"QA_ANSWER":var j=s.qaAnswer,O=j.uuid,f=j.parent.uuid;d=a.discuss.viewCommentShare({discussId:f,viewId:O,commentId:t})}return{id:t,content:i,voteUpCount:c,creationDate:o,replyNum:r||0,link:d}},c=function(e,t){return Number(t)-Number(e)<=1e3},o=function(e){var t=e.slug,n=e.uuid,a=e.title,i=e.identifier,o=e.resourceType,r=e.articleType,s=e.hitCount,d=e.pinnedGlobally,u=e.pinned,l=e.sunk,b=e.createdAt,p=e.updatedAt,j=e.thumbnail,O=e.subject,f=e.tags,g=e.author,_=g.username,m=g.profile,y=m.realName,v=m.userSlug,h=m.userAvatar,x=e.reactionType,k=e.reactionsV2,S=e.isMyFavorite,C=e.topic,w=e.summary,A=e.isEditorsPick,T=e.byLeetcode,I=e.status,D=e.score,F=e.favoriteCount;return{slug:t,identifier:i,resourceType:o,articleType:r,uuid:n,title:a,viewCount:s,pinnedGlobally:d,pinned:u,sunk:l,createdAt:b,updatedAt:p&&!c(b,p)?p:null,thumbnail:j,subject:O,tags:f.map((function(e){var t=e.name,n=e.slug;return{name:e.nameTranslated||t,slug:n}})),author:{name:y||_,slug:v,avatar:h},reactionType:x,reactionsV2:k||[],favored:S,commentCount:C&&C.commentCount||0,summary:w,picked:A,official:T,status:I,score:D||0,favoriteCount:F}},r=function(e){var t=e.uuid,n=e.title,a=e.updatedAt,i=e.thumbnail,c=e.tags,o=e.author,r=o.username,s=o.profile,d=s.realName,u=s.userSlug,l=s.userAvatar;return{uuid:t,title:n,updatedAt:a,thumbnail:i,tags:c.map((function(e){var t=e.name,n=e.slug;return{name:e.nameTranslated||t,slug:n}})),author:{name:d||r,slug:u,avatar:l}}},s=n("+Aeu"),d=function(e){var t,n=e.uuid,a=e.slug,i=e.title,o=e.identifier,r=e.resourceType,d=e.createdAt,u=e.updatedAt,l=e.thumbnail,b=e.summary,p=e.pinnedGlobally,j=e.pinned,O=e.sunk,f=e.numAnswers,g=e.numPeopleInvolved,_=e.numSubscribed,m=e.subscribed,y=e.status,v=e.subject,h=e.content,x=e.hitCount,k=e.byLeetcode,S=e.articleType,C=e.tags,w=e.score,A=e.contentAuthor,T=e.realAuthor,I=e.myAnswerId,D=e.alwaysShow,F=e.alwaysExpand,R=e.favoriteCount,P=e.isMyFavorite,q=e.reactionType,E=e.reactionsV2,L=e.isRecommended,M=e.isRecommendedGlobally,N=e.isAnonymous,z=e.canEdit,B=e.atQuestionTitleSlug,Q=e.ipRegion,W=e.slateValue,H=e.blockComments;try{t=B&&JSON.parse(B)}catch(e){console.error(e)}return{ipRegion:Q,uuid:n,slug:a,identifier:o,resourceType:r,articleType:S,title:i,createdAt:d,updatedAt:u&&!c(d,u)?u:null,thumbnail:l,summary:b,content:h,slateValue:W,pinnedGlobally:p,pinned:j,sunk:!!O,answerCount:f||0,involvedPeopleCount:g||0,viewCount:x||0,subscribedCount:_||0,subscribed:m,official:k,status:y,subject:v,score:w||0,author:Object(s.i)(N,A,T),isAnonymous:N,tags:C.map((function(e){return{name:e.nameTranslated||e.name,slug:e.slug,tagType:e.tagType}})),myAnswerId:I||null,alwaysShow:D,alwaysExpand:F,reactionType:q,reactionsV2:E||[],favoriteCount:R,isMyFavorite:P,isRecommended:L,isRecommendedGlobally:M,canEdit:z,atQuestionTitleSlug:t,blockComments:H}},u=function(e){return"QAAnswerNode"===e.__typename?Object(s.l)(e):d(e)},l=n("D57K"),b=n("//nZ"),p=n.n(b),j=n("nnRT"),O=n.n(j),f=n("pu3o"),g=n.n(f),_=n("ERkP"),m=n("zCf4"),y=["page","query","tag"],v=function(e){return g.a.parse(e,{ignoreQueryPrefix:!0})},h=function(e,t){void 0===t&&(t=y);var n={page:"1",query:"",tag:[]},a=p()(n,t);return Object.keys(a).reduce((function(t,n){var i;return void 0===e[n]?Object(l.__assign)(Object(l.__assign)({},t),((i={})[n]=a[n],i)):t}),e)},x=function(){return y},k=function(e){var t=e.validQueryKeys,n=void 0===t?["page","query","tag"]:t,a=e.setPage,i=e.setQuery,c=e.verifyTagSlugs,o=Object(_.useRef)(!0),r=Object(m.i)(),s=Object(m.j)(),d=s.pathname,u=s.search,l=s.state,b=h(v(u),n),p=b.page,j=b.query,f=b.tag,y={page:"1",query:"",tag:[]},x=Array.isArray(f)?f:"string"===typeof f?[f]:[],k=Object(_.useRef)(y.tag),S=Object(_.useRef)(y.page),C=Object(_.useRef)(y.query);if(S.current!==p&&p&&a&&n.includes("page")&&(a(parseInt(p,10)),S.current=p),C.current!==j&&i&&n.includes("query")){var w=j||"";i(w),C.current=w}return!O()(k.current,x)&&c&&n.includes("tag")&&(c(x),k.current=x),Object(_.useCallback)((function(e){var t=h(e,n),a=g.a.stringify(t,{addQueryPrefix:!0,indices:!1}),i=o.current||a===u?"replace":"push",c=t.page,s=t.query,b=t.tag,p=Array.isArray(b)?b:"string"===typeof b?[b]:[];n.includes("tag")&&(k.current=p),n.includes("page")&&(S.current=c||y.page),n.includes("query")&&(C.current=s||y.query),r[i]({pathname:d,search:a,state:l}),o.current=!1}),[n,d,u,l])},S=n("34li"),C=function(e){return e.articleType===S.p.Question},w=function(e){return e.articleType===S.p.Answer},A=function(e){return e.articleType===S.p.Question},T=function(e){return e.articleType===S.p.Answer},I=function(e){return e.articleType===S.p.Undefined},D=n("ildc"),F=function(e,t){if(!e)return"";var n=Object(D.q)()?t?50:100:135,a=e.length>n;return e.slice(0,n)+(a?"\u2026":"")},R=function(e){return e+"_circle_markdown_template"},P="template",q='### \u7b80\u4ecb\n\n\u300c\u529b\u6263\u7f16\u8f91\u5668\u300d\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u7279\u522b\u7684 Markdown \u7f16\u8f91\u5668\uff0c\u4e4b\u6240\u4ee5\u7279\u522b\u662f\u56e0\u4e3a\u5979\u4e0d\u4ec5\u652f\u6301\u4e86\u4f20\u7edf\u7684 Markdown \u8bed\u6cd5\uff0c\u540c\u65f6\u8fd8\u652f\u6301\u529b\u6263\u72ec\u6709\u7684\u7279\u6b8a\u683c\u5f0f\u548c\u529f\u80fd\u3002\n\n---\n\n### \u652f\u6301\u8bed\u6cd5\n\n#### \u6807\u9898\n\n# heading 1\n## heading 2\n### heading 3\n#### heading 4\n##### heading 5\n###### heading 6\n\n---\n\n\n#### \u5f15\u7528\n\n> \u5728 `>` \u540e\u63d2\u5165\u60a8\u6240\u5e0c\u671b\u5e94\u7528\u7684\u5185\u5bb9\u3002\n\n---\n\n#### \u5217\u8868\n\n> \u65e0\u5e8f\u5217\u8868\n\n- \u6587\u672c\u4e00\n- \u6587\u672c\u4e8c\n- \u6587\u672c\u4e09\n\n> \u6709\u5e8f\u5217\u8868\n\n1. \u6587\u672c\u4e00\n2. \u6587\u672c\u4e8c\n3. \u6587\u672c\u4e09\n\n---\n\n#### \u6587\u5b57\u53d8\u5f62\n\n_\u659c\u4f53_\n*\u659c\u4f53*\n \n__\u7c97\u4f53__\n**\u7c97\u4f53**\n\n---\n\n#### Latex\n\n\u884c\u5185 Latex \u652f\u6301\uff1a$O(n^2)$\u3002\n\n$$m \\leq n,\\  i < m \\implies j = \\frac{m+n+1}{2} - i > \\frac{m+n+1}{2} - m \\geq \\frac{2m+1}{2} - m \\geq 0$$\n\n> \u9700\u8981\u72ec\u884c Latex\uff0c\u8bf7\u4f7f\u7528 `$$` \u5305\u56f4\u3002\n\n---\n\n#### \u4ee3\u7801\n\n\u4f7f\u7528\u4e00\u6bb5 `\u884c\u5185\u4ee3\u7801`\u3002\n\n> \u4ee3\u7801\u7247\u6bb5\n\n```java\npublic class Main {\n    public static void main(String[] args) {\n        System.out.print("\u4f60\u597d\u529b\u6263");\n    }\n}\n```\n\n> \u7ec4\u5408\u4ee3\u7801\u6a21\u5757\n\n```java [solution1-Java \u7b54\u6848]\npublic class Main {\n    public static void main(String[] args) {\n        System.out.print("\u4f60\u597d\u529b\u6263");\n    }\n}\n```\n```python [solution1-Python \u7b54\u6848]\nprint "\u4f60\u597d\u529b\u6263"\n```\n\n---\n\n#### \u8868\u683c\n\n\u540d\u79f0 | \u7f29\u5199\n--- | ---\nJavaScript | js\nPython | py\nC++ | cpp\n\n> \u4f7f\u7528\u5192\u53f7\u5b9a\u4e49\u5bf9\u9f50\u65b9\u5f0f\n\n| \u9898\u53f7 | \u6807\u9898 | \u96be\u6613\u5ea6 |\n| :--- | ---:| :---: |\n| 1 | \u4e24\u6570\u4e4b\u548c | \u7b80\u5355 |\n| 15 | \u4e09\u6570\u4e4b\u548c | \u4e2d\u7b49 |\n| 262 | \u884c\u7a0b\u548c\u7528\u6237 | \u56f0\u96be |\n\n---\n\n#### \u94fe\u63a5\n\n[\u8fd9\u662f\u4e00\u4e2a\u8d85\u7ea7\u94fe\u63a5](https://leetcode.cn)\n\n---\n\n#### \u56fe\u7247\n\n![\u529b\u6263](https://pic.leetcode.cn/056dd17dd0506591d04525f015765ab749e9f9f19dcaf6e0dcae5d77057d2392-15@3x.png){:width=100}\n\n> \u4f7f\u7528\u4f20\u7edf `![\u56fe\u7247\u540d\u79f0](\u56fe\u7247\u5730\u5740)` Markdown \u8bed\u6cd5\uff0c\u6216\u5c06\u56fe\u7247\u76f4\u63a5\u62d6\u62fd\u5230\u7f16\u8f91\u5668\u4e2d\u8fdb\u884c\u4e0a\u4f20\u3002\n>\n> \u53ef\u4ee5\u5728\u56fe\u7247\u5c3e\u90e8\u6dfb\u52a0 `{:width=\u5bbd\u5ea6\u50cf\u7d20}` \u9650\u5236\u56fe\u7247\u5bbd\u5ea6\uff0c\u6216\u8005 `{:height=\u9ad8\u5ea6\u50cf\u7d20}` \u9650\u5236\u56fe\u7247\u9ad8\u5ea6\u3002\n\n---\n\n#### \u89c6\u9891\n\n![\u529b\u6263\u89c6\u9891](562986b1-46d8-48ef-bac6-82685bcedcd8)\n\n\n> \u4f7f\u7528\u5de5\u5177\u680f\u4e2d\u300c\u89c6\u9891\u4e0a\u4f20\u300d\u5de5\u5177\u8fdb\u884c\u4e0a\u4f20\uff0c\u652f\u6301 m4v\u3001mp4\u3001mov\u3001flv \u7b49\u591a\u79cd\u4e3b\u6d41\u89c6\u9891\u683c\u5f0f\u3002\n> \u89c6\u9891\u5185\u5bb9\u9700\u8981\u7b49\u5f85\u4eba\u5de5\u5ba1\u6838\u5b8c\u6210\u540e\u624d\u80fd\u6267\u884c\u64ad\u653e\uff0c\u5ba1\u6838\u671f\u95f4\u4e0d\u5f71\u54cd\u5185\u5bb9\u53d1\u5e03\u3002\n\n---\n\n### \u7ed3\u5c3e\n\n\u4e3a\u4e86\u8ba9\u60a8\u7684\u5185\u5bb9\u53ef\u4ee5\u7ed9\u5927\u5bb6\u5e26\u6765\u6700\u4f73\u7684\u9605\u8bfb\u4f53\u9a8c\uff0c\u6211\u4eec\u63a8\u8350\u60a8\u9075\u5faa\u300c[\u4e2d\u6587\u6587\u6848\u6392\u7248\u6307\u5317](https://github.com/sparanoid/chinese-copywriting-guidelines/blob/master/README.zh-CN.md)\u300d\u3002\n\n\u66f4\u591a Markdown \u8bed\u6cd5\uff0c\u8bf7\u67e5\u770b [\u5b98\u65b9\u6587\u6863](https://www.markdownguide.org/basic-syntax/)\u3002\n\n\u6700\u540e\uff0c\u611f\u8c22\u60a8\u62bd\u7a7a\u9605\u8bfb\u672c\u300c\u529b\u6263\u7f16\u8f91\u5668\u300d\u4f7f\u7528\u8bf4\u660e\uff0c\u795d\u60a8\u521b\u4f5c\u6109\u5feb\uff01',E=function(e){var t=e.slug,n=e.uuid,a=e.title,i=e.identifier,o=e.resourceType,r=e.articleType,s=e.hitCount,d=e.createdAt,u=e.updatedAt,l=e.thumbnail,b=e.tags,p=e.author,j=p.username,O=p.profile,f=O.realName,g=O.userSlug,_=O.userAvatar,m=e.reactionType,y=e.reactionsV2,v=e.isMyFavorite,h=e.topic,x=e.summary,k=e.isEditorsPick,S=e.byLeetcode,C=e.status,w=e.score;return{identifier:i,resourceType:o,articleType:r,slug:t,uuid:n,title:a,viewCount:s,createdAt:d,updatedAt:u&&!c(d,u)?u:null,thumbnail:l,tags:b.map((function(e){var t=e.name,n=e.slug;return{name:e.nameTranslated||t,slug:n}})),author:{name:f||j,slug:g,avatar:_},reactionType:m,reactionsV2:y||[],favored:v,commentCount:h&&h.commentCount||0,summary:x,picked:k,official:S,status:C,score:w||0}},L=n("uZih"),M=n.n(L),N=n("kUU+"),z=n.n(N),B=z()((function(e,t,n){return O()(M()(t,e),M()(n,e))}));z()((function(e,t,n){return O()(p()(t,e),p()(n,e))}));function Q(e){var t=0,n=0;return e.forEach((function(e){e.reactionType===S.gc.Upvote?t+=e.count:n+=e.count})),{voteUpNum:t,emojiNum:n}}},AZQL:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/interview.b8d34858.png"},"D4d+":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n("D57K"),i=n("jg1C"),c=n("3I8i"),o=n("K/af"),r=n("ERkP"),s=n.n(r),d=n("ildc"),u=n("+gd7"),l=n("iXo+"),b=n("wbrp"),p=n("lGXO"),j=(n("42uY"),n("/NrN")),O=n("UmVR"),f=n("cjLm"),g=n("zCf4"),_=n("YnR9"),m=n("Tndj"),y=_.a.main.paths;function v(e){return!!Object(g.k)().viewId?Object(i.jsx)(x,Object(a.__assign)({},e),void 0):Object(i.jsx)(h,Object(a.__assign)({},e),void 0)}function h(e){var t=e.author,n=e.totalRepliesNum,c=e.uuid,o=e.onAddReply,s=e.fetchAnswerPageInfo,d=t.name,l=Object(r.useCallback)((function(){0===n?o(c,d):s({answerId:c,effects:[b.a.ExpandReply]})}),[s,o,n,d,c]);return Object(i.jsx)(u.a,Object(a.__assign)({},e,{onReply:l}),void 0)}function x(e){var t=e.author,n=e.totalRepliesNum,c=e.uuid,o=e.onAddReply,s=e.fetchAnswerPageInfo,d=t.name,l=Object(g.k)().discussId,p=Object(r.useContext)(m.a),j=Object(g.i)(),O=Object(r.useCallback)((function(){p(),j.replace(y.discuss.discussionDetail({discussId:l})),s({answerId:c,effects:0===n?[]:[b.a.ExpandReply]}),0===n&&o(c,d)}),[j,l,p,s,o,n,d,c]);return Object(i.jsx)(u.a,Object(a.__assign)({},e,{onReply:O}),void 0)}var k=n("2yfB"),S=s.a.memo((function(e){var t=e.isExpanded,n=e.questionAuthorSlug,c=e.questionAuthorSuffix,s=e.answerId,d=e.onCollapse,u=e.onEdit,l=e.onAddReply,g=e.fetchAnswerPageInfo,_=e.disabledOperations,m=Object(a.__read)(Object(o.a)(b.f,{scope:s}),2),y=m[0],h=y.loading,x=y.replies,S=y.totalNum,C=y.pageNum,w=m[1],A=w.fetchReplies,T=w.setPageNum,I=Object(r.useRef)(null),D=Object(r.useCallback)((function(e){T(e),A({qaAnswerUuid:s})}),[T,A,s]),F=Object(r.useCallback)((function(e,t){l(e,t,(function(e){g({answerId:e,effects:[]})}))}),[l,g]);return Object(i.jsx)(f.a,Object(a.__assign)({isActive:t&&!h,contentRef:I},{children:Object(i.jsxs)(k.i,Object(a.__assign)({ref:I},{children:[x.map((function(e){return Object(i.jsx)(k.j,{children:Object(i.jsx)(v,Object(a.__assign)({},e,{questionAuthorSlug:n,questionAuthorSuffix:c,onEdit:u,onAddReply:F,fetchAnswerPageInfo:g,disabledOperations:_}),void 0)},e.uuid)})),S>5&&Object(i.jsxs)(k.h,{children:[Object(i.jsx)(p.a,{total:S,pageSize:5,current:C,onChange:D,showSizeChanger:!1},void 0),Object(i.jsx)(j.a,Object(a.__assign)({kind:"transparent",size:"sm",prefixIcon:Object(i.jsx)(O.a,{},void 0),onClick:d},{children:"\u6536\u8d77"}),void 0)]},void 0)]}),void 0)}),void 0)})),C=s.a.memo((function(e){var t=e.questionAuthorSuffix,n=e.questionAuthorSlug,s=e.detail,p=e.onEdit,j=e.onReply,O=e.fetchAnswerPageInfo,f=e.getCopyLink,g=e.forceExpanded,_=e.scrollingElementRef,m=e.disabledOperations,y=s.uuid,v=s.totalRepliesNum,h=s.author.name,x=Object(a.__read)(Object(o.a)(b.f,{scope:y}),2)[1],k=x.fetchReplies,C=x.setPageNum,w=Object(a.__read)(Object(o.a)(b.g),1)[0].afterScrollEffects,A=Object(a.__read)(Object(r.useState)(!1),2),T=A[0],I=A[1],D=Object(r.useCallback)((function(){C(1),k({qaAnswerUuid:y}),I(!0)}),[C,k,y]),F=Object(r.useCallback)((function(){T?I(!1):v>0?(I(!0),k({qaAnswerUuid:y})):j(y,h,D)}),[T,v,y,k,j,h,D]),R=Object(r.useCallback)((function(e,t){j(e,t,D)}),[j,D]),P=Object(r.useCallback)((function(){w.includes(b.a.ExpandReply)&&(I(!0),k({qaAnswerUuid:y}))}),[w,y,k]),q=function(e,t,n){var i,s,d=Object(r.useRef)(null),u=Object(a.__read)(Object(o.a)(b.g),2),p=u[0].scrollIntoViewAnswerId,j=u[1].setScrollIntoViewAnswerId,O=Object(r.useRef)(t),f=null!==(s=null!==(i=null===n||void 0===n?void 0:n.current)&&void 0!==i?i:window.document.scrollingElement)&&void 0!==s?s:window.document.documentElement;O.current!==t&&(O.current=t);return Object(r.useEffect)((function(){var t=d.current;if(e===p&&t&&f){var n=function(e,t){var n=e.getBoundingClientRect().top,a=e.clientHeight,i=t.clientHeight,c=t.scrollTop;return Math.max(0,a>i/2-10?n+c-10:n+c-i/2+a+10)}(t,f);c.a.timeline().add({targets:f,scrollTop:n,duration:300,easing:"linear",complete:function(){O.current()}}).add({targets:t,duration:3600,begin:function(){t.classList.add(l.b)},complete:function(){j(null),t.classList.remove(l.b)}})}}),[f,e,p,j]),Object(r.useEffect)((function(){return function(){var e;null===(e=d.current)||void 0===e||e.classList.remove(l.b),c.a.remove([f,d.current])}}),[f]),d}(y,P,_),E=Object(r.useCallback)((function(){I(!1)}),[]);return Object(i.jsxs)(l.a,Object(a.__assign)({ref:q,isMobile:Object(d.q)()},{children:[Object(i.jsx)(u.a,Object(a.__assign)({},s,{onEdit:p,onReply:F,onAddReply:R,fetchAnswerPageInfo:O,getCopyLink:f,questionAuthorSuffix:t,questionAuthorSlug:n,forceExpanded:g,replyToVisible:!0,isReplyExpanded:T,disabledOperations:m}),void 0),Object(i.jsx)(S,{isExpanded:T,questionAuthorSlug:n,questionAuthorSuffix:t,answerId:y,onCollapse:E,onEdit:p,onAddReply:j,fetchAnswerPageInfo:O,disabledOperations:m},void 0)]}),void 0)}))},EAFy:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/operating-system.197708f7.png"},EXDh:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/question-discuss.e28a85ea.png"},F2zA:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return j}));var a=n("f7k3"),i=n("TMWK"),c=n("fgAA"),o=n("IDXw"),r=n("a9yc"),s=n("kCEr"),d=n("WwGZ"),u=16,l=Object(a.b)(r.h,s.d,{body:{overflow:"unset"}},"label:globalStyle;"),b=Object(i.a)("div",{target:"e1mm7h4g0"})((function(e){var t;return(t={flex:"1 1 auto",backgroundColor:e.isWhite?c.b.Layer1():c.b.LayerBg()})[c.c]={backgroundColor:c.b.LayerBg()},t}),(function(){return{padding:"10px 0px",minWidth:o.f}}),(function(e){return e.isMobile?{padding:"0px",width:"100%",minWidth:"unset"}:{}}),"label:Wrapper;"),p=Object(i.a)("div",{target:"e1mm7h4g1"})({maxWidth:o.b,padding:"0 24px",margin:"0 auto",display:"flex",justifyContent:"center"},(function(e){return e.isMobile?{padding:"0px"}:{}}),"label:ContentWrapper;"),j=Object(a.b)(d.a.layer1,{borderRadius:o.p,boxShadow:"0px 1px 2px "+c.b.fixed.Black(.1)+", 0px 2px 8px "+c.b.fixed.Black(.08)},"label:cardStyle;")},GlVj:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return T}));var a=n("D57K"),i=n("DuHN"),c=(n("IJu9"),n("K/af")),o=n("ERkP"),r=n("zCf4"),s=n("YnR9"),d=n("xqpu"),u=n("+Aeu"),l=n("UqMZ"),b=n("ehcH"),p=n("34li"),j=n("VxrX"),O=n("mH2o"),f=s.a.main.paths,g=function(e,t,n,c){var o=e.uuid,r=e.slug,s=e.author,d=e.reactionType,u=e.reactionsV2,b=e.favored,O=e.picked,g=e.official,_=e.identifier,m=e.resourceType,y=e.articleType,v=e.pinned,h=e.pinnedGlobally,x=e.sunk,k=e.status,S=s&&s.slug,C=n.userSlug===S,w=l.a.ensureSignedIn((function(){b?(t.removeFavorite(o),i.b.success("\u5df2\u53d6\u6d88\u6536\u85cf")):(t.addFavorite(o),i.b.success("\u5df2\u6536\u85cf"))}),{user:n});return{reactionV2:Object(a.__assign)({articleId:o,onReact:function(e){var n=e.reactedWith,a=e.articleId,i=e.prevReactedWith;i&&n===i?t.removeReaction(a):t.addReaction({articleId:a,reactionType:n})},reactedWith:d},u&&u.length?{countMap:new Map(u.map((function(e){return[e.reactionType,e.count]})))}:{}),favor:{favored:b,toggleFavorite:w},share:{link:"https://leetcode.cn"+f.discuss.articleDetail({articleId:o}),onClick:function(){return j.a.discuss.discussShareArticle(o)}},extraButton:{uuid:o,isAuthor:C,type:y,resourceId:_,resourceType:m,status:k,requestToFeatured:function(){return t.setFeaturedRequest({slug:r,resourceType:p.eb.Article})},onDelete:function(){return C?t.deleteArticle(o):t.managementDeleteArticle({uuid:o,slug:r})},onEdit:function(){return c.push(f.discuss.writeArticle({articleId:o}))},pinSite:{pinnedGlobally:h,togglePinnedGlobally:function(){return t.togglePinnedGlobally({articleId:o,pinned:!h})}},pin:{pinnedInSubject:v,togglePinnedInSubject:function(){return t.togglePinnedInSubject({articleId:o,pinned:!v})}},sink:{sunk:x,toggleSunk:function(){return t.toggleSunk({articleId:o,sunk:!x})}},selection:{picked:O,togglePicked:function(){return t.togglePicked({articleId:o,picked:!O})}},auth:{official:g,toggleOfficial:function(){return t.toggleOfficial({articleId:o,official:!g})}},withdraw:{onWithdrawOk:function(){return j.a.discuss.discussWithdrawArticle(o)}}}}},_=function(e){var t=Object(r.i)(),n=Object(o.useContext)(d.d),i=Object(a.__read)(Object(c.a)(O.c),2)[1],s=Object(a.__read)(Object(c.a)(u.f),2)[1].setFeaturedRequest,l=g(e,Object(a.__assign)(Object(a.__assign)({},i),{setFeaturedRequest:s}),n,t),b=e.uuid,p={comment:{commentCount:e.commentCount,onClick:function(){return t.push(f.discuss.articleDetail({articleId:b}))}}};return Object(o.useMemo)((function(){return Object(a.__assign)(Object(a.__assign)({},l),p)}),[e,n])},m=function(e){var t=Object(r.i)(),n=Object(o.useContext)(d.d),i=Object(a.__read)(Object(c.a)(O.c),2)[1],s=Object(a.__read)(Object(c.a)(u.f),2)[1].setFeaturedRequest,j=Object(b.b)(),f=g(e,Object(a.__assign)(Object(a.__assign)({},i),{setFeaturedRequest:s}),n,t),_=e.uuid,m=e.subscribed,y={subscribe:{subscribed:m,toggleSubscribed:l.a.ensureSignedIn(j((function(){return i.toggleSubscribed({articleId:_,subscribed:!m})}),[p.s.Posting]),{user:n})},loose:!0};return Object(o.useMemo)((function(){return Object(a.__assign)(Object(a.__assign)({},f),y)}),[e,n])},y=s.a.main.paths,v=function(e){var t=Object(r.i)(),n=Object(o.useContext)(d.d),i=Object(a.__read)(Object(c.a)(O.c),2)[1],s=Object(a.__read)(Object(c.a)(u.f),2)[1].setFeaturedRequest,b=function(e,t,n,i){var c=e.uuid,o=e.slug,r=e.author,s=e.reactionType,d=e.reactionsV2,u=e.favored,b=e.picked,O=e.official,f=e.identifier,g=e.resourceType,_=e.articleType,m=e.pinned,v=e.pinnedGlobally,h=e.sunk,x=e.status,k=r&&r.slug,S=n.userSlug===k,C=l.a.ensureSignedIn((function(){u?t.removeFavorite(c):t.addFavorite(c)}),{user:n});return{reactionV2:Object(a.__assign)({articleId:c,onReact:function(e){var n=e.reactedWith,a=e.articleId,i=e.prevReactedWith;i&&n===i?t.removeReaction(a):t.addReaction({articleId:a,reactionType:n})},reactedWith:s},d&&d.length?{countMap:new Map(d.map((function(e){return[e.reactionType,e.count]})))}:{}),favor:{favored:u,toggleFavorite:C},share:{link:"https://leetcode.cn"+y.discuss.articleDetail({articleId:c}),onClick:function(){return j.a.discuss.discussShareArticle(c)}},extraButton:{uuid:c,isAuthor:S,type:_,resourceId:f,resourceType:g,status:x,requestToFeatured:function(){return t.setFeaturedRequest({slug:o,resourceType:p.eb.Article})},onDelete:function(){return S?t.deleteArticle(c):t.managementDeleteArticle({uuid:c,slug:o})},onEdit:function(){return i.push(y.discuss.writeArticle({articleId:c}))},pinSite:{pinnedGlobally:v,togglePinnedGlobally:function(){return t.togglePinnedGlobally({articleId:c,pinned:!v})}},pin:{pinnedInSubject:m,togglePinnedInSubject:function(){return t.togglePinnedInSubject({articleId:c,pinned:!m})}},sink:{sunk:h,toggleSunk:function(){return t.toggleSunk({articleId:c,sunk:!h})}},selection:{picked:b,togglePicked:function(){return t.togglePicked({articleId:c,picked:!b})}},auth:{official:O,toggleOfficial:function(){return t.toggleOfficial({articleId:c,official:!O})}},withdraw:{onWithdrawOk:function(){return j.a.discuss.discussWithdrawArticle(c)}}}}}(e,Object(a.__assign)(Object(a.__assign)({},i),{setFeaturedRequest:s}),n,t),f=e.uuid,g=e.commentCount,_=e.viewCount,m=e.favoriteCount,v=y.discuss.articleDetail({articleId:f}),h={viewCount:_,viewLink:v,favoriteCount:m,comment:{commentCount:g,onClick:function(){return t.push(v)}}};return Object(o.useMemo)((function(){return Object(a.__assign)(Object(a.__assign)({},b),h)}),[e,n])},h=(n("H8sf"),s.a.main.paths),x=function(e,t,n,c,r){var s=e.uuid,d=e.author,u=e.official,b=e.identifier,j=e.resourceType,O=e.pinned,f=e.pinnedGlobally,g=e.sunk,_=e.articleType,m=e.alwaysShow,y=e.reactionType,v=e.reactionsV2,h=e.isRecommended,x=e.isRecommendedGlobally,k=e.canEdit,S=e.status,C=e.isMyFavorite,w=e.blockComments,A=d&&d.slug,T=c.userSlug===A,I=Object(a.__read)(Object(o.useState)(C),2),D=I[0],F=I[1];return{favor:{favored:D,toggleFavorite:l.a.ensureSignedIn((function(){t.toggleFavoriteQuestion({uuid:s,isFavorited:D,callback:function(){F(!D),i.b.success(D?"\u5df2\u53d6\u6d88\u6536\u85cf":"\u5df2\u6536\u85cf")}})}),{user:c})},reactionV2:Object(a.__assign)({articleId:s,onReact:function(e){var n=e.reactedWith,a=e.articleId,i=e.prevReactedWith;i&&n===i?t.removeQuestionReaction(a):t.addQuestionReaction({articleId:a,reactionType:n}),r&&r("react")},reactedWith:y},v&&v.length?{countMap:new Map(v.map((function(e){return[e.reactionType,e.count]})))}:{}),extraButton:{uuid:s,canEdit:k,isAuthor:T,type:_,resourceId:b,resourceType:j,status:S,onDelete:function(){return c.isAdmin?t.managementDeleteQuestion(s):t.deleteQuestion(s)},onEdit:function(){e.slateValue?i.b.info("\u7f16\u8f91\u5668\u4f18\u5316\u4e2d\uff0c\u6682\u4e0d\u53ef\u7f16\u8f91"):n(s)},alwaysShowQuestion:{alwaysShow:m,toggleQuestionAlwaysShow:function(){return t.setQuestionMetaData({questionId:s,metaField:p.m.AlwaysShow,value:!m})}},blockComments:{blockComments:w,toggleQuestionBlockComments:function(){return t.setQuestionMetaData({questionId:s,metaField:p.m.BlockComments,value:!w})}},pinSite:{pinnedGlobally:f,togglePinnedGlobally:function(){return t.togglePinQuestionGlobally({questionId:s,pinned:!f})}},pin:{pinnedInSubject:O,togglePinnedInSubject:function(){return t.togglePinQuestionInSubject({questionId:s,pinned:!O})}},sink:{sunk:g,toggleSunk:function(){return t.toggleSunk({uuid:s,sunk:!g})}},auth:{official:u,toggleOfficial:function(){return t.toggleOfficialQuestion({uuid:s,value:!u})}},recommend:{recommended:h,toggleRecommended:function(){return t.toggleQuestionRecommend({uuid:s,value:!h})}},recommendGlobally:{recommendedGlobally:x,toggleRecommendedGlobally:function(){return t.setQuestionAsGlobalRecommendation({qaQuestionId:s,value:!x})}}}}},k=function(e,t){var n=Object(r.i)(),i=Object(o.useContext)(d.d),s=Object(a.__read)(Object(c.a)(O.o),2),f=s[0],g=s[1],_=Object(a.__read)(Object(c.a)(u.b),2),m=_[0],y=_[1].toggleSunk,v=Object(a.__read)(Object(c.a)(O.g),2)[1].restoreEditor,k=Object(b.b)(),S=Object(a.__read)(Object(c.a)(O.p),2),C=(S[0],S[1].getQuestionDetail);Object(o.useEffect)((function(){t||(f.timespan>0||m.timespan>0)&&C(e.uuid)}),[f.timespan,m.timespan,t]);var w=x(e,Object(a.__assign)(Object(a.__assign)({},g),{toggleSunk:y}),v,i,t),A=e.uuid,T=e.answerCount,I=e.subscribedCount,D=e.subscribed,F=e.viewCount,R=e.favoriteCount,P=e.isMyFavorite,q=Object(a.__read)(Object(o.useState)(P),2),E=q[0],L=q[1],M=Object(a.__read)(Object(o.useState)(R),2),N=M[0],z=M[1],B=Object(o.useCallback)((function(){n.push(h.discuss.discussionDetail({discussId:A}))}),[n,A]),Q=Object(o.useCallback)((function(){g.toggleFavoriteQuestion({uuid:A,isFavorited:E}),z(E?N-1:N+1),L(!E),t&&t("favorite")}),[g,N,E,t,A]),W={viewCount:F,viewLink:h.discuss.discussionDetail({discussId:A}),favoriteCount:N,answer:{count:T},share:{link:"https://leetcode.cn"+h.discuss.discussionDetail({discussId:A}),onClick:function(){j.a.discuss.discussShareQuestion(A),t&&t("share")}},subscription:{count:I,subscribed:D,toggleSubscribed:function(){l.a.ensureSignedIn(k((function(){return g.toggleSubscribeQuestion({uuid:A,subscribed:!D})}),[p.s.Posting]),{user:i})}},favorite:{isFavorited:E,toggleFavorited:Q},onReply:B};return Object(a.__assign)(Object(a.__assign)({},w),W)};n("jg1C"),n("+SGW");var S=n("nnm9"),C=n.n(S),w=s.a.main.paths,A=function(e,t,n){var i=e.slug,c=e.title,o=e.uuid,r=e.author,s=e.reactionType,d=e.reactionsV2,u=e.favored,b=e.identifier,j=e.resourceType,O=e.articleType,f=e.status,g=r&&r.slug,_=n.userSlug===g,m=l.a.ensureSignedIn((function(){u?t.removeFavorite(o):t.addFavorite(o)}),{user:n});return{reactionV2:Object(a.__assign)({articleId:o,onReact:function(e){var n=e.reactedWith,a=e.articleId,i=e.prevReactedWith;i&&n===i?t.removeReaction(a):t.addReaction({articleId:a,reactionType:n})},reactedWith:s},d&&d.length?{countMap:new Map(d.map((function(e){return[e.reactionType,e.count]})))}:{}),favor:{favored:u,toggleFavorite:m},share:{link:"https://leetcode.cn"+w.discuss.solutionDetail({solutionId:o})},extraButton:{uuid:o,isAuthor:_,type:O,resourceId:b,resourceType:j,status:f,requestToFeatured:function(){return t.setFeaturedRequest({slug:i,resourceType:p.eb.Solution})},onDelete:function(){return _?t.deleteArticle(o):t.managementDeleteArticle({slug:i,uuid:o})},withdraw:{onWithdrawOk:C.a},articleFeedback:{slug:i,title:c}}}},T=function(e){var t=Object(o.useContext)(d.d),n=Object(a.__read)(Object(c.a)(O.c),2)[1],i=Object(a.__read)(Object(c.a)(u.f),2)[1].setFeaturedRequest,r=A(e,Object(a.__assign)(Object(a.__assign)({},n),{setFeaturedRequest:i}),t),s={loose:!0};return Object(o.useMemo)((function(){return Object(a.__assign)(Object(a.__assign)({},r),s)}),[e,t])};n("1U1M"),n("Ch6N"),n("gd5h"),n("Fk11"),n("q7Y+")},HOg7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("3dHC"),i=n.n(a),c=n("1xil"),o=n.n(c),r=n("lKOy"),s=n.n(r),d=n("ERkP"),u=n("jWBs");function l(e){var t=Object(u.a)(),n=t.usernameConfigs,a=t.getUsernameConfigs,c=i()(o()(e.map((function(e){var t=e.author,n=e.replyTo;return[t.slug,null===n||void 0===n?void 0:n.author.slug]})))),r=s()(c,Object.keys(n));Object(d.useEffect)((function(){a(r)}),[a,r])}},ICpN:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("jg1C"),i=n("TMWK"),c=n("ERkP"),o=n.n(c),r=n("AbD5"),s=Object(i.a)(r.a,{target:"e7aqiul0"})({marginLeft:"10px",borderRadius:"5px"},"label:StyledTag;"),d=o.a.memo((function(e){var t=e.sticky,n=void 0!==t&&t,i=e.official,c=void 0!==i&&i,o=e.picked,r=void 0!==o&&o,d=e.recommended,u=void 0!==d&&d,l=e.muted,b=void 0!==l&&l;return Object(a.jsxs)(a.Fragment,{children:[n&&Object(a.jsx)(s,{kind:"blue",size:"xs",content:"\u7f6e\u9876"},void 0),c&&Object(a.jsx)(s,{kind:"yellow",size:"xs",content:"\u5b98\u65b9"},void 0),r&&Object(a.jsx)(s,{kind:"green",size:"xs",content:"\u7cbe\u9009"},void 0),u&&Object(a.jsx)(s,{kind:"green",size:"xs",content:"\u63a8\u8350"},void 0),b&&Object(a.jsx)(s,{kind:"default",size:"xs",content:"\u7070\u5c4f"},void 0)]},void 0)}))},II0I:function(e,t,n){"use strict";n.d(t,"a",(function(){return Te}));var a=n("D57K"),i=n("jg1C"),c=n("K/af"),o=n("ERkP"),r=n.n(o),s=n("zCf4"),d=n("YnR9"),u=n("ZRwv"),l=n("1QlS"),b=n("mQQu"),p=n("ttV/"),j=n("ildc"),O=n("d9Fc"),f=n("l1SX"),g=n("Pigy"),_=n("Aw0H"),m=n("2pK+"),y=n("Blax"),v=n("+Aeu"),h=n("jWBs"),x=n("9KnD"),k=n("M+N8"),S=n("eV7j"),C=n("RP75"),w=n("34li"),A=n("r2qc"),T=n("+0ST"),I=n("mH2o"),D=n("NbVC"),F=(n("xH0B"),n("daAW")),R=n("JFCy"),P=n("D4d+"),q=n("u5/7"),E=n("Tndj"),L=n("bz6h"),M=n("+75L"),N=n("jta8"),z=d.a.main.paths,B=r.a.memo((function(e){var t,n=e.questionId,r=e.answerId,s=Object(a.__read)(Object(c.a)(I.p),2),d=s[0],u=d.question,l=d.answers,b=d.sharedAnswer,p=d.sharedAnswerLoading,O=d.orderBy,_=d.pageNum,m=d.pageSize,y=s[1],x=Object(a.__read)(Object(c.a)(I.a),2)[1].fetchAnswerPageInfo,k=Object(h.a)().getUsernameConfigs,S=Object(a.__read)(Object(o.useState)(!r),2),C=S[0],T=S[1],B=Object(a.__read)(Object(v.q)(),2),Q=B[0],W=B[1],H=!(!r||C),U=null!==(t=null===u||void 0===u?void 0:u.author.slug)&&void 0!==t?t:"";Object(o.useEffect)((function(){C&&y.getAnswerList({questionUuid:n,orderBy:O,pageNum:_})}),[n,O,C,y,_]),Object(o.useEffect)((function(){r&&!C&&y.getAnswer(r)}),[r,C,y]),Object(o.useEffect)((function(){var e=null===b||void 0===b?void 0:b.author.slug,t=l.list.map((function(e){return e.author.slug}));k(Object(a.__spread)([e],t))}),[l.list,k,null===b||void 0===b?void 0:b.author.slug]);var G=Object(o.useCallback)((function(e){y.setPageNum(e),W()}),[y,W]),V=Object(o.useCallback)((function(e){y.setOrderBy(e),y.setPageNum(1)}),[y]),K=Object(o.useCallback)((function(){T(!0),y.clearSharedAnswer(),y.disposeSharedAnswer$()}),[y]),$=Object(v.o)(),Y=Object(v.p)(n),X=Object(o.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Y.apply(void 0,Object(a.__spread)(e)),L.a.circleQuestionReplyClick()}),[Y]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(q.a,{},void 0),H?null:Object(j.q)()?Object(i.jsx)(N.q,{children:Object(i.jsx)(D.a,Object(a.__assign)({activeKey:O,onChange:V},{children:M.a.map((function(e){var t=e.key,n=e.name;return Object(i.jsx)(D.a.TabPane,{tab:n+"\u56de\u590d"},t)}))}),void 0)},void 0):Object(i.jsxs)(N.y,{children:[Object(i.jsx)(N.c,{children:"\u5171 "+l.totalNum+" \u4e2a\u56de\u590d"},void 0),Object(i.jsx)(A.w,{activeSortingOption:O,sortingOptions:M.a,onOptionSelect:V},void 0)]},void 0),H?p?Object(i.jsx)(N.j,{children:Object(i.jsx)(f.a,{height:"100%"},void 0)},void 0):Object(i.jsxs)(i.Fragment,{children:[b?Object(i.jsx)(E.a.Provider,Object(a.__assign)({value:K},{children:Object(i.jsx)(P.a,{questionAuthorSlug:U,detail:b,onEdit:$,onReply:X,fetchAnswerPageInfo:x,forceExpanded:!0},void 0)}),void 0):Object(i.jsx)(N.j,{children:Object(i.jsx)(g.a,{type:"img",size:R.c,description:"\u8be5\u8ba8\u8bba\u5df2\u88ab\u5220\u9664"},void 0)},void 0),u&&u.answerCount>1&&Object(i.jsx)(F.a,Object(a.__assign)({to:z.discuss.discussionDetail({discussId:n}),replace:!0},{children:Object(i.jsx)(N.k,Object(a.__assign)({onClick:K},{children:"\u5c55\u5f00\u5168\u90e8 "+u.answerCount+" \u8ba8\u8bba"}),void 0)}),void 0)]},void 0):null,H?null:l.loading?Object(i.jsx)(N.i,Object(a.__assign)({isMobile:Object(j.q)()},{children:Object(i.jsx)(f.a,{},void 0)}),void 0):l.isEmpty?Object(i.jsx)(N.i,Object(a.__assign)({isMobile:Object(j.q)()},{children:Object(i.jsx)(g.a,{type:"img",size:R.c,description:"\u6682\u65e0\u56de\u590d"},void 0)}),void 0):Object(i.jsxs)(i.Fragment,{children:[Q,Object(i.jsx)(N.o,Object(a.__assign)({isMobile:Object(j.q)()},{children:l.list.map((function(e,t){var n=0===t&&O===w.Yb.Hottest&&!!e.reactionsV2.find((function(e){return e.reactionType===w.gc.Upvote&&e.count>=5}));return Object(i.jsx)(P.a,{questionAuthorSlug:U,detail:e,onEdit:$,onReply:X,fetchAnswerPageInfo:x,forceExpanded:n},e.uuid)}))}),void 0),Object(i.jsx)(A.q,{current:_,total:l.totalNum,pageSize:m,onChange:G},void 0)]},void 0)]},void 0)})),Q=n("xqpu"),W=n("60w7"),H=n("e96/"),U=n("fgzu"),G=n("hMUt"),V=n("Q/bO"),K=n("Po8h"),$=n("yxrP"),Y=n("sqX5"),X=n("YkLR"),J=n("p9o4"),Z=n("6V3P"),ee=n("0FzZ"),te=n("9mAl"),ne=n("oYRR"),ae=n("ehcH"),ie=n("UqMZ"),ce=n("gQka"),oe=n("GlVj"),re=d.a.main.paths,se=function(e){var t=e.question,n=Object(a.__read)(Object(c.a)(I.o),2)[1],r=Object(a.__read)(Object(c.a)(I.a),2)[1].fetchAnswerPageInfo,d=Object(s.i)(),l=Object(o.useContext)(Q.d),b=Object(oe.d)(t),p=Object(ae.b)(),O=Object(v.m)({qaQuestionUuid:t.uuid,fetchAnswerPageInfo:r,onReply:function(){d.replace(re.discuss.discussionDetail({discussId:t.uuid})),L.a.circleQuestionAddAnswerClick()}}),f=Object(a.__read)(Object(c.a)(u.a),1)[0].globalData,g=Object(o.useMemo)((function(){return{onSubscribe:ie.a.ensureSignedIn(p((function(){n.toggleSubscribeQuestion({uuid:t.uuid,subscribed:!t.subscribed})}),[w.s.Posting]),{user:l}),onFavorite:ie.a.ensureSignedIn(p((function(){n.toggleFavoriteQuestion({uuid:t.uuid,isFavorited:t.isMyFavorite})}),[]),{user:l}),onShare:function(){H.a.copy("https://leetcode.cn"+re.discuss.discussionDetail({discussId:t.uuid}),(function(){U.a.success("\u5df2\u590d\u5236\u5206\u4eab\u94fe\u63a5")}))},onAnswer:function(){var e;(null===(e=null===f||void 0===f?void 0:f.userStatus)||void 0===e?void 0:e.isSignedIn)?O():ie.a.signIn({})}}}),[t,p,l,n,O]),_=Object(o.useRef)(null),m=Object(a.__read)(Object(o.useState)(!1),2),y=m[0],h=m[1];return Object(o.useEffect)((function(){var e=new IntersectionObserver((function(e){var t=Object(a.__read)(e,1)[0];h(t.intersectionRatio<1)}),{threshold:1,rootMargin:"0px 0px -1px 0px"});if(_.current)return e.observe(_.current),function(){e.disconnect()}}),[]),Object(i.jsxs)(N.s,Object(a.__assign)({ref:_,isMobile:Object(j.q)(),sticky:y},{children:[Object(i.jsx)(ce.a,Object(a.__assign)({isDiscuss:!0},b.reactionV2),void 0),Object(i.jsx)(K.h,{},void 0),Object(j.q)()&&Object(i.jsx)(K.d,Object(a.__assign)({kind:"transparent",prefixIcon:Object(i.jsx)(Y.a,{},void 0)},{children:Object(W.c)(t.viewCount)}),void 0),Object(i.jsx)($.b,Object(a.__assign)({isFavorited:t.isMyFavorite,kind:"transparent",prefixIcon:t.isMyFavorite?Object(i.jsx)(X.a,{},void 0):Object(i.jsx)(J.a,{},void 0),onClick:g.onFavorite},{children:Object(j.q)()?Object(W.c)(t.favoriteCount):t.isMyFavorite?"\u5df2\u6536\u85cf":"\u6536\u85cf"}),void 0),Object(i.jsx)(K.d,Object(a.__assign)({kind:"transparent",prefixIcon:Object(i.jsx)(Z.a,{},void 0),onClick:g.onShare},{children:Object(j.q)()?"":"\u5206\u4eab"}),void 0),Object(i.jsx)(N.l,{children:Object(i.jsx)(V.a,Object(a.__assign)({buttonKind:"transparent"},b.extraButton),void 0)},void 0),!Object(j.q)()&&Object(i.jsxs)("div",Object(a.__assign)({style:{marginLeft:"auto"}},{children:[!t.blockComments&&Object(i.jsx)(N.w,Object(a.__assign)({kind:"primary",prefixIcon:Object(i.jsx)(ee.a,{},void 0),onClick:g.onAnswer},{children:"\u56de\u590d\u8ba8\u8bba"}),void 0),Object(i.jsx)(G.a,Object(a.__assign)({size:"md",prefixIcon:t.subscribed?Object(i.jsx)(te.a,{},void 0):Object(i.jsx)(ne.a,{},void 0),onClick:g.onSubscribe},{children:t.subscribed?"\u5173\u95ed\u63d0\u9192":"\u63a5\u6536\u52a8\u6001"}),void 0)]}),void 0)]}),void 0)},de=n("fgAA"),ue=n("OJn1"),le=n("CZCR"),be=n("6H+M"),pe=n("cPtI"),je=d.a.main.paths,Oe=Object(o.memo)((function(e){var t=e.question,n=t.author,c=t.isAnonymous,r=Object(a.__rest)(t,["author","isAnonymous"]),s=Object(o.useContext)(Q.d).isAdmin&&c?n.name+"\uff08\u533f\u540d\u53d1\u5e03\uff09":n.name;return Object(j.q)()?Object(i.jsxs)(N.v,Object(a.__assign)({isMobile:!0},{children:[Object(i.jsxs)(N.r,{children:[Object(i.jsx)("a",Object(a.__assign)({href:je.publicProfile.home({userSlug:n.slug}),target:"_blank"},{children:Object(i.jsx)(pe.a,{userSlug:n.slug,realName:s,defaultColor:de.a.grey(5),fontSize:"12px"},void 0)}),void 0),Object(i.jsxs)(N.n,{children:["\u53d1\u8d77\u4e8e ",Object(ue.a)(r.createdAt)]},void 0)]},void 0),Object(i.jsxs)(N.r,{children:[r.updatedAt&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(N.n,{children:["\u6700\u8fd1\u7f16\u8f91\u4e8e ",Object(ue.a)(r.updatedAt)]},void 0),Object(i.jsx)(be.d,{},void 0)]},void 0),Object(i.jsx)(N.n,{children:Object(le.b)(r.ipRegion)},void 0)]},void 0)]}),void 0):Object(i.jsxs)(N.v,Object(a.__assign)({isMobile:!1},{children:[Object(i.jsx)("a",Object(a.__assign)({href:je.publicProfile.home({userSlug:n.slug}),target:"_blank"},{children:Object(i.jsx)(pe.a,{userSlug:n.slug,realName:s,defaultColor:de.a.grey(5),fontSize:"12px",hideReputation:!0},void 0)}),void 0),Object(i.jsxs)(N.n,{children:["\u53d1\u8d77\u4e8e ",Object(ue.a)(r.createdAt)]},void 0),r.updatedAt&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(be.d,{},void 0),Object(i.jsxs)(N.n,{children:["\u6700\u8fd1\u7f16\u8f91\u4e8e ",Object(ue.a)(r.updatedAt)]},void 0)]},void 0),Object(i.jsx)(be.d,{},void 0),Object(i.jsx)(N.n,{children:Object(le.b)(r.ipRegion)},void 0)]}),void 0)})),fe=n("Y9Gt"),ge=n("/NrN"),_e=n("uhc8"),me=n("iUO6"),ye=n.n(me),ve=n("sBqR"),he=n("O94r"),xe=n.n(he),ke=function(e){var t=e.id,n=e.onAdLoadFailed,c=e.onCloseAd,r=Object(a.__read)(Object(o.useState)("_"+Math.random().toString(36).slice(2)),1)[0];return Object(o.useEffect)((function(){try{if("object"===typeof window){var e=window;if((e.slotbydup=e.slotbydup||[]).push({noAd:n,closeAd:c},{id:t,container:r,async:!0,productLine:"adcodexr"}),!e.isLoadUnionAdScript){var a=document.createElement("script");a.type="text/javascript",a.src="//cpro.baidustatic.com/cpro/ui/cm.js",a.async=!0,a.defer=!0,a.onerror=function(){document.body.removeChild(a),e.isLoadUnionAdScript=!1,null===n||void 0===n||n()},document.body.appendChild(a),e.isLoadUnionAdScript=!0}}}catch(e){}}),[]),Object(i.jsx)("div",{id:r},void 0)},Se=function(e){var t,n=e.id,c=e.width,r=e.height,s=e.onAdLoadFailed,d=e.onCloseAd,u=Object(a.__read)(Object(o.useState)(!1),2),l=u[0],b=u[1],p=Object(a.__read)(Object(o.useState)(null),2),j=p[0],O=p[1],f=function(e,t){var n=Object(a.__read)(Object(o.useState)(null),2),i=n[0],c=n[1],r=t.threshold,s=t.root,d=t.rootMargin,u=t.enabled,l=void 0===u||u;return Object(o.useEffect)((function(){if(l&&e&&"function"===typeof IntersectionObserver){var t=new IntersectionObserver((function(e){c(e[0])}),{threshold:r,root:s,rootMargin:d});return t.observe(e),function(){c(null),t.disconnect()}}}),[e,r,s,d,l]),i}(j,{threshold:.5}),g=null!==(t=null===f||void 0===f?void 0:f.isIntersecting)&&void 0!==t&&t;return Object(o.useEffect)((function(){!l&&g&&j&&b(!0)}),[j,l,g]),Object(i.jsx)(N.b,Object(a.__assign)({className:ye.a.container,ref:O},{children:Object(i.jsx)("div",Object(a.__assign)({className:ye.a.relative,style:{width:c+"px",height:r+"px"}},{children:l&&Object(i.jsx)(ke,{id:n,onAdLoadFailed:s,onCloseAd:d},void 0)}),void 0)}),void 0)},Ce=function(e){var t=e.onClose,n=Object(a.__read)(Object(o.useState)(!1),2),c=n[0],r=n[1];Object(o.useEffect)((function(){c&&ve.a.advertisementAdsensePopupExposure()}),[c]);var s=Object(o.useCallback)((function(){ve.a.advertisementAdsenseCloseBtnClick()}),[]),d=Object(o.useCallback)((function(){ve.a.advertisementAdsensePopupCloseClick(),t()}),[]),u=Object(o.useCallback)((function(){ve.a.advertisementAdsensePopupSubscribeClick(),r(!1)}),[]);return Object(i.jsx)(fe.a,Object(a.__assign)({open:c,onOpenChange:r,placement:"left",align:"start",sideOffset:0,className:ye.a.popoverClass,onOpenAutoFocus:function(e){return e.preventDefault()},content:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",Object(a.__assign)({className:xe()(ye.a.flex,ye.a.flexCol,ye.a.gap1)},{children:[Object(i.jsx)("div",Object(a.__assign)({className:ye.a.premiumText},{children:"\u2728 \u4f1a\u5458\u514d\u5e7f\u544a"}),void 0),Object(i.jsx)("div",Object(a.__assign)({className:ye.a.premiumDes},{children:"\u5347\u7ea7\u529b\u6263 plus \u4f1a\u5458\uff0c\u4f53\u9a8c\u7eaf\u51c0\u7f16\u7a0b\u7a7a\u95f4\u3002"}),void 0)]}),void 0),Object(i.jsxs)("div",Object(a.__assign)({className:xe()(ye.a.flex,ye.a.gap1,ye.a.jEnd)},{children:[Object(i.jsx)(N.f,Object(a.__assign)({onClick:d,size:"xs",kind:"transparent"},{children:"\u672c\u6b21\u5173\u95ed"}),void 0),Object(i.jsx)(ge.a,Object(a.__assign)({onClick:u,size:"xs",kind:"primary",className:ye.a.premiumBtn,asChild:!0},{children:Object(i.jsx)("a",Object(a.__assign)({href:"/premium-detail/?sourceType=ads"},{children:"\u5347\u7ea7\u4f1a\u5458"}),void 0)}),void 0)]}),void 0)]},void 0)},{children:Object(i.jsx)(N.g,Object(a.__assign)({className:xe()(ye.a.closeBtn,"close-icon"),onClick:s},{children:Object(i.jsx)(_e.a,{size:18},void 0)}),void 0)}),void 0)},we=function(e){e.className;var t=Object(a.__rest)(e,["className"]),n=Object(a.__read)(Object(o.useState)(!1),2),c=n[0],r=n[1],s=Object(a.__read)(Object(o.useState)(!1),2),d=s[0],u=s[1],l=Object(o.useCallback)((function(){u(!0)}),[]),b=Object(o.useCallback)((function(){r(!0)}),[]);return d||c?null:Object(i.jsxs)(N.a,Object(a.__assign)({className:xe()(ye.a.WarpContainer)},{children:[Object(i.jsx)(Se,Object(a.__assign)({},t,{onAdLoadFailed:b,onCloseAd:l}),void 0),Object(i.jsx)(Ce,{onClose:l},void 0)]}),void 0)},Ae=d.a.main.paths,Te=function(e){var t,n,r,d,D,F=e.match.params,R=F.discussId,P=F.viewId,q=F.commentId,E=Object(a.__read)(Object(c.a)(I.p),2),L=E[0],M=L.question,z=L.loading,Q=L.loadingStatus,W=L.answers,H=L.status,U=L.userSlug,G=E[1],V=Object(O.a)("baidu-discuss-detail"),K=Object(h.a)().getUsernameConfigs,$=Object(a.__read)(Object(c.a)(u.a),1)[0].globalData,Y=Object(o.useRef)(null),X=Object(a.__read)(Object(o.useState)(!1),1)[0],J=Object(a.__read)(Object(o.useState)(!1),2),Z=J[0],ee=J[1],te=Object(a.__read)(Object(l.a)(!!P),3),ne=te[0],ae=te[1],ie=te[2],ce=Object(o.useMemo)((function(){return V&&V[0]?V[0]:null}),[V]),oe=Object(o.useCallback)((function(e){ne&&e>160&&ee(!0)}),[ne]);Object(o.useEffect)((function(){Object(b.b)(),window.scrollTo({top:0})}),[]),Object(o.useEffect)((function(){var e;H&&![w.o.Deleted,w.o.Removed,w.o.Offline].includes(H)&&([w.o.Pending,w.o.Prepublish,w.o.Checking].includes(H)&&U!==(null===(e=null===$||void 0===$?void 0:$.userStatus)||void 0===e?void 0:e.userSlug)||G.getQuestionDetail(R))}),[H,U,$,R]),Object(o.useEffect)((function(){return G.getQuestionDetailStatus(R),function(){G.restore(),G.dispose$()}}),[R]),Object(o.useEffect)((function(){P||ie()}),[P,ie]),Object(o.useEffect)((function(){var e=null===M||void 0===M?void 0:M.author.slug;e&&K([e])}),[K,null===M||void 0===M?void 0:M.author.slug]);var re=Object(p.a)([M],(function(e){var t=Object(a.__read)(e,1)[0];return t?Object(v.j)(t.author.name,Ae.discuss.discussionDetail({discussId:t.uuid})):""}));if(Q||z)return Object(i.jsx)(f.a,{},void 0);if(z&&H&&![w.o.Deleted,w.o.Removed,w.o.Offline].includes(H)&&(![w.o.Pending,w.o.Prepublish,w.o.Checking].includes(H)||U===(null===(t=null===$||void 0===$?void 0:$.userStatus)||void 0===t?void 0:t.userSlug)))return Object(i.jsx)(f.a,{},void 0);if(!M&&H&&![w.o.Deleted,w.o.Removed,w.o.Offline,w.o.Pending,w.o.Prepublish,w.o.Checking].includes(H))return Object(i.jsx)(f.a,{},void 0);if(H===w.o.Offline)return Object(i.jsx)(A.o,{slug:R},void 0);if(H&&[(w.o.Pending,w.o.Prepublish,w.o.Checking)].includes(H)&&U!==(null===(n=null===$||void 0===$?void 0:$.userStatus)||void 0===n?void 0:n.userSlug))return Object(i.jsx)(A.s,{},void 0);if(H===w.o.Deleted)return Object(i.jsx)(s.b,{to:Ae.discuss.home({})},void 0);if(!M)return H&&[w.o.Removed].includes(H)?Object(i.jsx)(s.b,{to:"/404/"},void 0):Object(i.jsx)(N.j,{children:Object(i.jsx)(g.a,{type:"img",description:"\u8ba8\u8bba\u4e0d\u5b58\u5728"},void 0)},void 0);var de=""===(null===M||void 0===M?void 0:M.author.slug),ue=function(){if(M.slateValue)try{return JSON.parse(M.slateValue)}catch(e){return null}return null}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x.a,{url:"https://leetcode.cn"+Ae.discuss.discussionDetail({discussId:R}),title:M.title,image:M.thumbnail,description:M.summary.replace(/\s+/g," "),keywords:M.tags.map((function(e){return e.name})),pubDateInMs:M.createdAt,upDateInMs:W.list.length>1?W.list[0].createdAt:M.updatedAt||M.createdAt,lrDateInMs:W.list.length>1&&W.list[0].lastCommentCreatedAtInSec&&1e3*W.list[0].lastCommentCreatedAtInSec||void 0},void 0),Object(i.jsxs)("div",Object(a.__assign)({className:Object(j.q)()?"mobile-discuss-detail":""},{children:[Object(i.jsxs)(N.u,Object(a.__assign)({isMobile:Object(j.q)()},{children:[!Object(j.q)()&&Object(i.jsx)(N.e,{type:"discuss",detailTitle:M.title,currentSubject:M.subject},void 0),Object(i.jsx)("div",{style:{paddingTop:8}},void 0),Object(i.jsxs)(N.t,Object(a.__assign)({isMobile:Object(j.q)()},{children:[Object(i.jsxs)(N.x,Object(a.__assign)({isMobile:Object(j.q)()},{children:[!Object(j.q)()&&Object(i.jsx)(k.a,Object(a.__assign)({userSlug:M.author.slug},{children:Object(i.jsx)(_.a,Object(a.__assign)({shouldStrip:de},{children:Object(i.jsx)("a",Object(a.__assign)({href:Ae.publicProfile.home({userSlug:M.author.slug})},{children:Object(i.jsx)(N.d,{src:M.author.avatar},void 0)}),void 0)}),void 0)}),void 0),Object(i.jsx)(N.z,{children:M.title},void 0),Object(i.jsx)(S.a,{userSlug:M.author.slug},void 0)]}),void 0),Object(i.jsx)(Oe,{question:M},void 0),Object(i.jsxs)(N.h,Object(a.__assign)({collapsed:ne,maxHeight:215},{children:[Object(i.jsx)(m.a,Object(a.__assign)({onChange:oe},{children:(null===M||void 0===M?void 0:M.slateValue)?ue?Object(i.jsx)(C.a,{readOnly:!0,initValue:ue},void 0):null:Object(i.jsx)(y.a,{children:Object(i.jsx)(N.p,Object(a.__assign)({onCopy:re,containerRef:Y,rootFontSize:14,isMobile:Object(j.q)()},{children:/^\*+$/.test(M.content)?"\\"+M.content:M.content}),void 0)},void 0)}),void 0),Z&&Object(i.jsx)(N.m,Object(a.__assign)({onClick:ie},{children:"\u70b9\u51fb\u67e5\u770b\u5b8c\u6574\u5185\u5bb9"}),void 0)]}),void 0),ce&&Object(i.jsx)(we,{id:null!==(r=ce.baiduAdId)&&void 0!==r?r:"u6969380",width:null!==(d=ce.baiduWidth)&&void 0!==d?d:700,height:null!==(D=ce.baiduHeight)&&void 0!==D?D:90},void 0),Object(j.q)()&&Object(i.jsx)(T.c,{},void 0),Object(i.jsx)("div",Object(a.__assign)({style:{marginTop:12}},{children:" "}),void 0),Object(i.jsx)(se,{question:M,collapseContent:ae,collapseButtonVisible:X&&!ne},void 0)]}),void 0)]}),void 0),Object(i.jsx)(B,{questionId:M.uuid,answerId:P,commentId:q},P)]}),void 0)]},void 0)}},Im9F:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/jobs-promote.04e3a3ef.png"},JaN1:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/jobs-promote-active.3c936ab5.png"},KWXI:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/feedback-active.c7f1ed71.png"},"L/sk":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/object-oriented-design.55b8d0cd.png"},OKNS:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("D57K"),i=n("5Nzd"),c=n("u3dr"),o=n("2wT7"),r=n("9EWH"),s=n("HnWI"),d=n("eb+u"),u=n("Qksx"),l=n("4HYP"),b=n("AouM"),p=n("Jg5f"),j=n("W/Ou"),O=n("mhnT"),f=n("2t7I"),g=n("u1hN"),_=n("wUZp"),m=n("B07F"),y=n("+Aeu"),v=n("+75L"),h=n("AF8X"),x=n("3p8V"),k={loading:!1,hasMore:!0,currentPage:0,list:[]},S=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=k,n}var n,o,S,C,w,A,T;return Object(a.__extends)(t,e),t.prototype._setLoading=function(e){e.loading=!0},t.prototype.restore=function(){return k},t.prototype._setQuestions=function(e,t){var n=t.questions,a=t.currentPage,i=e.currentPage>a;e.list=Object(y.h)(Object(g.a)(e.list,n,"uuid")),e.loading=!1,!i&&(e.hasMore=n.length===v.g),!i&&e.currentPage++},t.prototype.getQuestions=function(e,t){var n=this;return e.pipe(Object(d.a)(t),Object(u.b)((function(e){return Object(a.__read)(e,2)[1].currentPage})),Object(l.b)((function(e){return e.pipe(Object(b.a)((function(e){var t=Object(a.__read)(e,2)[1].currentPage;return n.client.watchQuery({query:x.a,variables:{pageNum:t,numPerPage:v.g},fetchPolicy:"network-only"}).pipe(Object(_.a)("\u83b7\u53d6\u5173\u6ce8\u95ee\u9898\u5217\u8868\u5931\u8d25"),Object(p.a)((function(e){var a=e.data;return n.getActions()._setQuestions({questions:a.qaMySubscriptionList.map(h.o),currentPage:t})})),Object(j.a)(n.getActions()._setLoading()))})))})),Object(O.a)(this.dispose$),Object(f.a)())},Object(a.__decorate)([Object(c.a)(),Object(a.__metadata)("design:type","function"===typeof(n="undefined"!==typeof s.a&&s.a)?n:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(c.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof r.Draft&&r.Draft)?o:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setLoading",null),Object(a.__decorate)([Object(c.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"restore",null),Object(a.__decorate)([Object(c.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof r.Draft&&r.Draft)?S:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setQuestions",null),Object(a.__decorate)([Object(c.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(C="undefined"!==typeof s.a&&s.a)?C:Object,"function"===typeof(w="undefined"!==typeof s.a&&s.a)?w:Object]),Object(a.__metadata)("design:returntype","function"===typeof(A="undefined"!==typeof s.a&&s.a)?A:Object)],t.prototype,"getQuestions",null),t=Object(a.__decorate)([Object(i.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(T="undefined"!==typeof m.a&&m.a)?T:Object])],t)}(o.a)},Oih5:function(e,t,n){"use strict";n.r(t);var a,i,c=n("D57K"),o=n("jg1C"),r=n("K/af"),s=n("ERkP"),d=n.n(s),u=n("zCf4"),l=n("YnR9"),b=n("xqpu"),p=n("xdqw"),j=n("l1SX"),O=n("7eUc"),f=n("rufy"),g=n("xcfF"),_=n("EPUN"),m=n("r2qc"),y=n("AF8X"),v=n("mH2o"),h=n("TMWK"),x=n("qz+f"),k=n("daAW"),S=n("/NrN"),C=n("YnCo"),w=n("VxrX"),A=Object(s.memo)((function(){var e=Object(s.useCallback)((function(){w.a.discuss.discussArticleEditorDraftButtonClicked()}),[]);return Object(o.jsx)(k.a,Object(c.__assign)({to:l.a.main.paths.discuss.myDrafts(),onClick:e},{children:Object(o.jsx)(S.a,Object(c.__assign)({size:"sm",prefixIcon:Object(o.jsx)(C.a,{},void 0)},{children:"\u6211\u7684\u8349\u7a3f"}),void 0)}),void 0)})),T=n("+qzo"),I=Object(s.memo)((function(){var e=Object(u.i)(),t=Object(s.useCallback)((function(){w.a.discuss.discussArticleEditorGoBackButtonClicked(),e.goBack()}),[]);return Object(o.jsx)(S.a,{prefixIcon:Object(o.jsx)(T.a,{},void 0),size:"sm",onClick:t},void 0)})),D=n("fgAA"),F=Object(h.a)("div",{target:"epd52gx0"})({display:"flex",alignItems:"center",padding:"0 15px",borderBottom:"1px solid "+D.a.grey(2)},"label:Row;"),R=Object(h.a)(F,{target:"epd52gx1"})({height:"60px","> *:not(:last-child)":{marginRight:"15px"}},"label:FirstRow;"),P=Object(h.a)(F,{target:"epd52gx2"})({height:"40px"},"label:SecondRow;"),q=Object(h.a)(F,{target:"epd52gx3"})(((a={padding:"8px 4px",whiteSpace:"nowrap",justifyContent:"space-between"})[""+F]={borderBottom:"none",paddingLeft:0,flexWrap:"wrap","> div":{marginRight:"10px"}},a),"label:TagsRow;"),E=Object(h.a)("div",{target:"epd52gx4"})({flex:"1 1 0px"},"label:PlaceHolder;"),L=Object(h.a)("i",{target:"epd52gx5"})({width:"1px",height:"14px",margin:"0 10px",background:D.a.grey(2)},"label:DividingLine;"),M=Object(h.a)("div",{target:"epd52gx6"})({paddingRight:"5px",display:"flex",alignItems:"center"},"label:OtherActionsContainer;"),N=n("r3KU"),z=n("lgB9"),B=n("HnWI"),Q=n("AouM"),W=n("Jg5f"),H=n("+Aeu"),U=n("HTDA"),G=n("360P"),V=n("sOcD"),K=function(){return Object(u.k)().articleId};!function(e){e[e.Publish=0]="Publish",e[e.Mock=1]="Mock"}(i||(i={}));var $=function(e){var t=K(),n=Object(c.__read)(Object(r.a)(v.e),1)[0],a=Object(c.__read)(Object(r.a)(H.c),1)[0],o=Object(c.__read)(Object(r.a)(U.a),1)[0].currentOfficialAccount;return Object(s.useCallback)((function(){return new B.a((function(r){var s=new AbortController,d=Object(G.a)(n.content,s.signal,a.whitelist).pipe(Object(Q.a)(V.a),Object(W.a)((function(a){var r,s=a.content,d=a.summary,u=a.mentionedUserSlugs;return{data:Object(c.__assign)({content:s,summary:d,mentionedUserSlugs:u,enableReward:n.rewardEnabled,title:n.title,tags:n.tags.map((function(e){return e.slug})),thumbnail:n.thumbnail,subjectSlug:n.subject?n.subject.slug:"",uuid:t},e===i.Mock&&{officialAccountSlug:null!==(r=null===o||void 0===o?void 0:o.userSlug)&&void 0!==r?r:""})}}))).subscribe(r);return function(){s.abort(),d.unsubscribe()}}))}),[n,a,o,e,t])},Y=function(){return e=i.Publish,t=K(),n=Object(c.__read)(Object(r.a)(v.e),1)[0],a=Object(c.__read)(Object(r.a)(H.c),1)[0],o=Object(c.__read)(Object(r.a)(U.a),1)[0].currentOfficialAccount,Object(s.useCallback)((function(){return new B.a((function(r){var s=new AbortController,d=Object(G.a)(n.content,s.signal,a.whitelist).pipe(Object(Q.a)(V.a),Object(W.a)((function(a){var r,s=a.content,d=a.summary,u=a.mentionedUserSlugs;return{data:Object(c.__assign)({content:s,summary:d,mentionedUserSlugs:u,enableReward:n.rewardEnabled,title:n.title,tags:n.tags.map((function(e){return e.slug})),thumbnail:n.thumbnail,subjectSlug:n.subject?n.subject.slug:"",uuid:t},e===i.Mock&&{officialAccountSlug:null!==(r=null===o||void 0===o?void 0:o.userSlug)&&void 0!==r?r:""})}}))).subscribe(r);return function(){s.abort(),d.unsubscribe()}}))}),[n,a,o,e,t]);var e,t,n,a,o};function X(){var e=Object(c.__read)(Object(r.a)(v.e),2)[1].mock,t=$(i.Mock),n=Object(z.d)(),a=d.a.useCallback((function(){n()&&e(t())}),[e,t,n]);return Object(o.jsx)(N.a,{onConfirm:a,mockMode:N.b.Publish},void 0)}var J=n("5Wx+"),Z=n("Y9Gt"),ee=Object(h.a)("button",{target:"ef5ol5u0"})({fontSize:"12px",border:"none",outline:"none",background:"transparent"},(function(e){var t=e.disabled;return{cursor:t?"not-allowed":"pointer",color:t?D.a.grey(5):D.a.red(5)}}),"label:StyledButton;"),te=Object(s.memo)((function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(ee,Object(c.__assign)({},e,{children:"\u5220\u9664"}),void 0)},void 0)})),ne=n("nPqx"),ae=d.a.memo((function(e){return Object(o.jsx)(ne.a,Object(c.__assign)({type:"threat",title:"\u63d0\u793a"},e,{children:"\u662f\u5426\u786e\u8ba4\u5220\u9664\u6b64\u6587\u7ae0\uff1f"}),void 0)})),ie=Object(h.a)("div",{target:"e1t67tjs0"})({padding:"8px"},"label:ContentContainer;"),ce=Object(h.a)(J.a,{target:"e1t67tjs1"})({cursor:"pointer"},"label:StyledIcon;"),oe=Object(s.memo)((function(){var e=K(),t=Object(c.__read)(Object(r.a)(v.e),2),n=t[0],a=t[1],i=Object(c.__read)(Object(s.useState)(!1),2),d=i[0],u=i[1],l=Object(s.useCallback)((function(){n.isDeleting||u(!1)}),[n]),b=Object(s.useCallback)((function(){u(!0)}),[]),p=Object(s.useCallback)((function(){e&&a.delete(e),w.a.discuss.discussArticleEditorDeleteClicked()}),[e,a]),j=Object(o.jsx)(ie,{children:Object(o.jsx)(te,{onClick:b,disabled:!e},void 0)},void 0);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Z.a,Object(c.__assign)({placement:"bottom",trigger:"hover",content:j},{children:Object(o.jsx)(ce,{size:18},void 0)}),void 0),Object(o.jsx)(ae,{visible:d,onClose:l,onOk:p,disableCancel:n.isDeleting,okLoading:n.isDeleting},void 0)]},void 0)})),re=n("5ZzG"),se=function(){var e=Object(c.__read)(Object(r.a)(v.e),2),t=e[0].mode,n=e[1],a=Object(s.useCallback)((function(){n.switchMode(v.d.Edit),w.a.discuss.discussArticleEditorEditButtonClicked()}),[]),i=Object(s.useCallback)((function(){n.switchMode(v.d.Preview),w.a.discuss.discussArticleEditorPreviewButtonClicked()}),[]);return Object(o.jsxs)(o.Fragment,{children:[t!==v.d.Edit&&Object(o.jsx)(S.a,Object(c.__assign)({kind:"transparent",size:"sm",prefixIcon:Object(o.jsx)(re.a,{type:"edit"},void 0),onClick:a},{children:"\u7f16\u8f91"}),void 0),t===v.d.Edit&&Object(o.jsx)(S.a,Object(c.__assign)({kind:"transparent",size:"sm",prefixIcon:Object(o.jsx)(re.a,{type:"eye"},void 0),onClick:i},{children:"\u9884\u89c8"}),void 0)]},void 0)},de=n("1QlS"),ue=n("2lH5"),le=function(){var e=Object(s.useContext)(b.d),t=Object(c.__read)(Object(r.a)(v.e),2),n=t[0],a=t[1],d=Object(c.__read)(Object(r.a)(H.c),2)[1],u=Object(c.__read)(Object(de.a)(!1),3),l=u[0],p=u[1],j=u[2];Object(s.useEffect)(d.refresh,[]);var O=$(i.Publish),f=Object(z.d)(),g=Object(s.useCallback)((function(){j(),f()&&(a.publish(O()),w.a.discuss.discussPublishArticle())}),[a,O,f]),_=Object(s.useCallback)((function(){!n.isPicked||e.isAdmin?g():p()}),[n.isPicked,g]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,Object(c.__assign)({kind:"primary",prefixIcon:Object(o.jsx)(re.a,{type:"paper-plane-o"},void 0),size:"sm",onClick:_,loading:n.isPublishing},{children:"\u53d1\u5e03\u6587\u7ae0"}),void 0),Object(o.jsx)(ue.a,Object(c.__assign)({onClose:j,onConfirm:g,isActive:l},{children:"\u60a8\u6b63\u5728\u7f16\u8f91\u7cbe\u9009\u5185\u5bb9\uff0c\u91cd\u65b0\u53d1\u5e03\u540e\u5c06\u4f1a\u88ab\u53d6\u6d88\u7cbe\u9009\uff0c\u518d\u6b21\u5165\u9009\u5c06\u4e0d\u4f1a\u83b7\u79ef\u5206\u5956\u52b1\uff0c\u662f\u5426\u786e\u8ba4\u7ee7\u7eed\uff1f"}),void 0)]},void 0)},be=n("txck"),pe=Object(h.a)("span",{target:"et0gch80"})(be.a.secondary,{fontSize:"12px",fontWeight:"bold"},"label:Container;"),je=Object(s.memo)((function(){var e=function(){var e=Object(c.__read)(Object(r.a)(v.e),1)[0];if(e.isPublishing)return"\u53d1\u5e03\u4e2d\u2026";if(e.isRestoring)return"\u6062\u590d\u4e2d\u2026";if(e.isDeleting)return"\u5220\u9664\u4e2d\u2026";if(e.isSaving)return"\u81ea\u52a8\u4fdd\u5b58\u4e2d\u2026";if(e.canAutoSave&&!e.isSaving)return"\u5df2\u81ea\u52a8\u4fdd\u5b58";return null}();return Object(o.jsx)(pe,{children:e},void 0)}));var Oe=function(){var e=Object(c.__read)(Object(r.a)(v.e),2),t=e[0],n=e[1],a=t.mode===v.d.TwoColumn,i=a?"\u9000\u51fa\u4e24\u680f":"\u4e24\u680f\u663e\u793a",d=Object(s.useCallback)((function(){n.switchMode(a?v.d.Edit:v.d.TwoColumn),w.a.discuss.discussArticleEditorToggleTwoColumn()}),[a]);return Object(o.jsx)(S.a,Object(c.__assign)({kind:"transparent",size:"sm",onClick:d,prefixIcon:Object(o.jsx)(re.a,{type:"pause"},void 0)},{children:i}),void 0)},fe=n("WWwk"),ge=n("FbPB"),_e=n("Bxa6"),me=n("fgzu"),ye=n("5Nzd"),ve=n("u3dr"),he=n("2wT7"),xe=n("9EWH"),ke=n("iJR/"),Se=n("z5yO"),Ce=n("U3QC"),we=n("W/Ou"),Ae=n("RtDN"),Te=n("wUZp"),Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultState={isShowUploader:!1,isUploading:!1,imageURL:null},t}var n,a,i,o,r,s,d;return Object(c.__extends)(t,e),t.prototype.hideUploader=function(e){e.isShowUploader=!1},t.prototype.showUploader=function(e){e.isShowUploader=!0},t.prototype.removeThumbnail=function(e){e.imageURL=""},t.prototype._setImageURL=function(e,t){e.imageURL=t},t.prototype.onUpload=function(e){var t=this;return e.pipe(Object(W.a)((function(e){return e.pop()})),Object(Se.a)((function(e){return!!e})),Object(Q.a)((function(e){return Object(ke.a)(e).pipe(Object(Ce.a)((function(e){var t=e.error;t&&me.a.error("\u4e0a\u4f20\u5c01\u9762\u5931\u8d25\uff1a"+t)})),Object(Se.a)((function(e){return!e.error})),Object(W.a)((function(e){var n=e.url;return t.getActions()._setImageURL(n)})),Object(Te.a)("upload thumbnail error"),Object(we.a)(t.getActions().removeThumbnail()),Object(we.a)(t.getActions()._setIsUploading(!0)),Object(Ae.a)(t.getActions()._setIsUploading(!1)))})))},t.prototype._setIsUploading=function(e,t){e.isUploading=t},Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof xe.Draft&&xe.Draft)?n:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"hideUploader",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof xe.Draft&&xe.Draft)?a:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"showUploader",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof xe.Draft&&xe.Draft)?i:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"removeThumbnail",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof xe.Draft&&xe.Draft)?o:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setImageURL",null),Object(c.__decorate)([Object(ve.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof B.a&&B.a)?r:Object]),Object(c.__metadata)("design:returntype","function"===typeof(s="undefined"!==typeof B.a&&B.a)?s:Object)],t.prototype,"onUpload",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof xe.Draft&&xe.Draft)?d:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsUploading",null),t=Object(c.__decorate)([Object(ye.a)()],t)}(he.a),De=n("rJKo"),Fe=Object(h.a)("div",{target:"e1kn1tt80"})({position:"absolute",bottom:"-5px",left:"0px",transform:"translateY(100%)",padding:"10px",background:D.a.grey(0),border:"1px solid "+D.a.grey(2),borderRadius:"3px",boxShadow:"0 1px 8px 0 "+Object(De.b)(D.a.grey(9)).setAlpha(.06),pointerEvents:"auto"},(function(e){return{cursor:e.isUploading?"wait":"pointer"}}),"label:UploaderContainer;"),Re=Object(h.a)("div",{target:"e1kn1tt81"})({width:"140px",height:"110px",borderRadius:"3px",fontWeight:"bold",lineHeight:"22px",fontSize:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative","h3, p":{color:"inherit",margin:"0"}},(function(e){var t=e.image;return{background:t?'url("'+t+'")':D.a.grey(1),backgroundSize:"cover",color:t?"transparent":D.a.grey(4)}}),"label:UploaderArea;"),Pe=Object(h.a)("div",{target:"e1kn1tt82"})({position:"absolute",left:"0px",right:"0px",bottom:"0px",height:"26px",display:"flex",alignItems:"center",justifyContent:"center",color:D.a.grey(0),background:Object(De.b)(D.a.grey(9)).setAlpha(.4).toString(),svg:{width:"16px",height:"16px"}},"label:BottomMask;"),qe=["image/png","image/jpeg"],Ee=Object(s.memo)((function(e){var t=e.thumbnail,n=e.onThumbnailChange,a=Object(c.__read)(Object(r.a)(Ie),2),i=a[0],d=a[1],u=t||i.imageURL||"";Object(fe.a)((function(){null!==i.imageURL&&n(i.imageURL)}),[i.imageURL,n]);var l=Object(s.useCallback)((function(e){e instanceof HTMLInputElement&&"file"===e.type||i.isUploading||d.hideUploader()}),[d,i.isUploading]),b=Object(s.useCallback)((function(){return Object(o.jsx)(Le,{thumbnail:u},void 0)}),[u]);return Object(o.jsx)(ge.a,Object(c.__assign)({isShow:i.isShowUploader,renderAroundChild:b,onOuterClick:l},{children:Object(o.jsx)(S.a,Object(c.__assign)({prefixIcon:Object(o.jsx)(re.a,{type:"image"},void 0),size:"sm",onClick:d.showUploader},{children:"\u4e0a\u4f20\u6587\u7ae0\u5c01\u9762"}),void 0)}),void 0)}));function Le(e){var t=e.thumbnail,n=Object(c.__read)(Object(r.a)(Ie),2),a=n[0].isUploading,i=n[1],d=Object(s.useRef)(null),u=Object(s.useCallback)((function(){var e=d.current;e&&!a&&e.openFileDialog()}),[a,d]),l=Object(s.useCallback)((function(e){e.stopPropagation(),i.removeThumbnail()}),[i]),b=Object(s.useCallback)((function(e){switch(e){case _e.b.invalidFileSize:return void me.a.error("\u56fe\u7247\u987b\u5c0f\u4e8e 2MB");case _e.b.invalidFileType:return void me.a.error("\u56fe\u7247\u4ec5\u652f\u6301 jpg\uff0cpng \u683c\u5f0f")}}),[]);return Object(o.jsx)(Fe,Object(c.__assign)({isUploading:a},{children:Object(o.jsx)(_e.a,Object(c.__assign)({ref:d,onUpload:i.onUpload,onUploadError:b,maxFileSize:2097152,maxFileCount:1,accepts:qe},{children:Object(o.jsxs)(Re,Object(c.__assign)({onClick:u,image:t},{children:[a?Object(o.jsx)("p",{children:"\u4e0a\u4f20\u4e2d..."},void 0):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{children:"\u70b9\u51fb\u4e0a\u4f20\u56fe\u7247"},void 0),Object(o.jsx)("p",{children:"\u652f\u6301\u683c\u5f0f\uff1ajpg\u3001png"},void 0),Object(o.jsx)("p",{children:"\u63a8\u8350\uff1a1400\xd7400px"},void 0)]},void 0),Object(o.jsx)(Pe,Object(c.__assign)({hidden:!t,onClick:l},{children:Object(o.jsx)(re.a,{type:"bin"},void 0)}),void 0)]}),void 0)}),void 0)}),void 0)}var Me,Ne=Object(h.a)(m.A,{target:"e1bj8rwh0"})({marginLeft:"10px"},"label:StyledTags;"),ze=Object(s.memo)((function(e){var t=e.thumbnail,n=e.onThumbnailChange,a=e.selectedTags,i=e.onSelectTags,u=e.onTriggerShortcut,l=(e.changeVersion,Object(g.a)().ifCanNewEditor,Object(c.__read)(Object(r.a)(v.e),1)[0],Object(s.useCallback)((function(e){i(a.filter((function(t){return t.slug!==e})))}),[i,a]));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(R,{children:[Object(o.jsx)(I,{},void 0),Object(o.jsx)(Ee,{thumbnail:t,onThumbnailChange:n},void 0),Object(o.jsx)(je,{},void 0),Object(o.jsx)(E,{},void 0),Object(o.jsx)(M,{children:Object(o.jsx)(oe,{},void 0)},void 0),Object(o.jsx)(A,{},void 0),Object(o.jsx)(X,{},void 0),Object(o.jsx)(le,{},void 0)]},void 0),Object(o.jsx)(q,{children:Object(o.jsxs)(F,{children:[Object(o.jsx)(Ne,{tag:d.a.Fragment,items:a,count:8,height:32,onDeleteTag:l},void 0),Object(o.jsx)(m.B,{selectedTags:a,onSelectTags:i},void 0)]},void 0)},void 0),Object(o.jsxs)(P,{children:[Object(o.jsx)(x.c,{onTrigger:u},void 0),Object(o.jsx)(E,{},void 0),Object(o.jsx)(se,{},void 0),Object(o.jsx)(L,{},void 0),Object(o.jsx)(Oe,{},void 0)]},void 0)]},void 0)})),Be=n("a9QA"),Qe=n.n(Be),We=n("CrNI"),He=n.n(We),Ue=n("y9rd"),Ge=n("S6Il"),Ve=Object(h.a)("div",{target:"eb3odxl0"})({display:"flex",flexDirection:"column",flex:"1 1 0px"},"label:Container;"),Ke=Object(h.a)(Ge.a,{target:"eb3odxl1"})({flex:"1 1 0px"},"label:StyledEditor;"),$e=Object(h.a)("input",{target:"eb3odxl2"})(be.a.title,{fontSize:"18px",fontWeight:"bold",margin:"15px 0 15px 16px",border:"none",outline:"none",background:"transparent","&::placeholder":be.a.disable},"label:TitleInput;"),Ye=Object(s.memo)(Object(s.forwardRef)((function(e,t){var n=e.title,a=e.onTitleChange,i=e.content,c=e.onContentChange,r=Object(s.useRef)(null),u=Object(x.g)(r),l=Object(s.useCallback)((function(e){var t=e.currentTarget;He()(t.value,2)>120&&Ue.a.danger("\u6807\u9898\u957f\u5ea6\u8fc7\u957f"),a(Qe()(t.value,120))}),[a]);return d.a.useImperativeHandle(t,(function(){return{triggerShortcut:u}}),[u]),Object(o.jsxs)(Ve,{children:[Object(o.jsx)($e,{placeholder:"\u6b64\u5904\u8f93\u5165\u6587\u7ae0\u6807\u9898\u2026",value:n,onChange:l},void 0),Object(o.jsx)(Ke,{ref:r,content:i,onContentChange:c,onSetup:x.e},void 0)]},void 0)}))),Xe=Object(s.memo)((function(){var e=Object(s.useCallback)((function(){w.a.discuss.discussArticleEditorDraftButtonClicked()}),[]);return Object(o.jsx)(k.a,Object(c.__assign)({to:l.a.main.paths.discuss.myDrafts(),onClick:e},{children:Object(o.jsx)(S.a,Object(c.__assign)({size:"sm",prefixIcon:Object(o.jsx)(C.a,{},void 0)},{children:"\u6211\u7684\u8349\u7a3f"}),void 0)}),void 0)})),Je=Object(s.memo)((function(){var e=Object(u.i)(),t=Object(s.useCallback)((function(){w.a.discuss.discussArticleEditorGoBackButtonClicked(),e.goBack()}),[]);return Object(o.jsx)(S.a,{prefixIcon:Object(o.jsx)(T.a,{},void 0),size:"sm",onClick:t},void 0)})),Ze=Object(h.a)("div",{target:"e1o1ecio0"})({display:"flex",alignItems:"center",padding:"0 15px",borderBottom:"1px solid "+D.a.grey(2)},"label:Row;"),et=Object(h.a)(Ze,{target:"e1o1ecio1"})({height:"60px","> *:not(:last-child)":{marginRight:"15px"}},"label:FirstRow;"),tt=Object(h.a)(Ze,{target:"e1o1ecio3"})(((Me={padding:"8px 4px",marginLeft:"12px",whiteSpace:"nowrap",justifyContent:"space-between"})[""+Ze]={borderBottom:"none",paddingLeft:0,flexWrap:"wrap","> div":{marginRight:"10px"}},Me),"label:TagsRow;"),nt=Object(h.a)("div",{target:"e1o1ecio4"})({flex:"1 1 0px"},"label:PlaceHolder;"),at=(D.a.grey(2),Object(h.a)("div",{target:"e1o1ecio6"})({paddingRight:"5px",display:"flex",alignItems:"center"},"label:OtherActionsContainer;")),it=Object(h.a)("input",{target:"e1o1ecio7"})(be.a.title,{fontSize:"18px",fontWeight:"bold",margin:"15px 0 15px 16px",border:"none",outline:"none",background:"transparent","&::placeholder":be.a.disable},"label:TitleInput;"),ct=Object(h.a)("div",{target:"e1o1ecio8"})({position:"fixed",width:"100vw",top:"0px",display:"flex",flexDirection:"column",backgroundColor:"#fff",zIndex:1e3},"label:Fixed;"),ot=Object(h.a)("div",{target:"e1o1ecio9"})({height:"183px"},"label:Space;"),rt=Object(h.a)("button",{target:"e15qa6cm0"})({fontSize:"12px",border:"none",outline:"none",background:"transparent"},(function(e){var t=e.disabled;return{cursor:t?"not-allowed":"pointer",color:t?D.a.grey(5):D.a.red(5)}}),"label:StyledButton;"),st=Object(s.memo)((function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(rt,Object(c.__assign)({},e,{children:"\u5220\u9664"}),void 0)},void 0)})),dt=d.a.memo((function(e){return Object(o.jsx)(ne.a,Object(c.__assign)({type:"threat",title:"\u63d0\u793a"},e,{children:"\u662f\u5426\u786e\u8ba4\u5220\u9664\u6b64\u6587\u7ae0\uff1f"}),void 0)})),ut=Object(h.a)("div",{target:"elipxc80"})({padding:"8px"},"label:ContentContainer;"),lt=Object(h.a)(J.a,{target:"elipxc81"})({cursor:"pointer"},"label:StyledIcon;"),bt=Object(s.memo)((function(){var e=K(),t=Object(c.__read)(Object(r.a)(v.e),2),n=t[0],a=t[1],i=Object(c.__read)(Object(s.useState)(!1),2),d=i[0],u=i[1],l=Object(s.useCallback)((function(){n.isDeleting||u(!1)}),[n]),b=Object(s.useCallback)((function(){u(!0)}),[]),p=Object(s.useCallback)((function(){e&&a.delete(e),w.a.discuss.discussArticleEditorDeleteClicked()}),[e,a]),j=Object(o.jsx)(ut,{children:Object(o.jsx)(st,{onClick:b,disabled:!e},void 0)},void 0);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Z.a,Object(c.__assign)({placement:"bottom",trigger:"hover",content:j},{children:Object(o.jsx)(lt,{size:18},void 0)}),void 0),Object(o.jsx)(dt,{visible:d,onClose:l,onOk:p,disableCancel:n.isDeleting,okLoading:n.isDeleting},void 0)]},void 0)})),pt=function(){var e=Object(s.useContext)(b.d),t=Object(c.__read)(Object(r.a)(v.e),2),n=t[0],a=t[1],i=Object(c.__read)(Object(r.a)(H.c),2)[1],d=Object(c.__read)(Object(de.a)(!1),3),u=d[0],l=d[1],p=d[2];Object(s.useEffect)(i.refresh,[]);var j=Y(),O=Object(z.d)(),f=Object(s.useCallback)((function(){p(),O()&&(a.publish(j()),w.a.discuss.discussPublishArticle())}),[a,j,O]),g=Object(s.useCallback)((function(){!n.isPicked||e.isAdmin?f():l()}),[n.isPicked,f]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(S.a,Object(c.__assign)({kind:"primary",prefixIcon:Object(o.jsx)(re.a,{type:"paper-plane-o"},void 0),size:"sm",onClick:g,loading:n.isPublishing},{children:"\u53d1\u5e03\u6587\u7ae0"}),void 0),Object(o.jsx)(ue.a,Object(c.__assign)({onClose:p,onConfirm:f,isActive:u},{children:"\u60a8\u6b63\u5728\u7f16\u8f91\u7cbe\u9009\u5185\u5bb9\uff0c\u91cd\u65b0\u53d1\u5e03\u540e\u5c06\u4f1a\u88ab\u53d6\u6d88\u7cbe\u9009\uff0c\u518d\u6b21\u5165\u9009\u5c06\u4e0d\u4f1a\u83b7\u79ef\u5206\u5956\u52b1\uff0c\u662f\u5426\u786e\u8ba4\u7ee7\u7eed\uff1f"}),void 0)]},void 0)},jt=Object(h.a)("span",{target:"eduqach0"})(be.a.secondary,{fontSize:"12px",fontWeight:"bold"},"label:Container;"),Ot=Object(s.memo)((function(){var e=function(){var e=Object(c.__read)(Object(r.a)(v.e),1)[0];if(e.isPublishing)return"\u53d1\u5e03\u4e2d\u2026";if(e.isRestoring)return"\u6062\u590d\u4e2d\u2026";if(e.isDeleting)return"\u5220\u9664\u4e2d\u2026";if(e.isSaving)return"\u81ea\u52a8\u4fdd\u5b58\u4e2d\u2026";if(e.canAutoSave&&!e.isSaving)return"\u5df2\u81ea\u52a8\u4fdd\u5b58";return null}();return Object(o.jsx)(jt,{children:e},void 0)}));var ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultState={isShowUploader:!1,isUploading:!1,imageURL:null},t}var n,a,i,o,r,s,d;return Object(c.__extends)(t,e),t.prototype.hideUploader=function(e){e.isShowUploader=!1},t.prototype.showUploader=function(e){e.isShowUploader=!0},t.prototype.removeThumbnail=function(e){e.imageURL=""},t.prototype._setImageURL=function(e,t){e.imageURL=t},t.prototype.onUpload=function(e){var t=this;return e.pipe(Object(W.a)((function(e){return e.pop()})),Object(Se.a)((function(e){return!!e})),Object(Q.a)((function(e){return Object(ke.a)(e).pipe(Object(Ce.a)((function(e){var t=e.error;t&&me.a.error("\u4e0a\u4f20\u5c01\u9762\u5931\u8d25\uff1a"+t)})),Object(Se.a)((function(e){return!e.error})),Object(W.a)((function(e){var n=e.url;return t.getActions()._setImageURL(n)})),Object(Te.a)("upload thumbnail error"),Object(we.a)(t.getActions().removeThumbnail()),Object(we.a)(t.getActions()._setIsUploading(!0)),Object(Ae.a)(t.getActions()._setIsUploading(!1)))})))},t.prototype._setIsUploading=function(e,t){e.isUploading=t},Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof xe.Draft&&xe.Draft)?n:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"hideUploader",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof xe.Draft&&xe.Draft)?a:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"showUploader",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof xe.Draft&&xe.Draft)?i:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"removeThumbnail",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof xe.Draft&&xe.Draft)?o:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setImageURL",null),Object(c.__decorate)([Object(ve.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof B.a&&B.a)?r:Object]),Object(c.__metadata)("design:returntype","function"===typeof(s="undefined"!==typeof B.a&&B.a)?s:Object)],t.prototype,"onUpload",null),Object(c.__decorate)([Object(ve.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof xe.Draft&&xe.Draft)?d:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsUploading",null),t=Object(c.__decorate)([Object(ye.a)()],t)}(he.a),gt=Object(h.a)("div",{target:"e77egk0"})({position:"absolute",bottom:"-5px",left:"0px",transform:"translateY(100%)",padding:"10px",background:D.a.grey(0),border:"1px solid "+D.a.grey(2),borderRadius:"3px",boxShadow:"0 1px 8px 0 "+Object(De.b)(D.a.grey(9)).setAlpha(.06),pointerEvents:"auto"},(function(e){return{cursor:e.isUploading?"wait":"pointer"}}),"label:UploaderContainer;"),_t=Object(h.a)("div",{target:"e77egk1"})({width:"140px",height:"110px",borderRadius:"3px",fontWeight:"bold",lineHeight:"22px",fontSize:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative","h3, p":{color:"inherit",margin:"0"}},(function(e){var t=e.image;return{background:t?'url("'+t+'")':D.a.grey(1),backgroundSize:"cover",color:t?"transparent":D.a.grey(4)}}),"label:UploaderArea;"),mt=Object(h.a)("div",{target:"e77egk2"})({position:"absolute",left:"0px",right:"0px",bottom:"0px",height:"26px",display:"flex",alignItems:"center",justifyContent:"center",color:D.a.grey(0),background:Object(De.b)(D.a.grey(9)).setAlpha(.4).toString(),svg:{width:"16px",height:"16px"}},"label:BottomMask;"),yt=["image/png","image/jpeg"],vt=Object(s.memo)((function(e){var t=e.thumbnail,n=e.onThumbnailChange,a=Object(c.__read)(Object(r.a)(ft),2),i=a[0],d=a[1],u=t||i.imageURL||"";Object(fe.a)((function(){null!==i.imageURL&&n(i.imageURL)}),[i.imageURL,n]);var l=Object(s.useCallback)((function(e){e instanceof HTMLInputElement&&"file"===e.type||i.isUploading||d.hideUploader()}),[d,i.isUploading]),b=Object(s.useCallback)((function(){return Object(o.jsx)(ht,{thumbnail:u},void 0)}),[u]);return Object(o.jsx)(ge.a,Object(c.__assign)({isShow:i.isShowUploader,renderAroundChild:b,onOuterClick:l},{children:Object(o.jsx)(S.a,Object(c.__assign)({prefixIcon:Object(o.jsx)(re.a,{type:"image"},void 0),size:"sm",onClick:d.showUploader},{children:"\u4e0a\u4f20\u6587\u7ae0\u5c01\u9762"}),void 0)}),void 0)}));function ht(e){var t=e.thumbnail,n=Object(c.__read)(Object(r.a)(ft),2),a=n[0].isUploading,i=n[1],d=Object(s.useRef)(null),u=Object(s.useCallback)((function(){var e=d.current;e&&!a&&e.openFileDialog()}),[a,d]),l=Object(s.useCallback)((function(e){e.stopPropagation(),i.removeThumbnail()}),[i]),b=Object(s.useCallback)((function(e){switch(e){case _e.b.invalidFileSize:return void me.a.error("\u56fe\u7247\u987b\u5c0f\u4e8e 2MB");case _e.b.invalidFileType:return void me.a.error("\u56fe\u7247\u4ec5\u652f\u6301 jpg\uff0cpng \u683c\u5f0f")}}),[]);return Object(o.jsx)(gt,Object(c.__assign)({isUploading:a},{children:Object(o.jsx)(_e.a,Object(c.__assign)({ref:d,onUpload:i.onUpload,onUploadError:b,maxFileSize:2097152,maxFileCount:1,accepts:yt},{children:Object(o.jsxs)(_t,Object(c.__assign)({onClick:u,image:t},{children:[a?Object(o.jsx)("p",{children:"\u4e0a\u4f20\u4e2d..."},void 0):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{children:"\u70b9\u51fb\u4e0a\u4f20\u56fe\u7247"},void 0),Object(o.jsx)("p",{children:"\u652f\u6301\u683c\u5f0f\uff1ajpg\u3001png"},void 0),Object(o.jsx)("p",{children:"\u63a8\u8350\uff1a1400\xd7400px"},void 0)]},void 0),Object(o.jsx)(mt,Object(c.__assign)({hidden:!t,onClick:l},{children:Object(o.jsx)(re.a,{type:"bin"},void 0)}),void 0)]}),void 0)}),void 0)}),void 0)}var xt=Object(h.a)(m.A,{target:"e2fboo20"})({marginLeft:"10px"},"label:StyledTags;"),kt=Object(s.memo)((function(e){var t=e.thumbnail,n=e.onThumbnailChange,a=e.selectedTags,i=e.onSelectTags,c=e.onTitleChange,r=e.title,u=Object(s.useCallback)((function(e){i(a.filter((function(t){return t.slug!==e})))}),[i,a]),l=Object(s.useCallback)((function(e){var t=e.currentTarget;He()(t.value,2)>120&&Ue.a.danger("\u6807\u9898\u957f\u5ea6\u8fc7\u957f"),c(Qe()(t.value,120))}),[c]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(ct,{children:[Object(o.jsxs)(et,{children:[Object(o.jsx)(Je,{},void 0),Object(o.jsx)(vt,{thumbnail:t,onThumbnailChange:n},void 0),Object(o.jsx)(Ot,{},void 0),Object(o.jsx)(nt,{},void 0),Object(o.jsx)(at,{children:Object(o.jsx)(bt,{},void 0)},void 0),Object(o.jsx)(Xe,{},void 0),Object(o.jsx)(pt,{},void 0)]},void 0),Object(o.jsx)(it,{placeholder:"\u6b64\u5904\u8f93\u5165\u6587\u7ae0\u6807\u9898\u2026",value:r,onChange:l},void 0),Object(o.jsx)(tt,{children:Object(o.jsxs)(Ze,{children:[Object(o.jsx)(m.B,{selectedTags:a,onSelectTags:i},void 0),Object(o.jsx)(xt,{tag:d.a.Fragment,items:a,count:8,height:32,onDeleteTag:u},void 0)]},void 0)},void 0)]},void 0),Object(o.jsx)(ot,{},void 0)]},void 0)})),St=n("Nyd1"),Ct=n("7a+J"),wt=Object(h.a)("div",{target:"e9rkell0"})({background:D.a.grey(2)},"label:RootContainer;"),At=Object(h.a)("div",{target:"e9rkell1"})(Ct.a.level1,(function(e){return{height:e.noHeightLimit?"unset":"100vh",minHeight:"100vh",boxSizing:"content-box",margin:"0 auto",display:"flex",flexDirection:"column",overflow:"hidden",background:D.a.grey(0),boxShadow:"0 0 10px "+D.a.grey(9,.1)}}),(function(e){var t=e.isPending;return{"> *":{pointerEvents:t?"none":"auto"},cursor:t?"wait":"auto",maxWidth:e.restrictWidth?"960px":"auto"}}),"label:LayoutContainer;"),Tt=Object(h.a)(St.Container,{target:"e9rkell2"})({flex:"1 1 0px"},"label:ResizerContainer;"),It=Object(h.a)(St.Section,{target:"e9rkell3"})({display:"flex",flexDirection:"column"},"label:ResizerSection;"),Dt=Object(h.a)(St.Bar,{target:"e9rkell4"})({zIndex:1,background:D.a.grey(1),transition:"background .3s","&:hover":{background:D.a.grey(7)}},"label:ResizerBar;"),Ft=l.a.main.paths,Rt={left:10,right:10};t.default=function(){var e=Object(s.useContext)(b.d),t=e.username,n=e.isSignedIn,a=e.isUpdated,i=K(),d=Object(c.__read)(Object(r.a)(v.e),2),l=d[0],h=d[1],x=Object(s.useRef)(null),k=Object(_.a)().data,S=Object(g.a)(),C=S.newVersion,w=S.isFetching,A=S.ifCanNewEditor,T=Object(c.__read)(Object(s.useState)(C),2),I=T[0],D=T[1];Object(s.useEffect)((function(){D(C)}),[w,C]),Object(s.useEffect)((function(){var e;h.setRewardButtonVisible(!!(null===(e=null===k||void 0===k?void 0:k.status)||void 0===e?void 0:e.allowOpen))}),[h,k]),Object(s.useEffect)((function(){if(i)h.restoreDraft(i);else if(t){var e=Object(y.c)(t),n=Object(p.b)(e);n.has(y.a)||A||w||(n.set(y.a,!0),h.setTemplateToState())}return function(){return h.reset()}}),[A,w]);var F=l.isPublishing||l.isRestoring;Object(s.useEffect)((function(){F&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),[F]);var R=Object(s.useCallback)((function(e){x.current&&x.current.triggerShortcut(e)}),[]),P=Object(s.useCallback)((function(e){return h.save({input:e,id:i})}),[i,h]),q=Object(s.useCallback)((function(e){return P({content:e})}),[P]),E=Object(s.useCallback)((function(e){return P({title:e})}),[P]),L=Object(s.useCallback)((function(e){return P({tags:e})}),[P]),M=Object(s.useCallback)((function(e){return P({subject:e})}),[P]),N=Object(s.useCallback)((function(e){return P({thumbnail:e})}),[P]),z=Object(s.useCallback)((function(e){return h.switchRewardEnabled(e)}),[h]);if(!a)return Object(o.jsx)(j.a,{},void 0);if(!n)return Object(o.jsx)(u.b,{to:Ft.accounts.login()+"?next="+window.location.href},void 0);if(l.editingMode&&!l.title||l.isRestoring)return Object(o.jsx)(j.a,{},void 0);if(I&&!l.editingMode||l.newVersion&&l.editingMode){var B="\x01"===l.title[0]?l.title.slice(1,l.title.length):l.title,Q=window.innerHeight-183;return Object(o.jsx)(wt,{children:Object(o.jsxs)(At,Object(c.__assign)({noHeightLimit:!0,isPending:F,restrictWidth:l.mode!==v.d.TwoColumn},{children:[Object(o.jsx)(kt,{onTriggerShortcut:R,selectedTags:l.tags,onSelectTags:L,selectedSubject:l.subject,onSelectSubject:M,thumbnail:l.thumbnail,onThumbnailChange:N,onTitleChange:E,title:B,rewardBtn:{visible:l.canEditReward,isActive:l.rewardEnabled,onChangeActive:z}},void 0),Object(o.jsx)(O.a,{wrapperHeight:Q,onContentChange:q,content:l.content,ifInDialog:!1},void 0),l.editingMode?null:Object(o.jsx)(f.a,{onClick:function(){D(!1),localStorage.setItem("use-new-editor-lc-bl","false")}},void 0)]}),void 0)},void 0)}return Object(o.jsx)(wt,{children:Object(o.jsxs)(At,Object(c.__assign)({noHeightLimit:!1,isPending:F,restrictWidth:l.mode!==v.d.TwoColumn},{children:[Object(o.jsx)(ze,{onTriggerShortcut:R,selectedTags:l.tags,onSelectTags:L,selectedSubject:l.subject,onSelectSubject:M,thumbnail:l.thumbnail,onThumbnailChange:N,changeVersion:function(){D(!0),localStorage.setItem("use-new-editor-lc-bl","true")},rewardBtn:{visible:l.canEditReward,isActive:l.rewardEnabled,onChangeActive:z}},void 0),l.mode===v.d.Edit&&Object(o.jsx)(Ye,{ref:x,content:l.content,title:l.title,onContentChange:q,onTitleChange:E},void 0),l.mode===v.d.Preview&&Object(o.jsx)(m.t,{children:l.content},void 0),l.mode===v.d.TwoColumn&&Object(o.jsxs)(Tt,{children:[Object(o.jsx)(It,Object(c.__assign)({minSize:360},{children:Object(o.jsx)(Ye,{ref:x,content:l.content,title:l.title,onContentChange:q,onTitleChange:E},void 0)}),void 0),Object(o.jsx)(Dt,{size:1,expandInteractiveArea:Rt},void 0),Object(o.jsx)(It,Object(c.__assign)({minSize:360},{children:Object(o.jsx)(m.t,{children:l.content},void 0)}),void 0)]},void 0)]}),void 0)},void 0)}},PbXi:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return p}));var a,i=n("TMWK"),c=n("fgAA"),o=n("pqRN"),r=n("Jmah"),s=Object(i.a)("div",{target:"ecqcqxb0"})({display:"inline-flex",minWidth:"200px",maxWidth:"400px",background:c.b.FillQuaternary(),marginTop:"12px",borderRadius:"7px"},"label:Container;"),d=Object(i.a)("div",{target:"ecqcqxb1"})(Object(o.h)(),{textAlign:"left",flex:"1 1 auto",fontSize:"13px",lineHeight:"20px",color:c.b.BaseGrey6()},"label:Content;"),u=Object(i.a)("div",{target:"ecqcqxb2"})(((a={width:"100%",display:"flex",alignItems:"center",padding:"8px"})[""+d]={color:c.b.BaseGrey5()},a),"label:DeleteContainer;"),l=Object(i.a)("div",{target:"ecqcqxb3"})({width:"100%",padding:"8px",display:"inline-flex"},(function(e){return{cursor:e.clickable?"pointer":"default"}}),"label:ContentContainer;"),b=Object(i.a)(r.a,{target:"ecqcqxb4"})({flex:"0 0 auto",marginRight:"10px",color:c.b.BaseGrey5()},"label:StyledIconSlash;"),p=Object(i.a)("img",{target:"ecqcqxb5"})({flex:"0 0 auto",width:"22px",height:"22px",borderRadius:"100%",marginRight:"8px"},"label:Avatar;")},Po8h:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return O}));var a,i=n("XKjd"),c=n("TMWK"),o=n("fgAA"),r=n("/NrN"),s=Object(c.a)(r.a,{target:"es3xzeu0"})({margin:"0 8px",color:o.b.BaseGrey6(),fontSize:"14px",verticalAlign:"text-bottom","> svg":{width:"20px",height:"20px"}},"label:OperationButton;"),d=Object(c.a)(s,{target:"es3xzeu1"})((function(e){return{color:e.isFavored?o.b.BrandOrange():o.b.BaseGrey6(),transition:"none","&:hover > svg":{color:o.b.BrandOrange()},"&:hover > span":{color:o.b.BrandOrange()}}}),"label:OperationButtonShare;"),u=Object(c.a)("div",{target:"es3xzeu2"})({marginLeft:"10px"},"label:StyledReactionV2Wrapper;"),l=Object(c.a)("div",{target:"es3xzeu3"})({marginRight:"8px",height:"12px",borderLeft:"1px solid",borderColor:o.b.Border2()},"label:StyledSplitLine;"),b=Object(c.a)("div",{target:"es3xzeu4"})({display:"flex",alignItems:"center",position:"sticky",bottom:0,borderTop:"1px solid "+o.b.Border2(),marginTop:"20px",zIndex:1e3},(function(e){var t,n=e.sticky,a=e.darkBg;return(t={padding:n?"11px 0px":"20px 0px 11px"})[o.c]={backgroundColor:a},t}),(function(e){var t=e.loose;return void 0!==t&&t?{"> *:last-child":{marginLeft:"auto"}}:{}}),"label:OperationWrapper;"),p=(Object(i.a)({display:"none!important"}),Object(i.a)(((a={position:"sticky",bottom:0,backgroundColor:o.b.Layer1(),padding:"11px 16px",borderTop:"1px solid "+o.b.Border2()})[o.c]={backgroundColor:o.b.LayerBg()},a)),Object(c.a)("div",{target:"es3xzeu5"})({display:"flex",'&[data-hidden="true"]':{opacity:0},transition:"opacity 0.4s"},"label:HiddenWrapper;")),j=Object(c.a)("div",{target:"es3xzeu6"})({display:"flex"},"label:Flex;"),O=Object(c.a)("div",{target:"es3xzeu7"})({marginLeft:"12px",display:"flex",alignItems:"center"},"label:ExtraButtonContainer;")},"Q/bO":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var a,i=n("D57K"),c=n("jg1C"),o=n("DuHN"),r=(n("IJu9"),n("K/af")),s=n("ERkP"),d=n.n(s),u=n("ZRwv"),l=n("1QlS"),b=n("xqpu"),p=n("gd5h"),j=n("ildc"),O=n("u8N8"),f=n("5ZzG"),g=n("nPqx"),_=n("qYXo"),m=n("Y9Gt"),y=n("EbAn"),v=n("2Fkq"),h=n("UqMZ"),x=n("0wkw"),k=n("htYk"),S=n("u+Aj"),C=n("/usP"),w=n("87bA"),A=n("34li"),T=n("fGMb"),I=n("ynm0"),D=n("mlcS"),F=n("mH2o"),R=n("TMWK"),P=n("fgAA"),q=n("WfVQ"),E=n("/NrN"),L=Object(R.a)(E.a,{target:"erjzblc0"})({color:P.b.BaseGrey6()},"label:EllipsisButton;"),M=Object(R.a)(q.a,{target:"erjzblc2"})({width:"100%"},"label:ReasonArea;"),N=Object(R.a)("div",{target:"erjzblc3"})({display:"flex",flexDirection:"column"},"label:Container;"),z=Object(R.a)(E.a,{target:"erjzblc4"})({fontSize:"13px",justifyContent:"left",borderRadius:0,padding:"5px 6px","&:not(:first-child)":{borderTop:"1px solid "+P.a.grey(2)}},"label:StyledButton;"),B=n("A83I"),Q=n("5AFa"),W=((a={})[A.p.Answer]="\u8ba8\u8bba",a[A.p.Question]="\u8ba8\u8bba",a[A.p.Solution]="\u9898\u89e3",a[A.p.Undefined]="\u6587\u7ae0",a),H=(Object(y.a)({pickedList:[]}),function(e){var t,n,a=Object(i.__read)(Object(r.a)(u.a),1)[0].globalData,y=Object(i.__read)(Object(r.a)(F.g),2)[1].setEditingMode,R=Object(i.__read)(Object(r.a)(F.e),2)[1].setEditingMode,P=Object(i.__read)(Object(l.a)(!1),3),q=P[0],E=P[1],H=P[2],U=Object(i.__read)(Object(l.a)(!1),3),G=U[0],V=U[1],K=U[2],$=Object(i.__read)(Object(l.a)(!1),3),Y=$[0],X=$[1],J=$[2],Z=Object(i.__read)(Object(l.a)(!1),3),ee=Z[0],te=Z[1],ne=Z[2],ae=Object(i.__read)(Object(l.a)(!1),3),ie=ae[0],ce=ae[1],oe=ae[2],re=Object(i.__read)(Object(l.a)(!1),3),se=re[0],de=re[1],ue=re[2],le=Object(s.useRef)(null),be=Object(s.useContext)(b.d),pe=Object(v.b)().setState,je=e.uuid,Oe=Object(i.__read)(Object(r.a)(Q.a,{scope:je}),1)[0].picked,fe=function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,p.d.query({query:T.a,variables:{uuid:je},fetchPolicy:"no-cache"})];case 1:return[2,e.sent().data.qaAnswer]}}))}))},ge=Object(i.__read)(Object(s.useState)(!!(null===(t=null===e||void 0===e?void 0:e.pin)||void 0===t?void 0:t.pinnedInSubject)),2),_e=ge[0],me=ge[1],ye=Object(i.__read)(Object(s.useState)(!!(null===(n=null===e||void 0===e?void 0:e.sink)||void 0===n?void 0:n.sunk)),2),ve=ye[0],he=ye[1],xe=function(t,n,r,s,d,u){var l;return Object(i.__spread)(e.onEdit&&!Object(j.q)()?[{key:"edit",text:"\u7f16\u8f91",onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var c,o,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return c=function(){e.onEdit&&e.onEdit(),t(!0),n(!0)},[4,fe()];case 1:return(null===(o=i.sent())||void 0===o?void 0:o.slateValue)?(null===(r=null===a||void 0===a?void 0:a.userStatus)||void 0===r?void 0:r.isSignedIn)?pe({visible:!0,answerId:e.uuid}):h.a.signIn({}):c(),[2]}}))}))},selectable:!1}]:[],e.alwaysShowQuestion?[{key:"alwaysShow",text:e.alwaysShowQuestion.alwaysShow?"\u53d6\u6d88\u5217\u8868\u4e2d\u59cb\u7ec8\u663e\u793a\u8ba8\u8bba\u63cf\u8ff0":"\u5217\u8868\u4e2d\u59cb\u7ec8\u663e\u793a\u8ba8\u8bba\u63cf\u8ff0",onClick:e.alwaysShowQuestion.toggleQuestionAlwaysShow,inCancelPhase:e.alwaysShowQuestion.alwaysShow}]:[],e.blockComments?[{key:"blockComments",text:e.blockComments.blockComments?"\u5141\u8bb8\u8bc4\u8bba":"\u7981\u6b62\u8bc4\u8bba",onClick:e.blockComments.toggleQuestionBlockComments,inCancelPhase:e.blockComments.blockComments}]:[],e.alwaysExpandQuestion?[{key:"alwaysExpand",text:e.alwaysExpandQuestion.alwaysExpand?"\u53d6\u6d88\u59cb\u7ec8\u5c55\u5f00\u8ba8\u8bba\u63cf\u8ff0":"\u59cb\u7ec8\u5c55\u5f00\u8ba8\u8bba\u63cf\u8ff0",onClick:e.alwaysExpandQuestion.toggleQuestionAlwaysExpand,inCancelPhase:e.alwaysExpandQuestion.alwaysExpand}]:[],e.auth?[{key:"official",text:e.auth.official?"\u53d6\u6d88\u5b98\u65b9":"\u8bbe\u4e3a\u5b98\u65b9",onClick:e.auth.toggleOfficial,inCancelPhase:e.auth.official}]:[],e.selection?[{key:"pick",text:Object(c.jsx)(x.a,{uuid:e.uuid,value:e.selection.picked},void 0),onClick:void 0,inCancelPhase:Oe}]:[],e.recommend?[{key:"recommend",text:e.recommend.recommended?"\u53d6\u6d88\u63a8\u8350":"\u8bbe\u4e3a\u63a8\u8350",onClick:e.recommend.toggleRecommended,inCancelPhase:e.recommend.recommended}]:[],e.recommendGlobally?[{key:"recommendGlobally",text:e.recommendGlobally.recommendedGlobally?"\u53d6\u6d88\u9996\u9875\u63a8\u8350":"\u9996\u9875\u63a8\u8350",onClick:e.recommendGlobally.toggleRecommendedGlobally,inCancelPhase:e.recommendGlobally.recommendedGlobally}]:[],e.pinSite?[{key:"pinnedGlobally",text:e.pinSite.pinnedGlobally?"\u53d6\u6d88\u5168\u7ad9\u7f6e\u9876":"\u5168\u7ad9\u7f6e\u9876",onClick:e.pinSite.togglePinnedGlobally,inCancelPhase:e.pinSite.pinnedGlobally}]:[],e.pin&&!e.pin.text?[{key:"pinned",text:(e.pin.pinnedInSubject?"\u53d6\u6d88":"")+"\u8bdd\u9898\u5185\u7f6e\u9876",onClick:e.pin.togglePinnedInSubject,inCancelPhase:e.pin.pinnedInSubject}]:[],e.pin&&e.pin.text?[{key:"pinnedInQuestion",text:(_e?"\u53d6\u6d88":"")+e.pin.text,onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,p.d.mutate({mutation:I.a,variables:{answerId:je,pinned:!_e},fetchPolicy:"no-cache"})];case 1:return e.sent(),[2,{resPin:!_e}]}}))}))];case 1:return e=t.sent().resPin,me(e),e?o.b.success("\u5df2\u7f6e\u9876"):o.b.success("\u5df2\u53d6\u6d88\u7f6e\u9876"),[2]}}))}))},inCancelPhase:_e}]:[],e.sink?[{key:"sunk",text:ve?"\u53d6\u6d88\u4e0b\u6c89":"\u4e0b\u6c89",onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,p.d.mutate({mutation:D.a,variables:{uuid:je,sunk:!ve},fetchPolicy:"no-cache"})];case 1:return e.sent(),[2,{resSunk:!ve}]}}))}))];case 1:return e=t.sent().resSunk,he(e),e?o.b.success("\u5df2\u4e0b\u6c89"):o.b.success("\u5df2\u53d6\u6d88\u4e0b\u6c89"),[2]}}))}))},inCancelPhase:ve}]:[],e.withdraw?[{key:"withdraw",text:"\u4e0b\u7ebf",onClick:d,selectable:!1}]:[],[{key:"mute",text:Object(c.jsx)(k.a,{contentType:e.type,uuid:e.uuid,value:e.status!==A.o.Muted},void 0),onClick:void 0,selectable:!1},{key:"delete",text:"\u5220\u9664",onClick:s,selectable:!1}],(null!==(l=e.canEdit)&&void 0!==l?l:e.isAuthor)?[]:[{key:"report",text:"\u4e3e\u62a5",onClick:r,selectable:!1}],e.articleFeedback?[{key:"feedback",text:"\u53cd\u9988",onClick:u}]:[])}(y,R,E,V,ce,de),ke=xe.filter((function(e){var t=e.selectable,n=void 0===t||t,a=e.inCancelPhase;return n&&(void 0!==a&&a)})).map((function(e){return e.key})),Se=Object(s.useCallback)((function(){e.onDelete(),K()}),[e.onDelete]),Ce=Object(s.useMemo)((function(){var t,n;if(null===a||void 0===a?void 0:a.commonNojPermissionTypes.includes(A.Sb.ColumnsReview))return Object(c.jsx)(_.a,Object(i.__assign)({selectedKeys:ke},{children:xe.map((function(e){var t=e.text,n=e.key,a=e.onClick;return Object(c.jsx)(_.a.Item,Object(i.__assign)({onClick:a},{children:t}),n)}))}),void 0);var o=e.articleFeedback?Object(c.jsx)(z,Object(i.__assign)({size:"sm",kind:"transparent",onClick:de},{children:"\u53cd\u9988"}),void 0):null;return(null!==(t=e.canEdit)&&void 0!==t?t:e.isAuthor)?Object(c.jsxs)(N,{children:[e.onEdit&&e.status!==A.o.Offline&&Object(c.jsx)(z,Object(i.__assign)({size:"sm",kind:"transparent",onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t=function(){e.onEdit&&e.onEdit(),y(!0),R(!0)},[4,fe()];case 1:return(null===(n=i.sent())||void 0===n?void 0:n.slateValue)?(null===(c=null===a||void 0===a?void 0:a.userStatus)||void 0===c?void 0:c.isSignedIn)?pe({visible:!0,answerId:e.uuid}):h.a.signIn({}):t(),[2]}}))}))}},{children:"\u7f16\u8f91"}),void 0),!(null===(n=e.disabledOperation)||void 0===n?void 0:n.includes(B.b.FeatureRequest))&&e.requestToFeatured&&Object(c.jsx)(z,Object(i.__assign)({size:"sm",kind:"transparent",onClick:X},{children:"\u7533\u8bf7\u7cbe\u9009"}),void 0),Object(c.jsx)(z,Object(i.__assign)({size:"sm",kind:"transparent",onClick:e.requestToDelete?te:V},{children:e.requestToDelete?"\u7533\u8bf7\u5220\u9664":"\u5220\u9664"}),void 0),o]},void 0):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(z,Object(i.__assign)({size:"sm",kind:"transparent",onClick:E},{children:"\u4e3e\u62a5"}),void 0),o]},void 0)}),[null===a||void 0===a?void 0:a.commonNojPermissionTypes,ke,xe,e,de,X,te,V,y,R,E]),we=Object(s.useCallback)((function(){e.requestToFeatured&&e.requestToFeatured(),J()}),[e.requestToFeatured]),Ae=Object(s.useCallback)((function(){le.current&&(le.current.value.trim().length?(e.requestToDelete&&e.requestToDelete(le.current.value.trim()),ne(),le.current.value):o.b.error("\u8bf7\u8f93\u5165\u7533\u8bf7\u7406\u7531"))}),[e.requestToDelete]),Te=Object(i.__read)(d.a.useState(!1),2),Ie=Te[0],De=Te[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a,Object(i.__assign)({content:Object(c.jsx)("div",Object(i.__assign)({onClick:O.c},{children:Ce}),void 0),isActive:Ie&&!!be.isSignedIn,onChangeActive:De,trigger:Object(j.q)()?"click":"hover"},{children:Object(c.jsx)(L,{kind:e.buttonKind||"transparent",prefixIcon:Object(c.jsx)(f.a,{type:"ellipsis"},void 0),size:"sm",disabled:!be.isSignedIn,onClick:O.c},void 0)}),void 0),Object(c.jsx)(S.a,{visible:q,resourceId:e.resourceId,resourceType:e.resourceType,onClose:H,onOk:e.onReport},void 0),e.requestToFeatured&&Object(c.jsxs)(g.a,Object(i.__assign)({visible:Y,onOk:we,onClose:J},{children:["\u60a8\u786e\u5b9a\u4e3a\u8be5",W[e.type],"\u7533\u8bf7\u7cbe\u9009\u5417\uff1f"]}),void 0),Object(c.jsxs)(g.a,Object(i.__assign)({type:"threat",visible:G,onOk:Se,onClose:K},{children:["\u60a8\u786e\u5b9a\u5220\u9664\u8be5",W[e.type],"\u5417\uff1f"]}),void 0),Object(c.jsx)(g.a,Object(i.__assign)({visible:ee,onOk:Ae,onClose:ne,title:"\u7533\u8bf7\u5220\u9664"+W[e.type]},{children:Object(c.jsx)(M,{placeholder:"\u8bf7\u8f93\u5165\u5220\u9664\u7684\u7406\u7531",innerRef:le},void 0)}),void 0),e.withdraw&&Object(c.jsx)(C.a,{visible:ie,warningText:"\u6587\u7ae0\u4e0b\u7ebf\u540e\u5c06\u9000\u56de\u81f3\u7528\u6237\u8349\u7a3f",resourceType:e.resourceType,resourceId:e.resourceId,onClose:oe,flagStatus:A.ib.EditRequested,onOk:e.withdraw.onWithdrawOk},void 0),e.articleFeedback&&Object(c.jsx)(w.a,{isActive:se,onClose:ue,articleSlug:e.articleFeedback.slug,articleTitle:e.articleFeedback.title},void 0)]},void 0)})},QR8y:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("D57K"),i=n("jg1C"),c=n("ERkP"),o=n("ildc"),r=n("e96/"),s=n("y9rd"),d=n("6V3P"),u=n("Po8h");function l(e){var t=e.link,n=e.onClick,l=Object(a.__rest)(e,["link","onClick"]),b=Object(c.useCallback)((function(e){t&&r.a.copy(t,(function(){s.a.success("\u5df2\u590d\u5236\u5206\u4eab\u94fe\u63a5")})),null===n||void 0===n||n(e)}),[t,n]);return Object(i.jsx)("div",Object(a.__assign)({style:{display:"flex"}},{children:Object(i.jsx)(u.d,Object(a.__assign)({},l,{kind:"transparent",prefixIcon:Object(i.jsx)(d.a,{},void 0),onClick:b},{children:Object(o.q)()?"":"\u5206\u4eab"}),void 0)}),void 0)}},Qj05:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={provide:new(n("5/dZ").c)("DiscussHistory"),useValue:null}},RtEr:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/algorithm-and-data-structures.e3dd1b9e.png"},TQP6:function(e,t,n){"use strict";n.d(t,"m",(function(){return tt})),n.d(t,"s",(function(){return Qn})),n.d(t,"g",(function(){return Oi})),n.d(t,"a",(function(){return T.a})),n.d(t,"b",(function(){return T.b})),n.d(t,"c",(function(){return T.c})),n.d(t,"f",(function(){return T.f})),n.d(t,"d",(function(){return T.d})),n.d(t,"e",(function(){return T.e})),n.d(t,"k",(function(){return T.j})),n.d(t,"h",(function(){return T.g})),n.d(t,"i",(function(){return T.h})),n.d(t,"j",(function(){return T.i})),n.d(t,"l",(function(){return T.k})),n.d(t,"n",(function(){return T.l})),n.d(t,"o",(function(){return T.m})),n.d(t,"p",(function(){return T.n})),n.d(t,"q",(function(){return T.o})),n.d(t,"r",(function(){return T.p})),n.d(t,"t",(function(){return T.q})),n.d(t,"u",(function(){return T.r}));var a=n("D57K"),i=n("jg1C"),c=n("zCf4"),o=n("YnR9"),r=n("PZOx"),s=n("ildc"),d=n("8JP3"),u=n("r2qc"),l=n("+0ST"),b=n("yoUK"),p=n("K/af"),j=n("MwrP"),O=n.n(j),f=n("ERkP"),g=n.n(f),_=n("mQQu"),m=n("ttV/"),y=n("JFCy"),v=n("l1SX"),h=n("Pigy"),x=n("+Aeu"),k=n("nXSc"),S=n("jWBs"),C=n("9KnD"),w=n("34li"),A=n("VxrX"),T=n("mH2o"),I=n("GlVj"),D=n("yqT4"),F=g.a.memo((function(e){var t=Object(I.e)(e);return Object(i.jsx)(D.e,{children:Object(i.jsx)(u.b,Object(a.__assign)({},t),void 0)},void 0)})),R=o.a.main,P=R.PATH,q=R.paths,E=function(){var e=Object(c.k)().solutionId,t=Object(a.__read)(Object(p.a)(T.q),2),n=t[0],o=t[1],r=Object(a.__read)(Object(p.a)(T.c),2)[1].dispose$,d=Object(S.a)().getUsernameConfigs,b=n.detail,j=n.loading,I=b.topicId,R=b.lastCommentCreatedAtInSec,E=b.title,L=b.cover,M=b.content,N=b.viewCount,z=b.createdAt,B=b.updatedAt,Q=b.author,W=b.relatedTags,H=b.picked,U=b.official,G=b.summary,V=g.a.useMemo((function(){var e=[];return U&&e.push({name:"\u5b98\u65b9",slug:"official",kind:"yellow"}),H&&e.push({name:"\u7cbe\u9009",slug:"picked",kind:"green"}),e.concat(W).map((function(e){return Object(a.__assign)(Object(a.__assign)({},e),{clickable:!1})}))}),[U,H,W]);Object(f.useEffect)((function(){return o.getDetail(e),function(){o.resetStore(),o.dispose$(),r()}}),[e]),Object(f.useEffect)((function(){var e=null===Q||void 0===Q?void 0:Q.slug;d([e])}),[d,null===Q||void 0===Q?void 0:Q.slug]),Object(f.useEffect)((function(){Object(_.b)()}),[]);var K,$=Object(f.useMemo)((function(){return{cancelComment:function(){return A.a.discuss.discussArticleCancelComment(e)},deleteComment:function(t){return A.a.discuss.discussArticleDeleteComment(e,t)},cancelDeleteComment:function(t){return A.a.discuss.discussArticleCancelDeleteComment(e,t)},confirmDeleteComment:function(t){return A.a.discuss.discussArticleConfirmDeleteComment(e,t)},submitComment:function(t,n){return A.a.discuss.discussArticleSubmitComment(t,n,e)}}}),[e]),Y=Object(m.a)([b],(function(t){var n=Object(a.__read)(t,1)[0];return Object(x.j)(n.author.name,q.discuss.solutionDetail({solutionId:e}))}));return j?Object(i.jsx)(D.b,{children:Object(i.jsx)(v.a,{height:"100%"},void 0)},void 0):O()(b)?Object(i.jsx)(D.b,{children:Object(i.jsx)(h.a,{type:"img",size:y.c,description:"\u9898\u89e3\u4e0d\u5b58\u5728"},void 0)},void 0):b.status===w.o.Deleted?Object(i.jsx)(c.b,{to:P.discuss.solutionDetail},void 0):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(C.a,{url:"https://leetcode.cn"+q.discuss.solutionDetail({solutionId:e}),title:E,image:L,description:G.replace(/\s+/g," "),keywords:W.map((function(e){return e.name})),pubDate:z,upDate:B||z,lrDate:R?new Date(1e3*R).toISOString():void 0},void 0),Object(s.q)()?Object(i.jsx)(l.b,Object(a.__assign)({},b,{articleId:""}),void 0):Object(i.jsxs)(D.c,{children:[Object(i.jsx)(D.i,{type:"solution",detailTitle:E},void 0),L&&Object(i.jsx)(D.a,{imgUrl:L},void 0),Object(i.jsx)(u.j,{title:E,author:Q,createdAt:z,updatedAt:B,viewNum:N},void 0),Object(i.jsx)(D.j,Object(a.__assign)({onCopy:Y,rootFontSize:16},{children:M}),void 0),Object(i.jsx)(F,Object(a.__assign)({uuid:e},b),void 0),Object(i.jsx)(u.d,{tags:V},void 0),Object(i.jsx)(D.f,{children:Object(i.jsx)(k.a,Object(a.__assign)({content:"\xa9 \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709"},{children:Object(i.jsx)(D.g,{children:"\xa9 \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709"},void 0)}),void 0)},void 0),I&&Object(i.jsx)(u.l,{backPath:"/",id:I,sharedCommentId:(K=window.location.href.match(/\/solution\/[^/]+\/comments\/(\d+)/),K&&K[1]),tracker:$},void 0)]},void 0)]},void 0)},L=n("+75L"),M=n("bz6h"),N=n("lXyA"),z=n.n(N),B=n("0FzZ"),Q=n("AF8X"),W=n("lgB9"),H=n("2z5K"),U=n.n(H),G=n("1QlS"),V=n("TMWK"),K=n("fgAA"),$=n("N9oN"),Y=Object(V.a)(u.A,{target:"e2a1dry1"})({marginBottom:"16px"},(function(e){return e.isMobile?{padding:"0px 16px",marginBottom:"2px","> div, > button":{fontSize:"14px",margin:"0px 10px 12px 0px"}}:{}}),"label:StyledTags;"),X=Object(V.a)($.a,{target:"e2a1dry2"})({height:"32px","input&":{width:"250px"}},"label:StyledInput;"),J=Object(V.a)("div",{target:"e2a1dry3"})({position:"relative"},"label:SearchInputWrap;"),Z=Object(V.a)("div",{target:"e2a1dry4"})({position:"absolute",top:"38px",backgroundColor:K.b.Paper(),borderRadius:"8px",padding:"9px 12px",width:"250px",boxShadow:"0px 2px 8px "+K.b.fixed.FillSecondary(),display:"flex",flexWrap:"wrap"},"label:SearchInputOverlayWrap;"),ee=Object(f.memo)((function(e){var t=e.symbol,n=e.value,o=e.onChange,r=Object(a.__read)(Object(p.a)(T.i,{scope:t}),2),s=r[0],d=s.selectedTags,l=s.searchedTags,b=r[1],j=Object(c.k)().subjectSlug,O=void 0===j?L.n:j,g=Object(a.__read)(Object(G.a)(!1),3),_=g[0],m=g[1],y=g[2],v=Object(f.useCallback)((function(){M.a.circleListSearchClick(O)}),[O]),h=Object(f.useCallback)((function(){setTimeout((function(){y()}),300)}),[y]),x=Object(f.useCallback)((function(e){var n=e.target.value;null===o||void 0===o||o(n),b.searchTags({scope:t,subjectSlug:t===L.m?void 0:O,query:n}),m()}),[o,m,t,O,b]),k=Object(f.useCallback)((function(e){var t=l.filter((function(t){return t.slug===e})),n=U()(d,t,"slug");b.setSelectedTags(n),null===o||void 0===o||o("")}),[o,l,d,b]),S=Object(f.useMemo)((function(){return d.map((function(e){return e.slug}))}),[d]),C=Object(f.useMemo)((function(){return _&&l.length?Object(i.jsx)(Z,{children:l.map((function(e){var t=S.includes(e.slug);return Object(i.jsx)(u.z,{item:e,isActive:t,onClickTag:k},e.slug)}))},void 0):null}),[k,_,l,S]);return Object(i.jsxs)(J,{children:[Object(i.jsx)(X,{value:n,placeholder:"\u641c\u7d22",onChange:x,onClick:v,onBlur:h},void 0),C]},void 0)})),te=n("I0wa"),ne=n.n(te),ae=n("Eqz+"),ie=n.n(ae),ce=Object(f.memo)((function(e){var t=e.symbol,n=e.subjectSlug,c=e.onSelectTag,o=Object(a.__read)(Object(p.a)(T.i,{scope:t}),2),r=o[0],d=o[1],u=r.recommendTags,l=r.selectedTags,b=Object(f.useMemo)((function(){var e=ne()(Object(a.__spread)(l),u,"slug");return Object(a.__spread)(e,u)}),[u,l]),j=Object(f.useMemo)((function(){return l.map((function(e){return e.slug}))}),[l]),O=Object(f.useCallback)((function(e){var t=b.filter((function(t){return t.slug===e})),a=ie()(l,t,"slug");d.setSelectedTags(a),c(),M.a.circleListTagsClick(n,e)}),[b,c,l,n,d]);return Object(i.jsx)(Y,{isMobile:Object(s.q)(),height:Object(s.q)()?32:void 0,items:b,activeSlugs:j,count:Object(s.q)()?5:8,expandedCount:Object(s.q)()?8:void 0,color:K.b.BlueStandard(),shouldShowMoreButton:Object(s.q)(),expandable:Object(s.q)(),onClickTag:O},void 0)})),oe=n("uQtW"),re=o.a.main.paths,se=function(){var e=Object(c.i)(),t=Object(c.k)().filter,n=void 0===t?L.k.HOTTEST:t,o=Object(a.__read)(Object(p.a)(T.f),2),r=o[0],d=o[1],l=Object(a.__read)(Object(p.a)(T.i,{scope:L.m}),2),b=l[0],j=l[1],O=Object(S.a)().getUsernameConfigs,g=Object(a.__read)(Object(f.useState)(!1),2),_=g[0],m=g[1],y=Object(a.__read)(Object(x.q)(),2),h=y[0],k=y[1],C=r.allCollection,I=r.filter,D=I.sortingOption,F=I.queryStr,R=I.pageNum,P=b.isVerifyingTagSlugs,q=b.selectedTags,E=Object(W.c)(),M=Object(a.__read)(Object(p.a)(T.g),2)[1].setEditingMode,N=Object(f.useMemo)((function(){return q.map((function(e){return e.slug}))}),[JSON.stringify(q)]),H=Object(f.useMemo)((function(){return Object(Q.d)()}),[]),U=Object(Q.u)({validQueryKeys:H,setPage:d.setPage,setQuery:d.setQuery,verifyTagSlugs:j.verifyTagSlugs});Object(f.useEffect)((function(){var e=C.list.map((function(e){return e.author.slug}));O(e)}),[C,O]),Object(f.useEffect)((function(){return function(){d.dispose$(),j.dispose$()}}),[]),Object(f.useEffect)((function(){U({page:R,query:F,tag:N})}),[R,F,N]),Object(f.useEffect)((function(){d.getArticles({isFeatured:n===L.k.RECOMMEND,pageNum:R,query:F,tagSlugs:N,tagsVerified:!P,effect:z()(k),sortType:n===L.k.NEWEST?w.x.Latest:w.x.Hottest})}),[n,D,F,N,P,d,R,k]),Object(f.useEffect)((function(){j.getRecommendTags({scope:L.m,subjectSlug:"article"})}),[j]);var G=Object(f.useMemo)((function(){var e=C.list,t=C.totalNum,c=C.pageSize;return C.loading?Object(i.jsx)(oe.a,{children:Object(i.jsx)(v.a,{},void 0)},void 0):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:e.map((function(e){return Object(i.jsx)(u.c,Object(a.__assign)({sticky:n!==L.k.NEWEST&&e.pinnedGlobally},e),e.uuid)}))},void 0),Object(i.jsx)(u.q,{current:R,total:t,pageSize:c,onChange:d.setPage},void 0)]},void 0)}),[d.setPage,C,R,n]),V=Object(f.useCallback)((function(e){d.setQuery(e),d.setPage(1),A.a.discuss.discussSearchArticle(e)}),[]),K=Object(f.useCallback)((function(){d.setPage(1)}),[d]),$=Object(f.useCallback)((function(){m(!1)}),[]),Y=Object(f.useCallback)((function(){A.a.discuss.discussClickOpenArticleEditor(),e.push(re.discuss.writeArticle({}))}),[]);return Object(i.jsxs)(oe.b,{children:[h,!Object(s.q)()&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(oe.e,{children:Object(i.jsx)(ee,{symbol:L.m,value:F,onChange:V},void 0)},void 0),Object(i.jsx)(oe.d,Object(a.__assign)({prefixIcon:Object(i.jsx)(B.a,{},void 0),kind:"primary",onClick:function(){E(),M(!1)}},{children:"\u53d1\u8d77\u8ba8\u8bba"}),void 0)]},void 0),Object(i.jsx)(ce,{symbol:L.m,subjectSlug:L.l,onSelectTag:K},void 0),G,Object(i.jsx)(u.e,{visible:_,onAgree:Y,onClose:$},void 0)]},void 0)},de=n("ZRwv"),ue=n("R34u"),le=n("UqMZ"),be=n("7a+J"),pe=Object(V.a)("div",{target:"e2kbc950"})({paddingTop:"71px",textAlign:"center"},"label:PlaceHolder;"),je=Object(V.a)("div",{target:"e2kbc951"})({display:"inline-flex",alignItems:"center",color:K.b.BrandGrey(),svg:{width:"21px",height:"21px",marginRight:"6px"}},"label:Description;"),Oe=Object(V.a)("div",{target:"e2kbc952"})(be.a.card,{margin:"14px auto",width:"102px",height:"32px",borderRadius:"51px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",color:K.b.BlueStandard(),transition:"all 0.4s",svg:{width:"16px",height:"16px",marginRight:"6px"},":hover":{color:K.b.White(),background:K.b.BlueStandard()}},"label:Button;"),fe=function(){var e,t=Object(a.__read)(Object(p.a)(T.k),2),n=t[0],o=t[1],r=Object(a.__read)(Object(p.a)(T.i,{scope:L.o}),2),d=r[0],l=r[1],b=Object(S.a)().getUsernameConfigs,j=Object(c.k)(),O=j.subjectSlug,g=void 0===O?L.n:O,_=j.filter,m=void 0===_?L.k.HOTTEST:_,y=Object(a.__read)(Object(x.q)(),2),h=y[0],k=y[1],C=Object(a.__read)(Object(p.a)(de.a),1)[0].globalData,I=n.list,D=n.loading,F=n.isEmpty,R=n.pageNum,P=n.totalNum,q=n.pageSize,E=n.filter.query,M=d.isVerifyingTagSlugs,N=d.selectedTags,H=Object(Q.u)({validQueryKeys:["page","query","tag"],validOrders:L.b.map((function(e){return e.key})),defaultOrderBy:w.Yb.Hottest,setPage:o.setPageNum,setQuery:o.setQuery,verifyTagSlugs:l.verifyTagSlugs}),U=Object(f.useCallback)((function(e){return o.setPageNum(e)}),[o]),G=Object(W.c)(),V=Object(f.useMemo)((function(){if(D)return Object(i.jsx)(oe.a,{children:Object(i.jsx)(v.a,{},void 0)},void 0);if(F)return Object(i.jsxs)(pe,{children:[Object(i.jsxs)(je,{children:[Object(i.jsx)(ue.a,{},void 0),"\u6ca1\u6709\u627e\u5230\u4f60\u641c\u7d22\u7684\u5185\u5bb9"]},void 0),Object(i.jsxs)(Oe,Object(a.__assign)({onClick:G},{children:[Object(i.jsx)(B.a,{},void 0),"\u95ee\u95ee\u5927\u5bb6"]}),void 0)]},void 0);var e=N.map((function(e){return e.slug}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{children:I.map((function(t){if(Object(Q.j)(t)){var n=m!==L.k.NEWEST&&(""===g?t.pinnedGlobally:t.pinnedGlobally||t.pinned);return Object(i.jsx)(u.u,Object(a.__assign)({sticky:n,selectedTagSlugs:e},t),t.uuid)}}))},void 0),Object(i.jsx)(u.q,{current:R,total:P,pageSize:q,onChange:U},void 0)]},void 0)}),[F,I,D,U,R,g,P,N,q,G,m]),K=Object(f.useCallback)((function(e){o.setQuery(e),o.setPageNum(1),A.a.discuss.discussSearchDiscussion(e)}),[o]),$=Object(f.useCallback)((function(){o.setPageNum(1)}),[o]);Object(W.a)(),Object(f.useEffect)((function(){H(Object(a.__assign)(Object(a.__assign)({},Object(Q.r)(location.search)),{query:E,page:R,tag:N.map((function(e){return e.slug}))}))}),[R,E,N]),Object(f.useEffect)((function(){M||o.getList({query:E,isFeatured:m===L.k.RECOMMEND,pageNum:R,tags:N,subjectSlug:g,effect:z()(k),sortType:m===L.k.NEWEST?w.x.Latest:w.x.Hottest})}),[g,m,E,N,M,o,R,k]),Object(f.useEffect)((function(){l.getRecommendTags({scope:L.o,subjectSlug:g})}),[g,l]),Object(f.useEffect)((function(){return function(){o.dispose$(),l.dispose$()}}),[o,l]),Object(f.useEffect)((function(){var e=I.map((function(e){return e.author.slug}));b(e)}),[b,I]);var Y=function(){var e;(null===(e=null===C||void 0===C?void 0:C.userStatus)||void 0===e?void 0:e.isSignedIn)?G():le.a.signIn({})},X="undefined"!==typeof document&&new URL(location.href).searchParams.get("openEditor");return Object(f.useEffect)((function(){var e;X&&(null===(e=null===C||void 0===C?void 0:C.userStatus)||void 0===e?void 0:e.isSignedIn)&&Y()}),[X,null===(e=null===C||void 0===C?void 0:C.userStatus)||void 0===e?void 0:e.isSignedIn]),Object(i.jsxs)(oe.b,{children:[h,!Object(s.q)()&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(oe.e,{children:Object(i.jsx)(ee,{symbol:L.o,value:E,onChange:K},void 0)},void 0),Object(i.jsx)(oe.d,Object(a.__assign)({prefixIcon:Object(i.jsx)(B.a,{},void 0),kind:"primary",onClick:Y},{children:"\u53d1\u8d77\u8ba8\u8bba"}),void 0)]},void 0),Object(i.jsx)(ce,{symbol:L.o,subjectSlug:g,onSelectTag:$},g),V]},void 0)},ge=n("6q4e"),_e=n("daAW"),me=Object(V.a)("div",{target:"e1cu6l650"})({width:"100%"},"label:Wrapper;"),ye=Object(V.a)("div",{target:"e1cu6l651"})({display:"flex",height:"32px",marginBottom:"10px",padding:0,marginTop:0},"label:TabHeader;"),ve=Object(V.a)(_e.a,{shouldForwardProp:ge.a,target:"e1cu6l652"})((function(e){var t=e.isActive;return{height:"100%",display:"flex",alignItems:"center",fontSize:"16px",fontWeight:t?500:400,lineHeight:"32px",borderBottom:t?"2px solid "+K.b.LabelPrimary():"2px solid transparent",cursor:"pointer",position:"relative",transition:"0.4s all",marginRight:"32px",":hover":{fontWeight:500},"&, &:hover":{color:t?K.b.LabelPrimary():K.b.LabelTertiary()}}}),"label:StyledLink;"),he=Object(V.a)("div",{target:"e1cu6l653"})({width:"100%",height:"56px"},"label:MobileSpaceHolder;"),xe=o.a.main.paths,ke=g.a.memo((function(){var e=Object(c.k)(),t=e.subjectSlug,n=void 0===t?L.n:t,o=e.filter,r=void 0===o?L.k.HOTTEST:o,u=Object(f.useMemo)((function(){return[{title:"\u6700\u70ed",link:xe.discuss.home({subjectSlug:n,filter:L.k.HOTTEST}),key:L.k.HOTTEST},{title:"\u6700\u65b0",link:xe.discuss.home({subjectSlug:n,filter:L.k.NEWEST}),key:L.k.NEWEST},{title:"\u63a8\u8350",link:xe.discuss.home({subjectSlug:n,filter:L.k.RECOMMEND}),key:L.k.RECOMMEND}]}),[n]),l=Object(f.useCallback)((function(e){var t=e.currentTarget.dataset.key;M.a.circleListTabClick(n,t)}),[n]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(C.a,{title:"\u8ba8\u8bba",description:"\u7a0b\u5e8f\u5458\u7684\u4e13\u5c5e\u5708\u5b50\uff0c\u5728\u8fd9\u91cc\u63a2\u8ba8\u3001\u5b66\u4e60\u3001\u4ea4\u53cb\u3001\u804a\u5929\u3002"},void 0),Object(i.jsxs)(me,{children:[Object(s.q)()?Object(i.jsx)(he,{},void 0):Object(i.jsx)(ye,{children:u.map((function(e){var t=e.title,n=e.link,c=e.key;return Object(i.jsx)(ve,Object(a.__assign)({to:n,isActive:r===c,"data-key":c,onClick:l},{children:t}),c)}))},void 0),Object(i.jsx)(d.a,{children:n===L.l?Object(i.jsx)(se,{},void 0):Object(i.jsx)(fe,{},void 0)},void 0)]},void 0)]},void 0)})),Se=function(){var e=Object(a.__read)(Object(p.a)(T.l,{scope:L.q}),2),t=e[0],n=e[1],c=t.totalNum,o=t.list,r=t.loading,s=t.isEmpty,d=t.page,l=t.filter.queryStr,b=Object(Q.u)({validQueryKeys:["page","query"],setPage:n.setPage,setQuery:n.setQuery});return Object(f.useEffect)((function(){n.getList({page:d,queryStr:l}),b({query:l,page:d})}),[d,l]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(oe.f,{value:l,onSearch:n.setQuery},void 0),Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===o.length,isLoading:r,isFetchedResultEmpty:s,onPageChange:n.setPage,page:d,totalNum:c,description:"\u65e0\u6211\u7684\u6587\u7ae0"},{children:o.map((function(e){return Object(i.jsx)(u.c,Object(a.__assign)({},e),e.uuid)}))}),void 0)]},void 0)},Ce=n("1szP"),we=g.a.memo((function(){var e=Object(a.__read)(Object(p.a)(T.m),2),t=e[0],n=e[1],c=t.list,o=t.loading,r=t.isEmpty,s=t.totalNum,d=t.page,l=Object(Q.u)({validQueryKeys:["page"],setPage:n.setPage});return Object(f.useEffect)((function(){n.getList(d),l({page:d})}),[d]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===c.length,isLoading:o,isFetchedResultEmpty:r,onPageChange:n.setPage,page:d,totalNum:s,description:"\u65e0\u6211\u7684\u8349\u7a3f"},{children:Object(i.jsx)(Ce.ResizeProvider,{children:c.map((function(e){return Object(i.jsx)(u.m,{draft:e},e.uuid)}))},void 0)}),void 0)})),Ae=o.a.main,Te=Ae.paths,Ie=Ae.PATH,De=[{title:"\u6211\u7684\u6587\u7ae0",key:"article"},{title:"\u8349\u7a3f",key:"draft"}],Fe=function(e){var t=e.tab,n=Object(a.__read)(Object(f.useState)(t),2),o=n[0],r=n[1],s=Object(c.i)(),d=Object(f.useCallback)((function(e){o!==e&&(s.push("article"===e?Ie.discuss.myArticles:Ie.discuss.myDrafts),r(e))}),[o]);return Object(f.useEffect)((function(){s.push(Te.discuss.myDiscussions({tab:L.e.questions}))}),[s]),Object(i.jsxs)(oe.c,{children:[Object(i.jsx)(u.n,{activeTab:o,onTabClick:d,tabs:De},void 0),"article"===o?Object(i.jsx)(Se,{},void 0):Object(i.jsx)(we,{},void 0)]},void 0)},Re=n("5ZzG"),Pe=n("vb2G"),qe=function(){var e=Object(a.__read)(Object(p.a)(T.l,{scope:L.s}),2),t=e[0],n=e[1],c=t.totalNum,o=t.list,r=t.loading,s=t.isEmpty,d=t.page,l=t.filter.queryStr,b=Object(Q.u)({validQueryKeys:["page","query"],setPage:n.setPage,setQuery:n.setQuery});return Object(f.useEffect)((function(){n.getList({page:d,queryStr:l}),b({query:l,page:d})}),[d,l]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===o.length,isLoading:r,isFetchedResultEmpty:s,onPageChange:n.setPage,page:d,totalNum:c,description:"\u65e0\u6211\u6536\u85cf\u7684\u8ba8\u8bba"},{children:o.map((function(e){return Object(Q.e)(e)?Object(i.jsx)(u.a,Object(a.__assign)({sticky:!1},e),e.uuid):Object(Q.j)(e)?Object(i.jsx)(u.u,Object(a.__assign)({sticky:e.pinned||e.pinnedGlobally},e),e.uuid):void 0}))}),void 0)},void 0)},Ee=function(){var e=Object(a.__read)(Object(p.a)(T.l,{scope:L.t}),2),t=e[0],n=e[1],c=t.totalNum,o=t.list,r=t.loading,s=t.isEmpty,d=t.page,l=t.filter.queryStr,b=Object(Q.u)({validQueryKeys:["page","query"],setPage:n.setPage,setQuery:n.setQuery});return Object(f.useEffect)((function(){n.getList({page:d,queryStr:l}),b({query:l,page:d})}),[d,l]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(oe.f,{value:l,onSearch:n.setQuery},void 0),Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===o.length,isLoading:r,isFetchedResultEmpty:s,onPageChange:n.setPage,page:d,totalNum:c,description:"\u65e0\u6211\u6536\u85cf\u7684\u6587\u7ae0"},{children:o.map((function(e){return Object(i.jsx)(u.c,Object(a.__assign)({},e),e.uuid)}))}),void 0)]},void 0)},Le=o.a.main.paths,Me=function(){var e=Object(a.__read)(Object(p.a)(T.l,{scope:L.p}),2),t=e[0],n=e[1],c=t.totalNum,o=t.list,r=t.loading,s=t.page,d=Object(Q.u)({validQueryKeys:["page"],setPage:n.setPage});return Object(f.useEffect)((function(){n.getList({page:s,queryStr:""}),d({page:s})}),[s]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===o.length,isLoading:r,isFetchedResultEmpty:0===o.length,onPageChange:n.setPage,page:s,totalNum:c,description:"\u672a\u53c2\u4e0e\u8fc7\u8ba8\u8bba"},{children:o.map((function(e){return Object(i.jsx)(u.a,Object(a.__assign)({sticky:e.parent.pinned||e.parent.pinnedGlobally},e),e.uuid)}))}),void 0)},Ne=function(){var e=Object(a.__read)(Object(p.a)(T.l,{scope:L.u}),2),t=e[0],n=e[1],c=t.totalNum,o=t.list,r=t.loading,s=t.page,d=Object(Q.u)({validQueryKeys:["page"],setPage:n.setPage});return Object(f.useEffect)((function(){n.getList({page:s,queryStr:""}),d({page:s})}),[s]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===o.length,isLoading:r,isFetchedResultEmpty:0===o.length,onPageChange:n.setPage,page:s,totalNum:c,description:"\u672a\u53d1\u8d77\u8fc7\u8ba8\u8bba"},{children:o.map((function(e){return Object(i.jsx)(u.u,Object(a.__assign)({sticky:e.pinned||e.pinnedGlobally},e),e.uuid)}))}),void 0)},ze=o.a.main.paths,Be=function(){var e=Object(a.__read)(Object(p.a)(T.l,{scope:L.v}),2),t=e[0],n=e[1],c=t.totalNum,o=t.list,r=t.loading,s=t.isEmpty,d=t.page,l=t.filter.queryStr,b=Object(Q.u)({validQueryKeys:["page","query"],setPage:n.setPage,setQuery:n.setQuery});return Object(f.useEffect)((function(){n.getList({page:d,queryStr:l}),b({query:l,page:d})}),[d,l]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(oe.f,{value:l,onSearch:n.setQuery},void 0),Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===o.length,isLoading:r,isFetchedResultEmpty:s,onPageChange:n.setPage,page:d,totalNum:c,description:"\u65e0\u6211\u5173\u6ce8\u7684\u6587\u7ae0"},{children:o.map((function(e){return Object(i.jsx)(u.c,Object(a.__assign)({},e),e.uuid)}))}),void 0)]},void 0)},Qe=n("OKNS"),We=function(){var e=Object(a.__read)(Object(p.a)(Qe.a),2),t=e[0],n=e[1],c=t.list,o=t.hasMore,r=t.loading;return Object(f.useEffect)((function(){return n.getQuestions(),n.restore}),[]),Object(i.jsx)(u.p,Object(a.__assign)({onClick:n.getQuestions,isCurrentListEmpty:0===c.length,isLoading:r,isFetchedResultEmpty:!r&&0===c.length,hasMore:o,description:"\u65e0\u6211\u5173\u6ce8\u7684\u8ba8\u8bba"},{children:c.map((function(e){return Object(i.jsx)(u.u,Object(a.__assign)({sticky:!1},e),e.slug)}))}),void 0)},He=o.a.main.paths,Ue=n("II0I"),Ge=o.a.main.PATH,Ve=function(){return Object(i.jsx)(ke,{},void 0)},Ke=function(){return Object(i.jsx)(ke,{},void 0)},$e=Object(r.a)((function(){return Object(i.jsx)(Fe,{tab:"article"},void 0)})),Ye=Object(r.a)((function(){return Object(i.jsx)(Fe,{tab:"draft"},void 0)})),Xe=Object(r.a)((function(){var e=Object(a.__read)(Object(p.a)(T.l,{scope:L.r}),2),t=e[0],n=e[1],c=t.totalNum,o=t.list,r=t.loading,s=t.isEmpty,d=t.page,l=t.filter.queryStr,b=Object(Q.u)({validQueryKeys:["page","query"],setPage:n.setPage,setQuery:n.setQuery});return Object(f.useEffect)((function(){n.getList({page:d,queryStr:l}),b({page:d,query:l})}),[d,l]),Object(f.useEffect)((function(){return n.dispose$}),[]),Object(i.jsxs)(oe.c,{children:[Object(i.jsx)(u.n,{tabs:"\u6211\u7684\u8bc4\u8bba"},void 0),Object(i.jsx)(oe.f,{value:l,onSearch:n.setQuery},void 0),Object(i.jsx)(u.r,Object(a.__assign)({isCurrentListEmpty:0===o.length,isLoading:r,isFetchedResultEmpty:s,onPageChange:n.setPage,page:d,description:"\u65e0\u6211\u7684\u8bc4\u8bba",totalNum:c},{children:o.map((function(e){return Object(i.jsx)(u.g,{comment:e},e.id)}))}),void 0)]},void 0)})),Je=Object(r.a)((function(e){var t=e.match.params.tab,n=Object(f.useMemo)((function(){return[{key:L.d.back,title:Object(i.jsxs)(Pe.a,Object(a.__assign)({to:Le.discuss.home({})},{children:[Object(i.jsx)(Re.a,{type:"angle-left"},void 0),"\u8fd4\u56de"]}),void 0)},{key:L.d.answers,title:"\u6211\u6536\u85cf\u7684\u8ba8\u8bba"},{key:L.d.articles,title:"\u6211\u6536\u85cf\u7684\u6587\u7ae0"}]}),[]),c=Object(f.useCallback)((function(t){t!==L.d.back&&e.history.push(Le.discuss.myFavorites({tab:t}))}),[]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u.y,{tabs:n,currentTab:t,onTabChange:c},void 0),t===L.d.answers&&Object(i.jsx)(qe,{},void 0),t===L.d.articles&&Object(i.jsx)(Ee,{},void 0)]},void 0)})),Ze=Object(r.a)((function(e){var t=e.match.params.tab,n=Object(f.useMemo)((function(){return[{key:L.e.back,title:Object(i.jsxs)(Pe.a,Object(a.__assign)({to:ze.discuss.home({})},{children:[Object(i.jsx)(Re.a,{type:"angle-left"},void 0),"\u8fd4\u56de"]}),void 0)},{key:L.e.answers,title:"\u6211\u53c2\u4e0e\u7684\u8ba8\u8bba"},{key:L.e.questions,title:"\u6211\u53d1\u8d77\u7684\u8ba8\u8bba"}]}),[]),c=Object(f.useCallback)((function(t){t!==L.e.back&&e.history.push(ze.discuss.myDiscussions({tab:t}))}),[]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u.y,{tabs:n,currentTab:t,onTabChange:c},void 0),t===L.e.answers&&Object(i.jsx)(Me,{},void 0),t===L.e.questions&&Object(i.jsx)(Ne,{},void 0)]},void 0)})),et=Object(r.a)((function(e){var t=e.match.params.tab,n=Object(f.useMemo)((function(){return[{key:L.f.back,title:Object(i.jsxs)(Pe.a,Object(a.__assign)({to:He.discuss.home({})},{children:[Object(i.jsx)(Re.a,{type:"angle-left"},void 0),"\u8fd4\u56de"]}),void 0)},{key:L.f.questions,title:"\u8ba8\u8bba"},{key:L.f.articles,title:"\u6587\u7ae0"}]}),[]),c=Object(f.useCallback)((function(t){t!==L.f.back&&e.history.push(He.discuss.mySubscriptions({tab:t}))}),[]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u.y,{tabs:n,currentTab:t,onTabChange:c},void 0),t===L.f.questions&&Object(i.jsx)(We,{},void 0),t===L.f.articles&&Object(i.jsx)(Be,{},void 0)]},void 0)})),tt=function(e){var t=e.maxWidth;return Object(i.jsx)(d.a,{children:Object(i.jsxs)(oe.g,Object(a.__assign)({maxWidth:t},{children:[Object(i.jsxs)(c.e,{children:[Object(i.jsx)(c.c,{path:[Ge.discuss.myComments,Ge.discuss.myFavorites,Ge.discuss.myArticles,Ge.discuss.myDrafts,Ge.discuss.myDiscussions,Ge.discuss.mySubscriptions,Ge.discuss.discussionDetail,Ge.discuss.articleDetail,Ge.discuss.solutionDetail]},void 0),Object(i.jsx)(c.c,{component:Object(s.q)()?l.a:u.f},void 0)]},void 0),Object(i.jsxs)(c.e,{children:[Object(i.jsx)(c.c,{path:[Ge.discuss.viewCommentShare,Ge.discuss.viewShare,Ge.discuss.discussionDetail],component:Ue.a},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.solutionDetail,component:E},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.articleDetail,component:b.a},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.myComments,component:Xe},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.myFavorites,component:Je},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.myDiscussions,component:Ze},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.mySubscriptions,component:et},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.myArticles,component:$e},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.myDrafts,component:Ye},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.articles,component:Ve},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.discussions,component:Ke},void 0),Object(i.jsx)(c.c,{path:Ge.discuss.home,component:ke},void 0)]},void 0)]}),void 0)},void 0)},nt=n("xqpu"),at=n("DRZj"),it=n("uhKY"),ct=n("Aw0H"),ot=n("mkiG"),rt=n("M+N8"),st=n("7bEw"),dt=n("0C7c"),ut=n("OjWN"),lt=n("kjoC"),bt=n("/n66"),pt=n("5Nzd"),jt=n("u3dr"),Ot=n("2wT7"),ft=n("HnWI"),gt=n("rzNM"),_t=n("Jg5f"),mt=n("W/Ou"),yt=n("mhnT"),vt=n("wUZp"),ht=n("B07F"),xt=n("umF9"),kt={briefHotQuestions:{list:[],loading:!1}},St=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=kt,n}var n,i,c,o;return Object(a.__extends)(t,e),t.prototype.setLoading=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{briefHotQuestions:Object(a.__assign)(Object(a.__assign)({},e.briefHotQuestions),{loading:!0})})},t.prototype.setList=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),{briefHotQuestions:{list:t,loading:!1}})},t.prototype.getBriefHotQuestions=function(e){var t=this;return e.pipe(Object(gt.a)((function(e){return t.client.query({query:xt.a}).pipe(Object(vt.a)("\u83b7\u53d6\u70ed\u95e8\u8ba8\u8bba\u5931\u8d25"),Object(_t.a)((function(n){var a,i=n.data;return t.getActions().setList(null===(a=i.qaBriefHotQuestions)||void 0===a?void 0:a.filter((function(t){return t.uuid!==e})))})),Object(mt.a)(t.getActions().setLoading()),Object(yt.a)(t.dispose$))})))},Object(a.__decorate)([Object(jt.a)(),Object(a.__metadata)("design:type","function"===typeof(n="undefined"!==typeof ft.a&&ft.a)?n:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(jt.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"setLoading",null),Object(a.__decorate)([Object(jt.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"setList",null),Object(a.__decorate)([Object(jt.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof ft.a&&ft.a)?i:Object]),Object(a.__metadata)("design:returntype","function"===typeof(c="undefined"!==typeof ft.a&&ft.a)?c:Object)],t.prototype,"getBriefHotQuestions",null),t=Object(a.__decorate)([Object(pt.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof ht.a&&ht.a)?o:Object])],t)}(Ot.a),Ct=n("/fpG"),wt=Object(V.a)("div",{target:"e1b29kps0"})({display:"flex",alignItems:"center",marginBottom:"10px"},"label:TitleContainer;"),At=Object(V.a)("img",{target:"e1b29kps1"})({width:"14px",height:"14px",marginRight:"8px"},"label:HotTag;"),Tt=Object(V.a)(_e.a,{target:"e1b29kps2"})(dt.e,{display:"flex",alignItems:"center",padding:"6px 0px","&:not(:last-of-type)":{marginBottom:"4px"}},"label:RowContainerWithLink;"),It=Object(V.a)(Ct.a,{target:"e1b29kps3"})({margin:"0 8px 0 0",borderRadius:"100px",width:"22px",height:"22px",cursor:"pointer"},"label:Avatar;"),Dt=o.a.main.paths;function Ft(){var e=Object(c.k)().discussId,t=Object(a.__read)(Object(p.a)(St),2),n=t[0],o=t[1],r=n.briefHotQuestions,s=r.list,d=r.loading;Object(f.useEffect)((function(){bt.a.trendingListExposure("circle_question_detail","\u70ed\u95e8\u8ba8\u8bba","\u8ba8\u8bba")}),[]),Object(f.useEffect)((function(){return o.getBriefHotQuestions(e),o.dispose$}),[o,e]);var u=Object(f.useCallback)((function(e){var t=e.currentTarget.dataset,n=t.title,a=t.index;n&&a&&bt.a.trendingItemClick("circle_question_detail","\u70ed\u95e8\u8ba8\u8bba","circle_question","",parseInt(a,10)+1,n)}),[]);return Object(i.jsxs)(dt.a,Object(a.__assign)({layout:"vertical"},{children:[Object(i.jsxs)(wt,{children:[Object(i.jsx)(At,{src:ot.a},void 0),Object(i.jsx)(ut.e,{children:"\u76f8\u5173\u8ba8\u8bba"},void 0)]},void 0),d?Object(i.jsx)(st.d,{headerVisible:!1},void 0):s.map((function(e,t){var n=e.title,c=e.uuid,o=e.author;return Object(i.jsxs)(Tt,Object(a.__assign)({"data-title":n,"data-index":t,onClick:u,to:Dt.discuss.discussionDetail({discussId:c}),target:"_blank"},{children:[Object(i.jsx)("object",{children:Object(i.jsx)(rt.a,Object(a.__assign)({userSlug:o.userSlug},{children:Object(i.jsx)(ct.a,Object(a.__assign)({shouldStrip:""===o.userSlug},{children:Object(i.jsx)("a",Object(a.__assign)({to:Dt.publicProfile.home({userSlug:o.userSlug})},{children:Object(i.jsx)(It,{src:Object(it.b)(o.avatar,22),alt:o.userSlug+"\u7684\u5934\u50cf"},void 0)}),void 0)}),void 0)}),void 0)},void 0),Object(i.jsx)(lt.f,{children:n},void 0)]}),c)}))]}),void 0)}var Rt=n("p9o4"),Pt=n("oYRR"),qt=n("pOZ+"),Et=n("GISP"),Lt=n("0EhD"),Mt=n("L6nh"),Nt=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={count:{draftNum:0,questionNum:0}},n}var n,i,c,o,r;return Object(a.__extends)(t,e),t.prototype.setCount=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),{count:{draftNum:t.columnsMyDrafts.totalNum||0,questionNum:t.qaMyQuestions.totalNum||0}})},t.prototype.getCount=function(e){var t=this;return e.pipe(Object(gt.a)((function(){return t.client.query({query:Lt.a,fetchPolicy:"network-only"}).pipe(Object(vt.a)("\u83b7\u53d6\u7528\u6237\u8bb0\u5f55\u5931\u8d25"),Object(_t.a)((function(e){var n=e.data;return t.getActions().setCount(n)})),Object(yt.a)(t.dispose$))})))},Object(a.__decorate)([Object(jt.a)(),Object(a.__metadata)("design:type","function"===typeof(n="undefined"!==typeof ft.a&&ft.a)?n:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(jt.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,"function"===typeof(i="undefined"!==typeof Mt.CommunityMyDraftAndQuestionCountQuery&&Mt.CommunityMyDraftAndQuestionCountQuery)?i:Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"setCount",null),Object(a.__decorate)([Object(jt.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof ft.a&&ft.a)?c:Object]),Object(a.__metadata)("design:returntype","function"===typeof(o="undefined"!==typeof ft.a&&ft.a)?o:Object)],t.prototype,"getCount",null),t=Object(a.__decorate)([Object(pt.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof ht.a&&ht.a)?r:Object])],t)}(Ot.a),zt=n("dxiE"),Bt=n("v31z"),Qt=Object(V.a)("aside",{target:"e1hmjshh0"})({flex:"0 0 auto",width:"256px",marginLeft:"10px"},"label:Wrapper;"),Wt=(K.a.grey(2),Object(V.a)("section",{target:"epaqoxp0"})({width:"100%",padding:"5px 0 10px"},"label:Wrapper;")),Ht=Object(V.a)("div",{target:"epaqoxp1"})({margin:"0 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},"label:UpperWrapper;"),Ut=Object(V.a)("div",{target:"epaqoxp4"})({height:"40px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",color:K.b.LabelSecondary(),fontSize:"12px",cursor:"pointer",":hover":{color:K.b.LabelSecondary()},svg:{fontSize:"20px",color:K.b.LabelTertiary()}},"label:UpperIconWrapper;"),Gt=(Object(zt.a)(),K.a.grey(5),K.a.grey(6),o.a.main.paths),Vt=[{icon:Object(i.jsx)(Rt.a,{},void 0),text:"\u6536\u85cf",link:Gt.collection.discuss(),track:A.a.discuss.discussClickMyFavorite},{icon:Object(i.jsx)(Pt.a,{},void 0),text:"\u8ba2\u9605",link:Gt.discuss.mySubscriptions({tab:L.f.questions}),track:A.a.discuss.discussClickMyMySubscribe},{icon:Object(i.jsx)(qt.a,{},void 0),text:"\u8ba8\u8bba",link:Gt.discuss.myDiscussions({tab:L.e.questions}),track:A.a.discuss.discussClickMyQuestions},{icon:Object(i.jsx)(Et.a,{},void 0),text:"\u6587\u7ae0",link:Gt.discuss.myDiscussions({tab:L.e.questions}),track:A.a.discuss.discussClickMyArticles}],Kt=function(){var e=Object(a.__read)(Object(p.a)(Nt),2)[1];return Object(f.useEffect)((function(){return e.getCount(),e.dispose$}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(Wt,{children:Object(i.jsx)(Ht,{children:Vt.map((function(e){var t=e.icon,n=e.text,c=e.link,o=e.track;return Object(i.jsx)(_e.a,Object(a.__assign)({to:c,onClick:o},{children:Object(i.jsxs)(Ut,{children:[t,Object(i.jsx)("div",{children:n},void 0)]},void 0)}),n)}))},void 0)},void 0)},void 0)},$t=n("v43y"),Yt=n("60w7"),Xt=n("IDXw"),Jt=n("AbD5"),Zt=n("F2zA"),en=Object(V.a)("section",{target:"eac0att0"})(Zt.c,{width:"100%",padding:"20px 15px",fontSize:"14px",borderRadius:Xt.n,marginBottom:"8px"},"label:Wrapper;"),tn=Object(V.a)("div",{target:"eac0att1"})({width:"100%",height:"1px",background:K.a.grey(2),margin:"15px 0"},"label:Divider;"),nn=Object(V.a)("div",{target:"eac0att2"})({width:"100%"},"label:MetaWrapper;"),an=Object(V.a)("div",{target:"eac0att3"})({display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:"22px",":not(:last-child)":{marginBottom:"15px"}},"label:Meta;"),cn=Object(V.a)("span",{target:"eac0att4"})({fontFamily:"FetteMittelschrift",background:K.a.grey(1),color:K.a.grey(8),borderRadius:Xt.p,padding:"0 8px",lineHeight:"22px"},"label:MetaValue;"),on=Object(V.a)("div",{target:"eac0att5"})({lineHeight:"18px",color:K.a.grey(6)},"label:Header;"),rn=Object(V.a)(Jt.a,{target:"eac0att7"})({marginTop:"10px","&:not(:last-of-type)":{marginRight:"10px"}}),sn=function(){var e=Object(a.__read)(Object(p.a)(T.p),1)[0],t=e.question,n=e.status,o=Object(c.i)(),r=Object(f.useCallback)((function(e){var t=e.slug,n=e.tagType;A.a.discuss.discussClickTag(t),n&&o.push(Object($t.a)({tagType:n,slug:t}))}),[o]),s=g.a.useMemo((function(){var e,n=[];return((null===t||void 0===t?void 0:t.pinned)||(null===t||void 0===t?void 0:t.pinnedGlobally))&&n.push({name:"\u7f6e\u9876",slug:"sticky",kind:"blue",clickable:!1}),(null===t||void 0===t?void 0:t.official)&&n.push({name:"\u5b98\u65b9",slug:"official",kind:"yellow",clickable:!1}),(null===t||void 0===t?void 0:t.isRecommended)&&n.push({name:"\u63a8\u8350",slug:"recommended",kind:"green",clickable:!1}),n.concat(null!==(e=null===t||void 0===t?void 0:t.tags)&&void 0!==e?e:[])}),[null===t||void 0===t?void 0:t.pinned,null===t||void 0===t?void 0:t.pinnedGlobally,null===t||void 0===t?void 0:t.official,null===t||void 0===t?void 0:t.isRecommended,null===t||void 0===t?void 0:t.tags]);return t||n?n?t?Object(i.jsxs)(en,{children:[Object(i.jsxs)(nn,{children:[Object(i.jsxs)(an,{children:[Object(i.jsx)(on,{children:"\u6536\u85cf\u6b21\u6570"},void 0),Object(i.jsx)(cn,{children:Object(Yt.c)(t.favoriteCount)},void 0)]},void 0),Object(i.jsxs)(an,{children:[Object(i.jsx)(on,{children:"\u53c2\u4e0e\u4eba\u6570"},void 0),Object(i.jsx)(cn,{children:Object(Yt.c)(t.involvedPeopleCount)},void 0)]},void 0),Object(i.jsxs)(an,{children:[Object(i.jsx)(on,{children:"\u6d4f\u89c8\u6b21\u6570"},void 0),Object(i.jsx)(cn,{children:Object(Yt.c)(t.viewCount)},void 0)]},void 0)]},void 0),0!==s.length&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(tn,{},void 0),Object(i.jsx)(on,{children:"\u76f8\u5173\u6807\u7b7e"},void 0),Object(i.jsx)("div",{children:s.map((function(e){var t=e.name,n=e.slug,a=e.tagType,c=e.kind,o=e.clickable,s=void 0===o||o;return Object(i.jsx)(rn,{meta:{slug:n,tagType:a},size:"xs",kind:c,onClick:s?r:void 0,content:t},n)}))},void 0)]},void 0)]},void 0):n&&![w.o.Published].includes(n)?null:Object(i.jsx)(en,{children:Object(i.jsx)(v.a,{height:"100px"},void 0)},void 0):Object(i.jsx)(en,{children:Object(i.jsx)(v.a,{height:"100px"},void 0)},void 0):null},dn=n("c2re"),un=n.n(dn),ln=n("aSGY"),bn=n("slPF"),pn=n("9EWH"),jn=n("d9YI"),On=n("AouM"),fn=n("IMYO"),gn=n("g1xp");var _n=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={leetBooks:[]},n}var n,i,c,o;return Object(a.__extends)(t,e),t.prototype._setLeetBooks=function(e,t){e.leetBooks=t.filter((function(e){return"RecommendedLeetbookNode"===e.__typename})).sort((function(e,t){return-Number("leetcode"!==t.author.userSlug&&"leetcode"===e.author.userSlug)}))},t.prototype.fetchTagLeetBooks=function(e){var t=this;return e.pipe(Object(On.a)((function(e){return t.client.query({query:gn.a,variables:Object(a.__assign)(Object(a.__assign)({},e),{contentType:w.ic.Leetbook})}).pipe(Object(fn.a)((function(){return jn.a})),Object(_t.a)((function(e){var n=e.data;return t.getActions()._setLeetBooks(n.columnsRecommendedContents)})))})))},Object(a.__decorate)([Object(jt.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof pn.Draft&&pn.Draft)?n:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setLeetBooks",null),Object(a.__decorate)([Object(jt.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof ft.a&&ft.a)?i:Object]),Object(a.__metadata)("design:returntype","function"===typeof(c="undefined"!==typeof ft.a&&ft.a)?c:Object)],t.prototype,"fetchTagLeetBooks",null),t=Object(a.__decorate)([Object(pt.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof ht.a&&ht.a)?o:Object])],t)}(Ot.a),mn=n("pqRN"),yn=n("T/5y"),vn=n("CkJS"),hn=Object(V.a)("div",{target:"ecazouc0"})(be.a.card,yn.a.layer1,{padding:"16px 16px 13px",borderRadius:"8px",marginBottom:"8px"},"label:Container;"),xn=Object(V.a)("div",{target:"ecazouc1"})(vn.a.paragraph.md,{color:K.b.LabelSecondary(),fontWeight:500,marginBottom:"16px"},"label:SectionTitle;"),kn=Object(V.a)("div",{target:"ecazouc2"})({display:"flex",":not(:last-of-type)":{marginBottom:"24px"}},"label:LeetbookItem;"),Sn=Object(V.a)("img",{target:"ecazouc3"})(be.a.dropdown,{width:"60px",height:"80px",borderRadius:"5px",flexShrink:0},"label:Cover;"),Cn=Object(V.a)("div",{target:"ecazouc4"})({marginLeft:"16px",overflow:"hidden"},"label:Right;"),wn=Object(V.a)(_e.a,{target:"ecazouc5"})(mn.f,vn.a.paragraph.md,{fontWeight:500,color:K.b.LabelPrimary(),display:"block"},"label:Title;"),An=Object(V.a)("div",{target:"ecazouc6"})({display:"flex",margin:"8px 0 15px"},"label:Tags;"),Tn=Object(V.a)("div",{target:"ecazouc7"})(vn.a.paragraph.sm,{padding:"0 8px",color:K.b.LabelTertiary(),background:K.b.FillTertiary(),borderRadius:"10px",whiteSpace:"nowrap",":not(:last-of-type)":{marginRight:"10px"}},"label:Tag;"),In=Object(V.a)("div",{target:"ecazouc8"})(vn.a.paragraph.sm,{color:K.b.LabelTertiary()},"label:ReadCount;"),Dn=o.a.main.paths;function Fn(){var e,t=Object(c.k)().discussId,n=Object(a.__read)(Object(p.a)(T.p),1)[0].question,o=Object(a.__read)((e=t,Object(p.a)(_n,{scope:e})),2),r=o[0].leetBooks,s=o[1].fetchTagLeetBooks;return Object(f.useEffect)((function(){t&&s({uuid:t})}),[s,t]),r.length?Object(i.jsxs)(hn,{children:[Object(i.jsx)(xn,{children:"LeetBook \u63a8\u8350"},void 0),r.map((function(e){var t=e.slug,c=e.coverImg,o=e.title,r=e.commonTags,s=e.totalStudied;return Object(i.jsxs)(kn,{children:[Object(i.jsx)(_e.a,Object(a.__assign)({to:Dn.leetbook.detail({bookSlug:t})},{children:Object(i.jsx)(Sn,{src:c,alt:"Leetbook Cover"},void 0)}),void 0),Object(i.jsxs)(Cn,{children:[Object(i.jsx)(wn,Object(a.__assign)({to:Dn.leetbook.detail({bookSlug:t})},{children:o}),void 0),Object(i.jsx)(An,{children:Object(i.jsx)(bn.a,Object(a.__assign)({maxWidth:148},{children:Rn(r,n).map((function(e){return Object(i.jsx)(Tn,{children:e.nameTranslated||e.name},e.slug)}))}),void 0)},void 0),Object(i.jsxs)(In,{children:[Object(ln.a)(s)," \u4eba\u5df2\u8bfb"]},void 0)]},void 0)]},t)}))]},void 0):null}function Rn(e,t){var n;if((null===(n=null===t||void 0===t?void 0:t.tags)||void 0===n?void 0:n.length)&&(null===e||void 0===e?void 0:e.length)){var a=t.tags,i=un()(e);return i.sort((function(e,t){return-Number(a.some((function(t){var n=t.slug;return e.slug===n}))&&a.every((function(e){var n=e.slug;return t.slug!==n})))})),i}return e}var Pn=Object(V.a)("section",{target:"e1uxrfab0"})(Zt.c,{width:"100%",padding:"15px 15px 20px",marginBottom:"8px"},"label:Wrapper;"),qn=Object(V.a)("div",{target:"e1uxrfab1"})({display:"flex",justifyContent:"space-between",paddingBottom:"15px",fontSize:"13px",lineHeight:"18px",borderBottom:"1px solid "+K.a.grey(2),"> div:first-of-type":{color:K.a.grey(5)},"> div:last-of-type":{cursor:"pointer",color:K.a.grey(6)}},"label:SignInRow;"),En=Object(V.a)(Bt.a,{target:"e1uxrfab2"})({width:"100%",marginTop:"20px"},"label:SignUpBtn;"),Ln=function(){var e=Object(f.useCallback)((function(){le.a.signIn()}),[]),t=Object(f.useCallback)((function(){le.a.signUp()}),[]);return Object(i.jsxs)(Pn,{children:[Object(i.jsxs)(qn,{children:[Object(i.jsx)("div",{children:"\u529b\u6263\u4e2d\u6587\u793e\u533a"},void 0),Object(i.jsx)("div",Object(a.__assign)({onClick:e},{children:"\u767b\u5f55\u5df2\u6709\u8d26\u53f7"}),void 0)]},void 0),Object(i.jsx)(En,Object(a.__assign)({size:y.c,onClick:t,type:"primary"},{children:"\u7acb\u5373\u6ce8\u518c"}),void 0)]},void 0)},Mn=n("nZi4"),Nn=Object(V.a)("div",{target:"ezpkezc0"})({position:"sticky",top:"8px","> div:not(:last-of-type)":{marginBottom:"8px"}},"label:Container;");function zn(){return Object(i.jsx)(Nn,{children:Object(i.jsx)(Mn.a,{pageSlug:"circle",layout:"vertical"},void 0)},void 0)}var Bn=o.a.main.PATH,Qn=function(){var e=Object(f.useContext)(nt.d);return Object(i.jsx)(d.a,{children:Object(i.jsxs)(Qt,{children:[Object(i.jsxs)(c.e,{children:[Object(i.jsx)(c.c,{path:Bn.discuss.discussionDetail},void 0),Object(i.jsx)(c.c,{component:e.isSignedIn?Kt:Ln},void 0)]},void 0),Object(i.jsxs)(c.e,{children:[Object(i.jsx)(c.c,{path:Bn.discuss.discussionDetail},void 0),Object(i.jsx)(c.c,{component:zn},void 0)]},void 0),Object(i.jsx)(c.e,{children:Object(i.jsxs)(c.c,Object(a.__assign)({path:Bn.discuss.discussionDetail},{children:[Object(i.jsx)(sn,{},void 0),Object(i.jsx)(Fn,{},void 0),Object(i.jsx)(Ft,{},void 0),Object(i.jsx)(at.a,{},void 0)]}),void 0)},void 0)]},void 0)},void 0)},Wn=(n("Oih5"),n("7nmT")),Hn=n.n(Wn),Un=n("FbPB"),Gn=n("7eUc"),Vn=n("rufy"),Kn=n("S6Il"),$n=n("qz+f"),Yn=n("Qtwq"),Xn=n("t+Td"),Jn=n("xcfF"),Zn=n("WwoV"),ea=Object(V.a)(Zn.a,{target:"e1om2e570"})({fontSize:"12px",svg:{marginRight:"8px"}},"label:StyledCheckbox;");function ta(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=t.anonymous,c=t.uuid,o=e[1].setAnonymous,r=g.a.useMemo((function(){return n}),[])&&Boolean(c);return Object(i.jsx)(ea,Object(a.__assign)({disabled:r,checked:n,onCheckedChange:o},{children:"\u533f\u540d"}),void 0)}var na,aa=n("/NrN"),ia=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2)[1],t="undefined"!==typeof document&&new URL(location.href).searchParams.get("openEditor"),n=Object(f.useCallback)((function(){e.hideEditor(),A.a.discuss.discussQuestionEditorCancelButtonClicked()}),[e]);return Object(i.jsx)(aa.a,Object(a.__assign)({size:"sm",onClick:function(){t?-1!==navigator.userAgent.indexOf("firefox")||-1!==navigator.userAgent.indexOf("Chrome")?(window.location.href="about:blank",window.close()):(window.opener=null,window.open("","_self"),window.close()):n()}},{children:"\u53d6\u6d88"}),void 0)})),ca=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1],c=Object(f.useCallback)((function(){n.toggleFullscreen(),A.a.discuss.discussQuestionEditorToggleFullScreen()}),[]);return"undefined"!==typeof document&&new URL(location.href).searchParams.get("openEditor")?null:Object(i.jsx)(aa.a,Object(a.__assign)({onClick:c,prefixIcon:Object(i.jsx)(Re.a,{type:t.isFullscreen?"fullscreen-exit":"fullscreen"},void 0),kind:"transparent",size:"sm"},{children:t.isFullscreen?"\u9000\u51fa\u5168\u5c4f":"\u5168\u5c4f"}),void 0)})),oa=Object(V.a)("div",{target:"e13znwg20"})({marginBottom:"10px"},"label:Container;"),ra=Object(V.a)("div",{target:"e13znwg21"})({flex:"1 1 0px"},"label:PlaceHolder;"),sa=(K.a.grey(2),Object(V.a)("div",{target:"e13znwg23"})({display:"flex",alignItems:"center",padding:"0 15px",borderBottom:"1px solid "+K.a.grey(2)},"label:Row;")),da=Object(V.a)(sa,{target:"e13znwg24"})({height:"60px","> *:not(:last-child)":{marginRight:"15px"}},"label:FirstRow;"),ua=Object(V.a)(sa,{target:"e13znwg25"})({height:"40px"},"label:SecondRow;"),la=Object(V.a)(sa,{target:"e13znwg26"})({padding:"6px 4px",whiteSpace:"nowrap",flexWrap:"wrap","& > div":{marginRight:"10px"}},"label:TagsRow;"),ba=n("r3KU"),pa=n("HTDA"),ja=n("360P"),Oa=n("sOcD");!function(e){e[e.Publish=0]="Publish",e[e.Mock=1]="Mock"}(na||(na={}));var fa=function(e){var t=Object(a.__read)(Object(p.a)(T.g),1)[0],n=Object(a.__read)(Object(p.a)(x.c),1)[0],i=Object(a.__read)(Object(p.a)(pa.a),1)[0].currentOfficialAccount;return Object(f.useCallback)((function(){return new ft.a((function(c){var o=new AbortController,r=Object(ja.a)(t.content,o.signal,n.whitelist).pipe(Object(On.a)(Oa.a),Object(_t.a)((function(n){var c,o,r=n.content,s=n.mentionedUserSlugs,d=n.thumbnail,u=n.summary;return{data:Object(a.__assign)(Object(a.__assign)({title:t.title,content:r,summary:u,thumbnail:d,tags:t.tags.map((function(e){return e.slug})),subjectSlug:(null===(c=t.subject)||void 0===c?void 0:c.slug)||"",mentionedUserSlugs:s},e===na.Publish&&{postAnonymously:t.anonymous}),e===na.Mock&&{officialAccountSlug:null!==(o=null===i||void 0===i?void 0:i.userSlug)&&void 0!==o?o:""})}}))).subscribe(c);return function(){o.abort(),r.unsubscribe()}}))}),[t,n,i,e])},ga=function(){return e=na.Publish,t=Object(a.__read)(Object(p.a)(T.g),1)[0],n=Object(a.__read)(Object(p.a)(x.c),1)[0],i=Object(a.__read)(Object(p.a)(pa.a),1)[0].currentOfficialAccount,Object(f.useCallback)((function(){return new ft.a((function(c){var o=new AbortController,r=Object(ja.a)(t.content,o.signal,n.whitelist).pipe(Object(On.a)(Oa.a),Object(_t.a)((function(n){var c,o=n.content,r=n.mentionedUserSlugs,s=n.thumbnail,d=n.summary;return{data:Object(a.__assign)(Object(a.__assign)({title:t.title,content:o,summary:d,thumbnail:s,tags:t.tags.map((function(e){return e.slug})),subjectSlug:t.subject?t.subject.slug:"",mentionedUserSlugs:r},e===na.Publish&&{postAnonymously:t.anonymous}),e===na.Mock&&{officialAccountSlug:null!==(c=null===i||void 0===i?void 0:i.userSlug)&&void 0!==c?c:""})}}))).subscribe(c);return function(){o.abort(),r.unsubscribe()}}))}),[t,n,i,e]);var e,t,n,i};function _a(){var e=Object(a.__read)(Object(p.a)(T.g),2)[1].mock,t=fa(na.Mock),n=Object(W.e)(),c=g.a.useCallback((function(){n()&&e(t())}),[e,t,n]);return Object(i.jsx)(ba.a,{onConfirm:c,mockMode:ba.b.Publish},void 0)}var ma,ya=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1],c=Object(a.__read)(Object(p.a)(x.c),2)[1];Object(f.useEffect)(c.refresh,[]);var o=fa(na.Publish),r=Object(W.e)(),s=Object(f.useCallback)((function(){r()&&(n.publish(o()),A.a.discuss.discussPublishQuestion())}),[n,o,r]);return Object(i.jsx)(aa.a,Object(a.__assign)({kind:"primary",iprefixIcon:Object(i.jsx)(Re.a,{type:"paper-plane-o"},void 0),size:"sm",onClick:s,loading:t.isSubmitting},{children:"\u53d1\u8d77\u8ba8\u8bba"}),void 0)})),va=n("a9QA"),ha=n.n(va),xa=n("CrNI"),ka=n.n(xa),Sa=n("y9rd"),Ca=n("txck"),wa=Object(V.a)("input",{target:"e9f12bx0"})({flex:"1 1 0px",fontSize:"16px",padding:"10px 0px",fontWeight:"bold",border:"none",outline:"none",background:"transparent","&::placeholder":Ca.a.disable},"label:StyledInput;"),Aa=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0].title,n=e[1],c=Object(f.useCallback)((function(e){var t=e.currentTarget;ka()(t.value,2)>120&&Sa.a.danger("\u6807\u9898\u957f\u5ea6\u8fc7\u957f"),n.save({title:ha()(t.value,120)})}),[n]);return Object(i.jsx)(wa,{placeholder:"\u6b64\u5904\u8f93\u5165\u6807\u9898\u2026",value:t,onChange:c},void 0)})),Ta=n("G0kv"),Ia=n("pN2L"),Da=n("7oNG"),Fa=n("yaUI"),Ra=n("9Vqi"),Pa=n("5XeP"),qa=n("y9R/"),Ea=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1],c=Object(a.__read)(Object(p.a)(T.k),2)[1].getList,o=Object(a.__read)(Object(p.a)(x.c),2),r=o[0],s=o[1],d=Object(a.__read)(Object(p.a)(T.p),2),u=d[0].question,l=d[1].setQuestionDetail;Object(f.useEffect)(s.refresh,[]);var b=Object(f.useCallback)((function(){return new ft.a((function(e){var n=new AbortController,i=Object(ja.a)(t.content,n.signal,r.whitelist).pipe(Object(On.a)((function(e){var t=Object(Da.a)(e),n=t.pipe(Object(On.a)((function(e){return Object(Fa.a)(e)}))),a=n.pipe(Object(_t.a)((function(e){return Object(Ra.a)(e)}))),i=Object(Pa.a)(t),c=n.pipe(Object(_t.a)((function(e){return Object(qa.a)(e)})));return Object(Ta.b)(Object(Ia.a)(e),a,i,c)})),Object(_t.a)((function(e){var n,i=Object(a.__read)(e,4),c=i[0],o=i[1],r=i[2],s=i[3];return{data:{title:t.title,content:c,summary:s,thumbnail:r,mentionedUserSlugs:o,uuid:t.uuid,tags:t.tags.map((function(e){return e.slug})),subjectSlug:(null===(n=null===t||void 0===t?void 0:t.subject)||void 0===n?void 0:n.slug)||"",postAnonymously:t.anonymous}}}))).subscribe(e);return function(){n.abort(),i.unsubscribe()}}))}),[t,r]),j=Object(W.e)(),O=Object(f.useCallback)((function(){j()&&(n.update([b(),c,function(e){l(Object(a.__assign)(Object(a.__assign)({},u),e))}]),A.a.discuss.discussUpdateQuestion())}),[n,c,b,j]);return Object(i.jsx)(aa.a,Object(a.__assign)({kind:"primary",prefixIcon:Object(i.jsx)(Re.a,{type:"paper-plane-o"},void 0),size:"sm",onClick:O,loading:t.isSubmitting},{children:"\u66f4\u65b0\u8ba8\u8bba"}),void 0)})),La=n("n+B8"),Ma=Object(f.memo)((function(e){var t=e.onTriggerShortcut,n=e.type,c=(e.changeVersion,Object(Jn.a)().ifCanNewEditor,Object(a.__read)(Object(p.a)(T.g),2)),o=c[0],r=c[1],s=Object(f.useCallback)((function(e){return r.save({tags:e})}),[r]),d=Object(f.useCallback)((function(e){return r.save({subject:e})}),[r]),l=Object(f.useContext)(nt.d).isAdmin,b=Object(f.useCallback)((function(e){s(o.tags.filter((function(t){return t.slug!==e})))}),[s,o.tags]),j=Object(a.__read)(Object(p.a)(La.a),2),O=(j[0],j[1].updateSubjects);return Object(f.useEffect)((function(){O()}),[]),Object(i.jsxs)(oa,{children:[Object(i.jsxs)(da,{children:[Object(i.jsx)(Aa,{},void 0),Object(i.jsx)(ta,{},void 0),Object(i.jsx)(ia,{},void 0),Object(i.jsx)(_a,{},void 0),o.uuid?Object(i.jsx)(Ea,{},void 0):Object(i.jsx)(ya,{},void 0)]},void 0),Object(i.jsxs)(la,{children:[Object(i.jsx)("div",{style:{width:1}},void 0),Object(i.jsx)(u.x,{disabled:!l&&!!o.uuid,selectedSubject:o.subject,onSelectSubject:d},void 0),Object(i.jsx)(u.A,{tag:g.a.Fragment,items:o.tags,count:8,height:32,onDeleteTag:b},void 0),Object(i.jsx)(u.B,{type:n,selectedSubject:o.subject||void 0,selectedTags:o.tags,onSelectTags:s},void 0)]},void 0),Object(i.jsxs)(ua,{children:[Object(i.jsx)($n.c,{onTrigger:t},void 0),Object(i.jsx)(ra,{},void 0),Object(i.jsx)(ca,{},void 0)]},void 0)]},void 0)})),Na=n("Nyd1"),za=n("lDJ/"),Ba=Object(V.a)("div",{target:"eroz3f0"})(yn.a.layer1,{position:"fixed",left:"0px",right:"0px",bottom:"0px",boxShadow:"0 -1px 10px 0 "+K.a.fix.grey(9,.08),display:"flex",flexDirection:"column"},(function(e){var t=e.isFullscreen,n=e.isShow,a=e.isPending;return{transitionProperty:"transform, opacity, height",transitionDuration:".3s","> *":{pointerEvents:a?"none":"auto"},pointerEvents:n?"auto":"none",opacity:n?1:0,transform:"translateY("+(n?0:100)+"%)",height:t?"100vh":"50vh",cursor:a?"wait":"auto"}}),"label:Container;"),Qa=Object(V.a)(za.a,{target:"eroz3f1"})({flex:"1 1 0px",overflow:"scroll",position:"relative"},"label:StyledRenderedMarkdown;"),Wa=Object(V.a)("div",{target:"eroz3f2"})({background:K.a.grey(0),display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},(function(e){var t=e.isPending;return{cursor:t?"wait":"auto","> *":{pointerEvents:t?"none":"auto"}}}),"label:BasicContainer;"),Ha=Object(V.a)(Wa,{target:"eroz3f3"})({position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px"},"label:FullscreenContainer;"),Ua=Object(V.a)("div",{target:"eroz3f4"})({background:K.a.grey(0),minHeight:"100vh",overflowX:"hidden"},"label:NewEditorContainer;"),Ga=Object(V.a)(Na.Container,{target:"eroz3f5"})({flex:"1 1 0px"},"label:ResizerContainer;"),Va=Object(V.a)(Na.Section,{target:"eroz3f6"})({display:"flex",flexDirection:"column"},"label:ResizerSection;"),Ka=Object(V.a)(Na.Bar,{target:"eroz3f7"})({zIndex:1,background:K.a.grey(1),transition:"background .3s","&:hover":{background:K.a.grey(7)}},"label:ResizerBar;"),$a=(V.a.button(ma||(ma=Object(a.__makeTemplateObject)(["\n  width: 100px;\n  margin: 0 20px 0 0;\n  background-color: rgba(0, 0, 0, 0);\n  border: none;\n  padding: 4px 8px;\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.03);\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n"],["\n  width: 100px;\n  margin: 0 20px 0 0;\n  background-color: rgba(0, 0, 0, 0);\n  border: none;\n  padding: 4px 8px;\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.03);\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n"]))),Object(V.a)("div",{target:"e1i4vojt0"})(yn.a.layer1,be.a.level1,{position:"absolute",right:"10px",bottom:"10px",fontSize:"12px",lineHeight:"33px",userSelect:"none"},(function(e){return{transition:"transform .6s",transform:"translateX("+(e.isShow?0:200)+"%)"}}),"label:Container;")),Ya=Object(V.a)("span",{target:"e1i4vojt1"})({margin:"0 5px 0 12px",color:K.a.grey(6)},"label:Tips;"),Xa=Object(V.a)("button",{target:"e1i4vojt2"})({border:"none",outline:"none",position:"relative",background:"transparent",color:K.a.grey(5),transition:"color .3s, background .3s",cursor:"pointer","&:hover":{color:K.a.grey(7)},"&:not(:first-of-type)::before":{content:'""',position:"absolute",top:"50%",left:"0px",transform:"translate(-50%, -50%)",width:"1px",height:"10px",background:K.a.grey(2)}},"label:Button;"),Ja=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1];return Object(i.jsxs)($a,Object(a.__assign)({isShow:t.isShowLocalDraftTips},{children:[Object(i.jsx)(Ya,{children:"\u5f53\u524d\u5185\u5bb9\u5df2\u4ece\u60a8\u7684\u672c\u5730\u4fdd\u5b58\u4e2d\u6062\u590d"},void 0),Object(i.jsx)(Xa,Object(a.__assign)({onClick:n.resetEditor},{children:"\u6e05\u7a7a"}),void 0),Object(i.jsx)(Xa,Object(a.__assign)({onClick:n.hideLocalDraftTips},{children:"\u5173\u95ed"}),void 0)]}),void 0)})),Za=Object(V.a)(Zn.a,{target:"e1czjiej0"})({fontSize:"12px",svg:{marginRight:"8px"}},"label:StyledCheckbox;");function ei(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=t.anonymous,c=t.uuid,o=e[1].setAnonymous,r=g.a.useMemo((function(){return n}),[])&&Boolean(c);return Object(i.jsx)(Za,Object(a.__assign)({disabled:r,checked:n,onCheckedChange:o},{children:"\u533f\u540d"}),void 0)}var ti=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2)[1],t=Object(f.useCallback)((function(){e.hideEditor(),A.a.discuss.discussQuestionEditorCancelButtonClicked()}),[e]);return Object(i.jsx)(aa.a,Object(a.__assign)({size:"sm",onClick:t},{children:"\u53d6\u6d88"}),void 0)})),ni=Object(V.a)("div",{target:"eoqzvnk0"})({marginBottom:"10px",position:"fixed",width:"100vw",top:"0px",display:"flex",flexDirection:"column",backgroundColor:"#fff",zIndex:1e3},"label:Container;"),ai=Object(V.a)("div",{target:"eoqzvnk1"})({height:"132px"},"label:Space;"),ii=(K.a.grey(2),Object(V.a)("div",{target:"eoqzvnk4"})({display:"flex",alignItems:"center",padding:"0 15px",borderBottom:"1px solid "+K.a.grey(2)},"label:Row;")),ci=Object(V.a)(ii,{target:"eoqzvnk5"})({height:"60px",padding:"0px 24px","> *:not(:last-child)":{marginRight:"15px"}},"label:FirstRow;"),oi=Object(V.a)(ii,{target:"eoqzvnk7"})({padding:"6px 24px",whiteSpace:"nowrap",flexWrap:"wrap","& > div":{marginRight:"10px"}},"label:TagsRow;"),ri=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1],c=Object(a.__read)(Object(p.a)(x.c),2)[1];Object(f.useEffect)(c.refresh,[]);var o=ga(),r=Object(W.e)(),s=Object(f.useCallback)((function(){r()&&(n.publish(o()),A.a.discuss.discussPublishQuestion())}),[n,o,r]);return Object(i.jsx)(aa.a,Object(a.__assign)({kind:"primary",iprefixIcon:Object(i.jsx)(Re.a,{type:"paper-plane-o"},void 0),size:"sm",onClick:s,loading:t.isSubmitting},{children:"\u53d1\u8d77\u8ba8\u8bba"}),void 0)})),si=Object(V.a)("input",{target:"ecl8tki0"})({flex:"1 1 0px",fontSize:"16px",padding:"10px 0px",fontWeight:"bold",border:"none",outline:"none",background:"transparent","&::placeholder":Ca.a.disable},"label:StyledInput;"),di=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0].title,n=e[1],c="\x01"===t[0]?t.slice(1,t.length):t,o=Object(f.useCallback)((function(e){var t=e.currentTarget;ka()(t.value,2)>120&&Sa.a.danger("\u6807\u9898\u957f\u5ea6\u8fc7\u957f"),n.save({title:ha()(t.value,120)})}),[n]);return Object(i.jsx)(si,{placeholder:"\u6b64\u5904\u8f93\u5165\u6807\u9898\u2026",value:c,onChange:o},void 0)})),ui=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1],c=Object(a.__read)(Object(p.a)(T.k),2)[1].getList,o=Object(a.__read)(Object(p.a)(x.c),2),r=o[0],s=o[1],d=Object(a.__read)(Object(p.a)(T.p),2),u=d[0].question,l=d[1].setQuestionDetail;Object(f.useEffect)(s.refresh,[]);var b=Object(f.useCallback)((function(){return new ft.a((function(e){var n=new AbortController,i=Object(ja.a)(t.content,n.signal,r.whitelist).pipe(Object(On.a)((function(e){var t=Object(Da.a)(e),n=t.pipe(Object(On.a)((function(e){return Object(Fa.a)(e)}))),a=n.pipe(Object(_t.a)((function(e){return Object(Ra.a)(e)}))),i=Object(Pa.a)(t),c=n.pipe(Object(_t.a)((function(e){return Object(qa.a)(e)})));return Object(Ta.b)(Object(Ia.a)(e),a,i,c)})),Object(_t.a)((function(e){var n=Object(a.__read)(e,4),i=n[0],c=n[1],o=n[2],r=n[3];return{data:{title:t.title,content:i,summary:r,thumbnail:o,mentionedUserSlugs:c,uuid:t.uuid,tags:t.tags.map((function(e){return e.slug})),subjectSlug:t.subject?t.subject.slug:"",postAnonymously:t.anonymous}}}))).subscribe(e);return function(){n.abort(),i.unsubscribe()}}))}),[t,r]),j=Object(W.e)(),O=Object(f.useCallback)((function(){j()&&(n.update([b(),c,function(e){l(Object(a.__assign)(Object(a.__assign)({},u),e))}]),A.a.discuss.discussUpdateQuestion())}),[n,c,b,j]);return Object(i.jsx)(aa.a,Object(a.__assign)({kind:"primary",prefixIcon:Object(i.jsx)(Re.a,{type:"paper-plane-o"},void 0),size:"sm",onClick:O,loading:t.isSubmitting},{children:"\u66f4\u65b0\u8ba8\u8bba"}),void 0)})),li=Object(f.memo)((function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1],c=Object(f.useCallback)((function(e){return n.save({tags:e})}),[n]),o=Object(f.useCallback)((function(e){return n.save({subject:e})}),[n]),r=Object(f.useContext)(nt.d).isAdmin,s=Object(f.useCallback)((function(e){c(t.tags.filter((function(t){return t.slug!==e})))}),[c,t.tags]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(ni,{children:[Object(i.jsxs)(ci,{children:[Object(i.jsx)(di,{},void 0),Object(i.jsx)(ei,{},void 0),Object(i.jsx)(ti,{},void 0),t.uuid?Object(i.jsx)(ui,{},void 0):Object(i.jsx)(ri,{},void 0)]},void 0),Object(i.jsxs)(oi,{children:[Object(i.jsx)(u.x,{disabled:!r&&!!t.uuid,selectedSubject:t.subject,onSelectSubject:o},void 0),Object(i.jsx)(u.B,{selectedTags:t.tags,onSelectTags:c},void 0),Object(i.jsx)(u.A,{tag:g.a.Fragment,items:t.tags,count:8,height:32,onDeleteTag:s},void 0)]},void 0)]},void 0),Object(i.jsx)(ai,{},void 0)]},void 0)})),bi=z()((function(){var e=document.createElement("div");return e.classList.add("discuss-topic-editor-container"),document.body.appendChild(e),e})),pi=z()((function(){var e=document.getElementById("app");return e||document.body})),ji={left:10,right:10},Oi=function(){var e=Object(a.__read)(Object(p.a)(T.g),2),t=e[0],n=e[1],o=Object(c.i)(),r=Object(f.useRef)(null),s=Object($n.g)(r),d=Object(f.useCallback)((function(e){n.save({content:e})}),[n]),u=t.isSubmitting||t.isRestoring;Object(f.useEffect)((function(){u&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),[u]),Object(f.useEffect)((function(){t.navigation&&(o.push(t.navigation),n.setNavigation(null))}),[t.navigation]),Object(f.useEffect)((function(){if(t.isShow&&t.subject){var e=String(t.subject);Xn.a.discussQuestionEditorExposureExposure(e)}}),[t.isShow,t.subject]);var l=Object(f.useRef)(null),b=Object(f.useMemo)((function(){return{portalContainerRef:l}}),[l]),j=Object(a.__read)(Object(f.useState)(!1),2),O=j[0],g=j[1],_=Object(Yn.a)("enableNewMarkDownEditor"),m=_.data,y=_.isFetching;if(Object(f.useEffect)((function(){return function(){n.hideEditor()}}),[n]),Object(f.useEffect)((function(){var e=localStorage.getItem("use-new-editor-lc-bl");e||localStorage.setItem("use-new-editor-lc-bl","true"),g(!(!m||"false"===e))}),[m,y]),!t.isShow)return null;if(O&&!t.editingMode||t.newVersion&&t.editingMode){var v=window.innerHeight-132;return Hn.a.createPortal(Object(i.jsx)(Un.b.Provider,Object(a.__assign)({value:b},{children:Object(i.jsxs)(Ua,Object(a.__assign)({ref:l,isPending:u},{children:[Object(i.jsx)(li,{},void 0),Object(i.jsx)(Gn.a,{wrapperHeight:v,onContentChange:d,content:t.content,ifInDialog:!0},void 0),t.editingMode?null:Object(i.jsx)(Vn.a,{onClick:function(){g(!1),localStorage.setItem("use-new-editor-lc-bl","false")}},void 0)]}),void 0)}),void 0),pi())}var h=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Ma,{onTriggerShortcut:s,type:"discuss_question",changeVersion:function(){g(!0),localStorage.setItem("use-new-editor-lc-bl","true")}},void 0),Object(i.jsxs)(Ga,{children:[Object(i.jsx)(Va,Object(a.__assign)({minSize:360},{children:Object(i.jsx)(Kn.a,{ref:r,content:t.content,onContentChange:d,onSetup:$n.e},void 0)}),void 0),Object(i.jsx)(Ka,{size:1,expandInteractiveArea:ji},void 0),Object(i.jsx)(Va,Object(a.__assign)({minSize:360},{children:Object(i.jsx)(Qa,{children:t.content},void 0)}),void 0)]},void 0),Object(i.jsx)(Ja,{},void 0)]},void 0);return t.isFullscreen?Hn.a.createPortal(Object(i.jsx)(Un.b.Provider,Object(a.__assign)({value:b},{children:Object(i.jsx)(Ha,Object(a.__assign)({ref:l,isPending:u},{children:h}),void 0)}),void 0),bi()):Hn.a.createPortal(Object(i.jsx)(Un.b.Provider,Object(a.__assign)({value:b},{children:Object(i.jsx)(Ba,Object(a.__assign)({ref:l,isPending:u,isFullscreen:t.isFullscreen,isShow:t.isShow},{children:h}),void 0)}),void 0),bi())}},Ti8K:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("pu3o"),i=n("zCf4"),c=n("YnR9").a.main.paths;function o(e){var t=e.bookSlug,n=e.pageId,i=e.discussionId;return n?c.leetbook.read({bookSlug:t,pageId:n})+Object(a.stringify)({discussion:i},{addQueryPrefix:!0}):c.leetbook.detail({bookSlug:t})}function r(){var e=Object(i.j)().search,t=Object(a.parse)(e,{ignoreQueryPrefix:!0}).discussion;return"string"===typeof t?t:null}},Tndj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("nnm9"),i=n.n(a),c=n("ERkP"),o=Object(c.createContext)(i.a)},W4BP:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p}));var a=n("34li"),i=function(e){return e.filter((function(e){return e.status!==a.o.Deleted}))};function c(e,t,n){return e&&n?{slug:n.profile.userSlug,name:n.profile.realName||n.username,avatar:n.profile.userAvatar}:{slug:t.userSlug,name:t.realName||t.username,avatar:t.avatar}}var o=n("D57K"),r=n("uZih"),s=n.n(r),d=function(e){var t,n=e.uuid,a=e.slug,i=e.articleType,r=e.createdAt,d=e.thumbnail,u=e.summary,l=e.status,b=e.pinned,p=e.sunk,j=e.isEditorsPick,O=e.identifier,f=e.resourceType,g=e.content,_=e.contentAuthor,m=e.realAuthor,y=e.reactionType,v=e.reactionsV2,h=e.isMyFavorite,x=e.favoriteCount,k=e.topic,S=e.parent,C=e.isAnonymous,w=e.canEdit,A=e.totalRepliesNum,T=e.replyTo,I=Object(o.__rest)(e,["uuid","slug","articleType","createdAt","thumbnail","summary","status","pinned","sunk","isEditorsPick","identifier","resourceType","content","contentAuthor","realAuthor","reactionType","reactionsV2","isMyFavorite","favoriteCount","topic","parent","isAnonymous","canEdit","totalRepliesNum","replyTo"]);return Object(o.__assign)(Object(o.__assign)({},I),{uuid:n,slug:a,topicId:k&&k.id,articleType:i,createdAt:r,thumbnail:d,summary:u,pinned:b,sunk:!!p,commentCount:k&&k.commentCount||0,lastCommentCreatedAtInSec:k&&k.lastComment&&k.lastComment.post.creationDate,reactionType:y,reactionsV2:v||[],favored:h,favoriteCount:x,picked:j,status:l,identifier:O,resourceType:f,content:g,canEdit:w,score:S&&S.score||0,author:c(C,_,m),isAnonymous:C,parent:{uuid:S&&S.uuid||"",title:S&&S.title||"",pinned:!(!S||!S.pinned),pinnedGlobally:!(!S||!S.pinnedGlobally),tags:null!==(t=null===S||void 0===S?void 0:S.tags)&&void 0!==t?t:[]},totalRepliesNum:A,replyTo:T?Object(o.__assign)(Object(o.__assign)({},s()(T,["contentAuthor","realAuthor"])),{author:c(T.isAnonymous,T.contentAuthor,T.realAuthor)}):null})},u=function(e){return function(t){Object.keys(t.data.data).forEach((function(n){e.test(n)&&t.data.delete(n)}))}},l=function(e,t){return["\u4f5c\u8005\uff1a"+e,"\u94fe\u63a5\uff1ahttps://leetcode.cn"+t,"\u6765\u6e90\uff1a\u529b\u6263\uff08LeetCode\uff09","\u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002"].join("\n")},b=n("ildc"),p=function(e){return Object(b.q)()?"":e}},X7IW:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n("D57K"),i=n("jg1C"),c=n("ERkP"),o=n.n(c),r=n("ildc"),s=n("ZRwv"),d=n("60w7"),u=n("gd5h"),l=n("5ZzG"),b=n("uWeL"),p=n("lDZ0"),j=n("YkLR"),O=n("p9o4"),f=n("gQka"),g=n("UqMZ"),_=n("yxrP"),m=n("Q/bO"),y=n("Po8h"),v=n("QR8y"),h=n("A83I"),x=n("W4BP"),k=n("K/af"),S=n("jocQ"),C=n("rvHU"),w=n("DuHN"),A=(n("IJu9"),o.a.memo((function(e){var t=e.reactionV2,n=e.comment,o=e.share,A=e.favor,T=e.extraButton,I=e.loose,D=void 0!==I&&I,F=e.tailHidden,R=void 0!==F&&F,P=e.reply,q=e.disabledOperation,E=void 0===q?[]:q,L=Object(c.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),M=!Object(r.q)()&&R;function N(e){return E.includes(e)}var z=Object(a.__read)(Object(k.a)(s.a),1)[0].globalData,B=Object(a.__read)(Object(c.useState)(!!(null===A||void 0===A?void 0:A.favored)),2),Q=B[0],W=B[1];return Object(i.jsxs)(y.f,Object(a.__assign)({onClick:L,loose:D},{children:[!N(h.b.Reaction)&&t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(y.g,{children:Object(i.jsx)(f.a,Object(a.__assign)({isDiscuss:!0,isAnswer:!0},t),void 0)},void 0),Object(i.jsx)(y.h,{},void 0)]},void 0),!N(h.b.Comment)&&n&&Object(i.jsx)(y.d,Object(a.__assign)({kind:"transparent",prefixIcon:Object(i.jsx)(l.a,{type:n.visible?"chat":"chat-o"},void 0),onClick:n.visible?n.onHide:n.onShow},{children:n.visible?"\u6536\u8d77\u8bc4\u8bba":n.commentCount?Object(d.c)(n.commentCount)+" "+Object(x.e)("\u6761\u8bc4\u8bba"):Object(x.e)("\u8bc4\u8bba")}),void 0),!N(h.b.Reply)&&P&&Object(i.jsx)(y.d,Object(a.__assign)({kind:"transparent",prefixIcon:P.isExpanded?Object(i.jsx)(b.a,{},void 0):Object(i.jsx)(p.a,{},void 0),onClick:function(){var e;if(P.count)P.onReply();else{if(Object(r.q)())return;(null===(e=null===z||void 0===z?void 0:z.userStatus)||void 0===e?void 0:e.isSignedIn)?P.onReply():g.a.signIn({})}}},{children:P.count>0?Object(x.e)(P.isExpanded?"\u6536\u8d77":"\u56de\u590d")+" "+Object(d.c)(P.count):Object(x.e)("\u56de\u590d")+(Object(r.q)()?"0":"")}),void 0),!N(h.b.Favor)&&A&&Object(i.jsx)(y.c,Object(a.__assign)({"data-hidden":M&&!Q},{children:Object(i.jsxs)(_.b,Object(a.__assign)({isFavorited:Q,kind:"transparent",prefixIcon:Q?Object(i.jsx)(j.a,{},void 0):Object(i.jsx)(O.a,{},void 0),onClick:function(){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,i;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,u.d.mutate({mutation:Q?C.a:S.a,variables:{answerId:null===T||void 0===T?void 0:T.uuid},fetchPolicy:"no-cache"})];case 1:return e=a.sent(),(null===(i=e.errors)||void 0===i?void 0:i.length)||W(!Q),[3,3];case 2:return t=a.sent(),n=t.graphQLErrors[0].message,w.b.error(n),[3,3];case 3:return[2]}}))}))}},{children:[Object(x.e)(Q?"\u5df2\u6536\u85cf":"\u6536\u85cf"),Object(r.q)()&&Object(d.c)(A.favoriteCount)]}),void 0)}),void 0),!N(h.b.Share)&&o&&Object(i.jsx)(y.c,Object(a.__assign)({"data-hidden":M},{children:Object(i.jsx)(v.a,{link:o.link,onClick:o.onClick},void 0)}),void 0),!N(h.b.AllExtra)&&T&&Object(i.jsx)(y.c,Object(a.__assign)({"data-hidden":M},{children:Object(i.jsx)(y.a,{children:Object(i.jsx)(m.a,Object(a.__assign)({},T,{disabledOperation:E}),void 0)},void 0)}),void 0)]}),void 0)})))},ZGVY:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/hire.91210a98.png"},aSg8:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/career-life.8d7267da.png"},"eP/K":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/feedback.6ed8deff.png"},fJUc:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/machine-learning.6ab8499f.png"},gC99:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/general-topic-active.0e5b2bab.png"},hnHt:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n("TMWK"),i=n("fgAA"),c=n("XHGN"),o=Object(a.a)("div",{target:"e27myof0"})({display:"flex",flexWrap:"wrap",padding:0},"label:TagsContainer;"),r=Object(a.a)("div",{target:"e27myof1"})((function(e){var t=e.color,n=e.height;return{padding:"0 "+(n?Math.floor(n/3):8)+"px",fontSize:"12px",height:n?n+"px":"24px",lineHeight:"20px",fontWeight:400,color:null!==t&&void 0!==t?t:i.b.LabelTertiary(),cursor:"pointer",display:"flex",alignItems:"center",backgroundColor:i.b.FillTertiary(),borderRadius:n?Math.floor(n/2)+"px":"12px",margin:"2px 10px 2px 0px",img:{width:"14px",height:"14px",objectFit:"cover",borderRadius:"7px",marginRight:"2px"}}}),(function(e){if(e.isActive)return{color:i.b.fixed.Paper(),backgroundColor:i.b.BlueStandard()}}),"label:TagWrap;"),s=Object(a.a)(c.a,{target:"e27myof2"})({color:i.b.BaseGrey7(),marginLeft:"4px"},"label:DeleteIcon;")},iUO6:function(e,t,n){e.exports={container:"container__3kGF",relative:"relative__1DAc",popoverClass:"popoverClass__3YYC",flex:"flex__1w6Y",flexCol:"flexCol__1gef",gap1:"gap1__2EaZ",gap2:"gap2__1aOF",jEnd:"jEnd__jPW1",premiumText:"premiumText__29QZ",premiumDes:"premiumDes__2_Et",premiumBtn:"premiumBtn__23NN",closeBtn:"closeBtn__2yco",WarpContainer:"WarpContainer__wtGM",warpContainer:"WarpContainer__wtGM"}},"iXo+":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j}));var a,i,c=n("D57K"),o=n("f7k3"),r=n("TMWK"),s=n("fgAA"),d=n("IDXw"),u=n("WwGZ"),l=n("7a+J"),b="highlight",p=Object(o.c)(i||(i=Object(c.__makeTemplateObject)(["\n  0% {\n    background-color: ",";\n  }\n  20% {\n    background-color: ",";\n  }\n  50% {\n    background-color: ",";\n  }\n  100% {\n    background-color: ",";\n  }\n"],["\n  0% {\n    background-color: ",";\n  }\n  20% {\n    background-color: ",";\n  }\n  50% {\n    background-color: ",";\n  }\n  100% {\n    background-color: ",";\n  }\n"])),s.b.Paper(),s.b.Primary0(),s.b.Primary0(),s.b.Paper()),j=Object(r.a)("div",{target:"e1r2w7m80"})((function(e){return e.isMobile?{}:Object(o.b)(u.a.layer1,l.a.card,{borderRadius:d.n})}),((a={padding:"16px 16px 0px 16px"})["&."+b]={animation:p+" 1.2s ease-in-out 500ms 2"},a),"label:AnswerDetailWrapper;")},jIGg:function(e,t,n){"use strict";n.d(t,"b",(function(){return se})),n.d(t,"c",(function(){return de})),n.d(t,"d",(function(){return K})),n.d(t,"a",(function(){return ce})),n.d(t,"e",(function(){return oe.r}));var a=n("jg1C"),i=n("x+QU"),c=n.n(i),o=n("l1SX"),r=n("D57K"),s=n("lGXO"),d=(n("42uY"),n("K/af")),u=n("ERkP"),l=n.n(u),b=n("zCf4"),p=n("ildc"),j=n("Pigy"),O=n("+Aeu"),f=n("D4d+"),g=n("pOZ+"),_=n("XPmh"),m=n("joee"),y=n("66Zf"),v=n("5Nzd"),h=n("u3dr"),x=n("2wT7"),k=n("HnWI"),S=n("9EWH"),C=n("d9YI"),w=n("AouM"),A=n("IMYO"),T=n("Jg5f"),I=n("B07F"),D=n("34li"),F=n("0OXR");function R(){return{loading:!0,answers:[],totalNum:0,pageSize:null,pageNum:1,orderBy:D.Yb.Hottest}}var P,q=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=R(),n}var n,a,i,c,o,s,d,u;return Object(r.__extends)(t,e),t.prototype.resetStore=function(){return R()},t.prototype.setPageNum=function(e,t){e.pageNum=t},t.prototype.setOrderBy=function(e,t){e.orderBy=t},t.prototype._setAnswers=function(e,t){var n=t.nodes,a=t.totalNum,i=t.pageSize;e.loading=!1,e.answers=Object(O.h)(n.map((function(e){return Object(O.l)(e)}))),e.totalNum=a,e.pageSize=i},t.prototype.fetchAnswers=function(e){var t=this;return e.pipe(Object(w.a)((function(e){var n=e.pageNum,a=Object(r.__rest)(e,["pageNum"]);return t.client.watchQuery({query:F.a,variables:Object(r.__assign)(Object(r.__assign)({},a),{pageNum:n-1}),fetchPolicy:"no-cache"}).pipe(Object(A.a)((function(){return C.a})),Object(T.a)((function(e){var n=e.data;return t.getActions()._setAnswers(n.qaAnswerListV2)})))})))},Object(r.__decorate)([Object(h.a)(),Object(r.__metadata)("design:type","function"===typeof(n="undefined"!==typeof k.a&&k.a)?n:Object)],t.prototype,"dispose$",void 0),Object(r.__decorate)([Object(h.d)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",Object)],t.prototype,"resetStore",null),Object(r.__decorate)([Object(h.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof S.Draft&&S.Draft)?a:Object,Number]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setPageNum",null),Object(r.__decorate)([Object(h.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof S.Draft&&S.Draft)?i:Object,"function"===typeof(c="undefined"!==typeof D.Yb&&D.Yb)?c:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setOrderBy",null),Object(r.__decorate)([Object(h.c)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof S.Draft&&S.Draft)?o:Object,Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"_setAnswers",null),Object(r.__decorate)([Object(h.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof k.a&&k.a)?s:Object]),Object(r.__metadata)("design:returntype","function"===typeof(d="undefined"!==typeof k.a&&k.a)?d:Object)],t.prototype,"fetchAnswers",null),t=Object(r.__decorate)([Object(v.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof I.a&&I.a)?u:Object])],t)}(x.a),E=function(e){function t(t,n){var a=e.call(this)||this;return a.answers=t,a.scrollEffect=n,a.defaultState={},a}var n,a,i,c;return Object(r.__extends)(t,e),t.prototype.fetchAnswerPageInfo=function(e){return e.pipe(this.scrollEffect.fetchAnswerPageInfo(this.answers.getState$(),this.answers.getActions().setPageNum))},Object(r.__decorate)([Object(h.b)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof k.a&&k.a)?n:Object]),Object(r.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof k.a&&k.a)?a:Object)],t.prototype,"fetchAnswerPageInfo",null),t=Object(r.__decorate)([Object(v.a)(),Object(r.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof q&&q)?i:Object,"function"===typeof(c="undefined"!==typeof O.e&&O.e)?c:Object])],t)}(x.a),L=n("Ti8K"),M=n("lVbi"),N=n("TMWK"),z=n("fgAA"),B=n("CkJS"),Q=Object(N.a)("div",{target:"ex349uk0"})(B.a.paragraph.sm,{flex:"0 0 auto",display:"flex",alignItems:"center",marginLeft:"auto",color:z.b.LabelSecondary(),cursor:"pointer",userSelect:"none",":hover":{color:z.b.PrimaryStandard()}},"label:Container;"),W=((P={})[D.Yb.Hottest]="\u6700\u70ed",P[D.Yb.Latest]="\u6700\u65b0",P);function H(e){var t=e.orderBy,n=e.onChange,i=Object(u.useCallback)((function(){n(t===D.Yb.Hottest?D.Yb.Latest:D.Yb.Hottest)}),[t,n]);return Object(a.jsxs)(Q,Object(r.__assign)({onClick:i},{children:[W[t],Object(a.jsx)(M.a,{size:16},void 0)]}),void 0)}var U=n("qTyD"),G=n("HOg7"),V=Object(_.a)(Object(m.a)(U.a,y.a.leetbookReadPickedDiscussButtonExposure),y.a.leetbookReadPickedDiscussButtonClick),K=l.a.memo((function(e){var t=e.questionAuthorSlug,n=e.qaQuestionUuid,i=e.scrollingElementRef,c=Object(r.__read)(Object(d.a)(E),2)[1].fetchAnswerPageInfo,l=Object(r.__read)(Object(d.a)(q),2),_=l[0],m=l[1],v=_.loading,h=_.answers,x=_.totalNum,k=_.pageSize,S=_.pageNum,C=_.orderBy,w=Object(b.k)(),A=w.bookSlug,T=w.pageId,I=Object(L.b)(),D=Object(r.__read)(Object(O.q)(),2),F=D[0],R=D[1];Object(G.a)(h),Object(u.useEffect)((function(){I&&c({answerId:I,effects:[]})}),[I,c]),Object(u.useEffect)((function(){m.fetchAnswers({questionUuid:n,pageNum:S,orderBy:C})}),[m,n,S,C]),Object(u.useEffect)((function(){return m.resetStore}),[m]);var P=Object(O.o)(),M=Object(O.p)(n),N=Object(O.m)({qaQuestionUuid:n,fetchAnswerPageInfo:c}),z=Object(u.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];y.a.leetbookReadPickedDiscussReplyClick(),M.apply(void 0,Object(r.__spread)(e))}),[M]),B=Object(u.useCallback)((function(e){var t=e.answerId;return Object(L.a)({bookSlug:A,pageId:T,discussionId:t})}),[A,T]),Q=Object(u.useCallback)((function(e){m.setPageNum(e),R()}),[m,R]);return Object(a.jsxs)(U.c,{children:[F,Object(a.jsxs)(U.g,{children:[Object(a.jsx)(g.a,{size:20},void 0),"\u8ba8\u8bba\u533a",!Object(p.q)()&&Object(a.jsx)(V,Object(r.__assign)({kind:"primary",onClick:N},{children:"\u53c2\u4e0e\u8ba8\u8bba"}),void 0)]},void 0),Object(a.jsxs)(U.f,{children:[Object(a.jsxs)(U.h,{children:["\u5171 ",x," \u4e2a\u8ba8\u8bba"]},void 0),Object(a.jsx)(H,{orderBy:C,onChange:m.setOrderBy},void 0)]},void 0),v?Object(a.jsx)(U.d,{children:Object(a.jsx)(o.a,{},void 0)},void 0):h.length?Object(a.jsxs)(U.b,{children:[h.map((function(e){return Object(a.jsx)(f.a,{questionAuthorSlug:t,questionAuthorSuffix:"\u521b\u4f5c\u4eba",detail:e,onEdit:P,onReply:z,fetchAnswerPageInfo:c,getCopyLink:A&&T?B:void 0,forceExpanded:!0,scrollingElementRef:i,disabledOperations:[O.d.Favor,O.d.Share,O.d.FeatureRequest]},e.uuid)})),k&&Object(a.jsx)(U.e,{children:Object(a.jsx)(s.a,{total:x,pageSize:k,current:S,onChange:Q,showSizeChanger:!1},void 0)},void 0)]},void 0):Object(a.jsx)(U.d,{children:Object(a.jsx)(j.a,{type:"img",description:"\u6682\u65e0\u8ba8\u8bba"},void 0)},void 0)]},void 0)})),$=n("f7k3"),Y=n("YnR9"),X=n("kH2Q"),J=n("8JP3"),Z=n("+75L"),ee=n("yoUK"),te=n("II0I"),ne=n("uQtW"),ae=n("F2zA"),ie=Y.a.main.PATH,ce=function(){var e=Object(r.__read)(Object(X.b)(Z.h,!0),2),t=e[0],n=e[1],i=Object(u.useMemo)((function(){return{scoreVisible:t,toggleScoreVisible:function(){return n(!t)}}}),[t]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($.a,{styles:ae.d},void 0),Object(a.jsx)(Z.i.Provider,Object(r.__assign)({value:i},{children:Object(a.jsx)(J.a,{children:Object(a.jsxs)(ne.g,Object(r.__assign)({maxWidth:734},{children:[Object(a.jsx)(b.e,{children:Object(a.jsx)(b.c,{path:[ie.discuss.articleDetailManagement,ie.discuss.discussionDetailManagement]},void 0)},void 0),Object(a.jsxs)(b.e,{children:[Object(a.jsx)(b.c,{path:[ie.discuss.viewCommentShareManagement,ie.discuss.viewShareManagement,ie.discuss.discussionDetailManagement],component:te.a},void 0),Object(a.jsx)(b.c,{path:ie.discuss.articleDetailManagement,component:ee.a},void 0)]},void 0)]}),void 0)},void 0)}),void 0)]},void 0)},oe=n("TQP6"),re=function(e){var t=e.error;return t&&console.error(t),Object(a.jsx)(o.a,{isBlocking:!0,delayTimeToUpdateLoadingCountInMs:500},void 0)},se=c()({loader:function(){return n.e(46).then(n.bind(null,"yPl1"))},loading:re,webpack:function(){return["yPl1"]},modules:["main-circle"]}),de=c()({loader:function(){return Promise.resolve().then(n.bind(null,"Oih5"))},loading:re,webpack:function(){return["Oih5"]},modules:["main-circle-editor"]})},jta8:function(e,t,n){"use strict";n.d(t,"u",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"t",(function(){return m})),n.d(t,"p",(function(){return y})),n.d(t,"m",(function(){return h})),n.d(t,"h",(function(){return x})),n.d(t,"z",(function(){return k})),n.d(t,"x",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"v",(function(){return w})),n.d(t,"r",(function(){return A})),n.d(t,"n",(function(){return T})),n.d(t,"y",(function(){return I})),n.d(t,"c",(function(){return D})),n.d(t,"k",(function(){return F})),n.d(t,"j",(function(){return R})),n.d(t,"i",(function(){return P})),n.d(t,"o",(function(){return q})),n.d(t,"l",(function(){return E})),n.d(t,"s",(function(){return L})),n.d(t,"w",(function(){return M})),n.d(t,"q",(function(){return N})),n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return B})),n.d(t,"g",(function(){return Q})),n.d(t,"f",(function(){return W}));var a,i,c,o,r=n("D57K"),s=n("TMWK"),d=n("fgAA"),u=n("IDXw"),l=n("lDJ/"),b=n("/fpG"),p=n("hMUt"),j=n("F2zA"),O=n("/NrN"),f=n("r2qc"),g=Object(s.a)("div",{target:"e2v1tt0"})(j.c,{width:"100%",padding:"0px 16px",marginBottom:"10px",borderRadius:"8px"},(function(e){return e.isMobile?{borderRadius:"0px"}:{}}),"label:QuestionDetailWrapper;"),_=Object(s.a)(f.k,{target:"e2v1tt1"})({padding:0,borderBottomColor:d.a.grey(2)},"label:Breadcrumb;"),m=Object(s.a)("div",{target:"e2v1tt2"})({paddingTop:"8px",position:"relative"},(function(e){return e.isMobile?{paddingTop:"16px"}:{}}),"label:QuestionContent;"),y=Object(s.a)(l.a,{target:"e2v1tt3"})({padding:0,marginTop:"6px"},(function(e){return e.isMobile?{marginTop:"16px"}:{}}),"label:MarkdownContent;"),v=Object(s.a)("div",{target:"e2v1tt4"})(((a={display:"none",position:"absolute",height:"145px",width:"100%",left:0,bottom:0,zIndex:2,background:"linear-gradient(180deg, "+d.a.grey(0,0)+" 0%, "+d.a.grey(0)+" 80%);"})[d.c]={background:"linear-gradient(180deg, "+d.a.grey(0,0)+" 0%, "+d.a.grey(3)+" 80%);"},a.cursor="pointer",a.flexDirection="column",a.alignItems="center",a.justifyContent="flex-end",a.color=d.a.grey(2),a.fontSize="12px",a.span={transition:"color .2s"},a.svg={opacity:0,transform:"translateY(5px)",transition:"all .2s"},a[":hover"]={color:d.a.grey(6),svg:{transform:"translateY(0)",opacity:1}},a),"label:ContentMask;"),h=Object(s.a)(v,{target:"e2v1tt5"})(((i={height:"113px",background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 68.15%);"})[d.c]={background:"linear-gradient(180deg, rgba(46, 47, 49, 0) 0%, #2E2F31 68.15%);"},i.color=d.b.LabelTertiary(),i.lineHeight="16px",i.paddingBottom=16,i.zIndex=100,i),"label:GradientMask;"),x=Object(s.a)("div",{target:"e2v1tt6"})((function(e){var t,n=e.collapsed,a=e.maxHeight;return Object(r.__assign)({position:"relative"},n?((t={maxHeight:a||"145px",overflow:"hidden"})[""+v]={display:"flex"},t[""+h]={display:"flex"},t):{})}),"label:CollapsibleMarkdownContent;"),k=Object(s.a)("span",{target:"e2v1tt7"})({marginRight:"12px"},"label:StyledTitle;"),S=Object(s.a)("div",{target:"e2v1tt8"})({width:"100%",fontSize:"18px",fontWeight:500,lineHeight:"32px",color:d.a.grey(9),wordBreak:"break-word",display:"flex",alignItems:"center",a:{display:"inline-flex"}},(function(e){return e.isMobile?{fontSize:"16px",lineHeight:"22px"}:{}}),"label:QuestionTitle;"),C=Object(s.a)(b.a,{target:"e2v1tt9"})({width:"32px",height:"32px",display:"flex",borderRadius:"50%",marginRight:"10px",objectFit:"cover",verticalAlign:"unset",backgroundColor:d.b.BaseGrey5(),cursor:"pointer"},"label:AvatarWrap;"),w=Object(s.a)("div",{target:"e2v1tt11"})({display:"flex",alignItems:"center",fontSize:"12px",marginTop:"10px",span:{whiteSpace:"nowrap"}},(function(e){return e.isMobile?{display:"block",marginTop:"4px"}:{"> :not(:last-child)":{marginRight:"10px"}}}),"label:QuestionInfoContainer;"),A=Object(s.a)("div",{target:"e2v1tt12"})({display:"flex",alignItems:"center","&:last-child":{marginTop:"8px"},"> :not(:last-child)":{marginRight:"10px"}},"label:MobileWrapper;"),T=Object(s.a)("span",{target:"e2v1tt13"})({color:d.a.grey(5)},"label:InfoItem;"),I=(d.a.grey(5),Object(s.a)("div",{target:"e2v1tt15"})(j.c,{marginBottom:"10px",padding:"10px 15px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"8px"},"label:SortingWrapper;")),D=Object(s.a)("div",{target:"e2v1tt16"})({fontSize:"12px",color:d.b.BaseGrey5()},"label:AnswerCount;"),F=Object(s.a)("div",{target:"e2v1tt17"})(j.c,{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",height:"36px",marginTop:"10px",color:d.a.grey(5),borderRadius:u.n,cursor:"pointer",":hover":{color:d.a.grey(5)}},"label:ExpandButton;"),R=Object(s.a)("div",{target:"e2v1tt18"})(j.c,{width:"100%",height:"550px"},"label:DefaultWrapper;"),P=Object(s.a)("div",{target:"e2v1tt20"})({width:"100%",height:"550px"},(function(e){return e.isMobile?{height:"300px"}:{}}),"label:CommonWrap;"),q=Object(s.a)("div",{target:"e2v1tt21"})({width:"100%",marginBottom:"10px","> *:not(:first-of-type)":{marginTop:"10px"}},(function(e){return e.isMobile?{"> *:not(:first-of-type)":{marginTop:"0px"},"> *":{borderBottom:"2px solid "+d.b.DividerSecondary()}}:{}}),"label:ListWrapper;"),E=Object(s.a)("div",{target:"e2v1tt22"})({marginLeft:"8px",display:"flex",alignItems:"center"},"label:ExtraButtonContainer;"),L=Object(s.a)("div",{target:"e2v1tt23"})({display:"flex",alignItems:"center",borderTop:"1px solid "+d.b.Border2(),position:"sticky",margin:"0 -16px",padding:"14px 16px",borderRadius:"0 0 8px 8px"},(function(e){var t=e.isMobile,n=e.sticky;return t?{marginTop:"10px",padding:"14px 0"}:{bottom:0,backgroundColor:d.b.Layer1(),borderRadius:n?"0 0 8px 8px":void 0}}),"label:QuestionActionsContainer;"),M=Object(s.a)(p.b,{target:"e2v1tt24"})({marginLeft:"auto",marginRight:"16px",lineHeight:"22px"},"label:QuestionReplyButton;"),N=Object(s.a)("div",{target:"e2v1tt25"})({".ant-tabs > .ant-tabs-nav":{marginBottom:"0px","::before":{borderBottom:"none"},".ant-tabs-nav-wrap":{padding:"0px 16px"},".ant-tabs-nav-wrap.ant-tabs-nav-wrap-ping-left::before":{display:"none"},".ant-tabs-nav-wrap.ant-tabs-nav-wrap-ping-right::after":{display:"none"},".ant-tabs-nav-list > div:nth-last-child(2)":{marginRight:"0px"},".ant-tabs-tab":{paddingLeft:"0px",paddingRight:"0px",whiteSpace:"nowrap",div:{color:d.b.LabelSecondary(),fontSize:"14px"}},".ant-tabs-tab.ant-tabs-tab-active > div":{color:d.b.Black()},".ant-tabs-ink-bar":{backgroundColor:d.b.LabelPrimary()}}},"label:MobileSortingContainer;"),z=(d.b.DividerSecondary(),Object(s.a)("div",{target:"e2v1tt27"})({":hover .close-icon":{opacity:1}},"label:AdWarp;")),B=Object(s.a)("div",{target:"e2v1tt28"})({":hover":(c={backgroundColor:"hsl( 0 0% 94%)","&::before":{color:"hsl(0 0% 45% / 0.5)"}},c[d.c]={backgroundColor:"hsl( 0 0% 22%)","&::before":{color:"hsl(0 0% 66% / 0.5)"}},c)},"label:AdWarpContainer;"),Q=Object(s.a)("div",{target:"e2v1tt29"})(((o={backgroundColor:"hsl(0 0% 94%)",color:" hsl(0 0% 45% / 0.5)"})[d.c]={backgroundColor:"hsl( 0 0% 22%)",color:"hsla(0, 0%, 66%, 0.5)"},o),"label:CloseBtn;"),W=Object(s.a)(O.a,{target:"e2v1tt30"})({":hover":{color:"rgba(var(--grey-7-rgb), 1) !important"}},"label:ButtonNoHover;")},lgB9:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return k}));var a=n("D57K"),i=n("jg1C"),c=n("K/af"),o=n("ERkP"),r=n.n(o),s=n("xqpu"),d=n("xdqw"),u=n("nPqx"),l=n("xcfF"),b=n("+75L"),p=n("AF8X"),j=n("mH2o"),O=function(e){var t=e.topicId,n=e.tags,r=void 0===n?[]:n,O=Object(a.__read)(Object(c.a)(j.g),2),f=O[0],g=O[1],_=Object(a.__read)(Object(o.useState)(!1),2),m=_[0],y=_[1],v=Object(o.useContext)(s.d).username,h=Object(o.useCallback)((function(e){return e?{title:b.x[e],slug:e}:null}),[]),x=Object(o.useCallback)((function(){return y(!0)}),[y]),k=Object(o.useCallback)((function(){return y(!1)}),[y]),S=Object(l.a)(),C=S.isFetching,w=S.ifCanNewEditor,A=Object(o.useCallback)((function(e,n){if(t)g.restoreEditor(t);else{var a=Object(p.c)(v),i=Object(d.b)(a);i.has(p.a)||w||C?g.openEditor():(i.set(p.a,!0),g.setTemplateToState())}g.setTags(r),n&&g.setTitle(n);var c=h(e);c&&g.setSubject(c),k()}),[t,g,r,h,k,v,w,C]);return[Object(o.useCallback)((function(e,t){var n=e;f.isShow&&null!==f.uuid&&f.hasChanged?x():A(n,t)}),[f,x,A]),Object(o.useMemo)((function(){return Object(i.jsx)(u.a,Object(a.__assign)({title:"\u63d0\u793a",visible:m,onClose:k,onOk:A},{children:"\u5f53\u524d\u5185\u5bb9\u5b58\u5728\u672a\u66f4\u65b0\u7684\u6539\u52a8\uff0c\u662f\u5426\u786e\u8ba4\u53d6\u6d88\u4fee\u6539\uff1f"}),void 0)}),[m,k])]},f=n("zCf4"),g=n("ehcH"),_=n("UqMZ"),m=n("bz6h");function y(){var e=Object(a.__read)(O({topicId:null}),1)[0],t=r.a.useContext(s.d),n=Object(g.b)(),i=Object(f.k)().subjectSlug,c=void 0===i?b.n:i;return r.a.useCallback((function(){return _.a.ensurePhoneVerified(n((function(){e(c),m.a.circleListAddQuestionClick(c)})),{user:t})()}),[e,t,n,c])}var v=n("fgzu");function h(){var e=Object(a.__read)(Object(c.a)(j.e),1)[0];return Object(o.useCallback)((function(){return e.content?e.title?!!e.tags.length||(v.a.error("\u8bf7\u9009\u62e9\u6807\u7b7e"),!1):(v.a.error("\u8bf7\u8f93\u5165\u6807\u9898"),!1):(v.a.error("\u8f93\u5165\u5185\u5bb9\u8fc7\u77ed"),!1)}),[e])}function x(){var e=Object(a.__read)(Object(c.a)(j.g),1)[0];return Object(o.useCallback)((function(){return e.title?e.subject?!!e.tags.length||(v.a.error("\u8bf7\u9009\u62e9\u6807\u7b7e"),!1):(v.a.error("\u8bf7\u9009\u62e9\u8bdd\u9898"),!1):(v.a.error("\u8bf7\u8f93\u5165\u6807\u9898"),!1)}),[e])}var k=function(){var e=Object(o.useContext)(s.d),t=y(),n=Object(o.useRef)(!1);Object(o.useEffect)((function(){"true"===Object(p.r)(location.search).openEditor&&e.accountStatus&&!n.current&&(n.current=!0,t())}),[e,t])}},li8k:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p}));var a=n("D57K"),i=n("jg1C"),c=n("Ygfp"),o=n.n(c),r=n("ERkP"),s=n("1QlS"),d=n("/NrN"),u=n("UmVR"),l=n("hnHt"),b=Object(r.memo)((function(e){var t=e.items,n=e.count,c=void 0===n?3:n,b=e.expandedCount,j=void 0===b?c:b,O=e.noCountLimit,f=e.shouldShowMoreButton,g=void 0===f||f,_=e.expandable,m=void 0!==_&&_,y=e.activeSlugs,v=void 0===y?[]:y,h=e.className,x=e.useTranslate,k=e.onClickTag,S=e.onDeleteTag,C=e.tag,w=Object(a.__rest)(e,["items","count","expandedCount","noCountLimit","shouldShowMoreButton","expandable","activeSlugs","className","useTranslate","onClickTag","onDeleteTag","tag"]),A=Object(a.__read)(Object(s.a)(!1),3),T=A[0],I=A[1],D=A[2],F=Object(r.useMemo)((function(){var e=t.filter((function(e){return v.includes(e.slug)})),n=o()(t,e,"slug"),i=Object(a.__spread)(e,n);if(O)return i;var r=g&&!T?1:0,s=T?j:c;return s>0&&s<i.length?i.slice(0,s-r):i}),[v,c,t,O,g,T,j]),R=Math.max((m&&j<=t.length?j:t.length)-F.length,0),P=C||l.c;return Object(i.jsxs)(P,Object(a.__assign)({className:h},{children:[F.map((function(e){var t=v.includes(e.slug);return Object(i.jsx)(p,Object(a.__assign)({item:e,isActive:t,useTranslate:x,onClickTag:k,onDeleteTag:S},w),e.slug)})),g?T?Object(i.jsx)(d.a,Object(a.__assign)({kind:"transparent",suffixIcon:Object(i.jsx)(u.a,{},void 0),onClick:D},{children:"\u6536\u8d77"}),void 0):R?Object(i.jsxs)(l.b,Object(a.__assign)({},w,{onClick:m?I:void 0},{children:[R,"+"]}),void 0):void 0:null]}),void 0)})),p=Object(r.memo)((function(e){var t=e.item,n=e.isActive,c=e.useTranslate,o=void 0===c||c,s=e.onClickTag,d=e.onDeleteTag,u=Object(a.__rest)(e,["item","isActive","useTranslate","onClickTag","onDeleteTag"]),b=Object(r.useCallback)((function(){return null===s||void 0===s?void 0:s(t.slug)}),[t.slug,s]),p=Object(r.useCallback)((function(){return null===d||void 0===d?void 0:d(t.slug)}),[t.slug,d]);return Object(i.jsxs)(l.b,Object(a.__assign)({isActive:n,onClick:b},u,{children:[t.imgUrl&&Object(i.jsx)("img",{src:t.imgUrl},void 0),Object(i.jsx)("span",{children:o&&t.nameTranslated||t.name},void 0),!!d&&Object(i.jsx)(l.a,{size:14,onClick:p},void 0)]}),void 0)}))},mH2o:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return le})),n.d(t,"f",(function(){return Oe})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return we})),n.d(t,"j",(function(){return Te})),n.d(t,"g",(function(){return We})),n.d(t,"h",(function(){return Ze})),n.d(t,"i",(function(){return dt})),n.d(t,"k",(function(){return bt})),n.d(t,"l",(function(){return vt})),n.d(t,"m",(function(){return kt})),n.d(t,"n",(function(){return St.a})),n.d(t,"o",(function(){return Vt})),n.d(t,"p",(function(){return B})),n.d(t,"q",(function(){return Xt})),n.d(t,"r",(function(){return en}));var a,i,c=n("D57K"),o=n("5Nzd"),r=n("u3dr"),s=n("2wT7"),d=n("HnWI"),u=n("+Aeu"),l=n("nHJD"),b=n("oOYJ"),p=n("TtBF"),j=n("9EWH"),O=n("2DAM"),f=n.n(O),g=n("pN2L"),_=n("d9YI"),m=n("Cc9O"),y=n("U3QC"),v=n("AouM"),h=n("4HYP"),x=n("mhnT"),k=n("2t7I"),S=n("IMYO"),C=n("W/Ou"),w=n("YnR9"),A=n("wUZp"),T=n("B07F"),I=n("AF8X"),D=n("LgXZ"),F=n("34li"),R=n("I6BV"),P=n("C6/4"),q=n("0OXR"),E=n("fGMb"),L={loading:!0,loadingStatus:!0,question:null,sharedAnswer:null,status:null,userSlug:"",sharedAnswerLoading:!1,answers:{list:[],loading:!0,isEmpty:!1,totalNum:0},orderBy:F.Yb.Hottest,pageNum:1,pageSize:0},M=f()(w.a.main.PATH.discuss.discussionDetail),N=f()(w.a.main.PATH.discuss.viewShare),z=f()(w.a.main.PATH.discuss.viewCommentShare),B=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=L,n}var n,a,i,o,s,O,f,w,B,Q,W,H,U,G,V,K,$,Y,X,J,Z,ee,te;return Object(c.__extends)(t,e),t.prototype.setQuestionDetail=function(e,t){e.question=t||null,e.loading=!1},t.prototype.setLoading=function(e){e.loading=!1},t.prototype.setQuestionStatus=function(e,t){e.status=t.status||null,e.userSlug=t.userSlug||"",e.loadingStatus=!1},t.prototype.setSharedAnswer=function(e,t){e.sharedAnswer=t,e.sharedAnswerLoading=!1},t.prototype.setSharedAnswerLoading=function(e){e.sharedAnswerLoading=!0},t.prototype.clearSharedAnswer=function(e){e.sharedAnswer=null},t.prototype.setOrderBy=function(e,t){e.orderBy=t},t.prototype.setPageNum=function(e,t){e.pageNum=t},t.prototype.setList=function(e,t){var n=t.totalNum,a=t.list,i=t.pageSize,o=Object(u.h)(a);return Object(c.__assign)(Object(c.__assign)({},e),{answers:Object(c.__assign)(Object(c.__assign)({},e.answers),{list:o,loading:!1,isEmpty:!o.length,totalNum:n}),pageSize:i})},t.prototype.setQuestionFavorite=function(e,t){e.question&&(e.question.isMyFavorite=t,e.question.favoriteCount=t?e.question.favoriteCount+1:e.question.favoriteCount-1)},t.prototype.clearList=function(e){e.answers.list=[]},t.prototype.restore=function(){return L},t.prototype.getQuestionDetail=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return Object(D.a)(t.client,{entityId:e,entityType:F.bb.Community})})),Object(v.a)((function(e){return t.client.watchQuery({query:R.a,variables:{uuid:e},fetchPolicy:"no-cache"}).pipe(Object(A.a)("\u83b7\u53d6\u8ba8\u8bba\u8be6\u60c5\u5931\u8d25"),Object(h.b)((function(e){var n=e.data;return Object(g.a)(t.getActions().setQuestionDetail(n.qaQuestion&&Object(I.o)(n.qaQuestion)),l.a)})))})),Object(x.a)(this.dispose$),Object(k.a)())},t.prototype.getQuestionDetailStatus=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return Object(D.a)(t.client,{entityId:e,entityType:F.bb.Community})})),Object(v.a)((function(e){return t.client.watchQuery({query:P.a,variables:{uuid:e},fetchPolicy:"no-cache"}).pipe(Object(A.a)("\u83b7\u53d6\u8ba8\u8bba\u8be6\u72b6\u6001\u60c5\u5931\u8d25"),Object(h.b)((function(e){var n,a,i,c=e.data;return Object(g.a)(t.getActions().setQuestionStatus({status:null===(n=c.qaQuestionStatus)||void 0===n?void 0:n.status,userSlug:null===(i=null===(a=c.qaQuestionStatus)||void 0===a?void 0:a.author)||void 0===i?void 0:i.userSlug}),l.a)})))})),Object(x.a)(this.dispose$),Object(k.a)())},t.prototype.getAnswerList=function(e){var t=this;return e.pipe(Object(v.a)((function(e){var n=e.pageNum,a=Object(c.__rest)(e,["pageNum"]);return t.client.watchQuery({query:q.a,variables:Object(c.__assign)(Object(c.__assign)({},a),{pageNum:n-1}),fetchPolicy:"no-cache"}).pipe(Object(S.a)((function(){return _.a})),Object(h.b)((function(e){var n=e.data.qaAnswerListV2,a=n.nodes,i=n.totalNum,c=n.pageSize,o=a.map((function(e){return Object(u.l)(e)}));return Object(g.a)(t.getActions().setList({totalNum:i,list:o,pageSize:c}),l.a)})))})))},t.prototype.getAnswer=function(e){var t=this;return e.pipe(Object(v.a)((function(e){return t.client.watchQuery({query:E.a,variables:{uuid:e}}).pipe(Object(A.a)("\u83b7\u53d6\u8ba8\u8bba\u5931\u8d25"),Object(h.b)((function(e){var n=e.data;return Object(g.a)(t.getActions().setSharedAnswer(n.qaAnswer&&Object(u.l)(n.qaAnswer)||null),l.a)})),Object(C.a)(t.getActions().setSharedAnswerLoading()))})),Object(x.a)(Object(m.a)(this.dispose$,this.disposeSharedAnswer$)),Object(k.a)())},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"disposeByToken$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"disposeSharedAnswer$",void 0),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof j.Draft&&j.Draft)?o:Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setQuestionDetail",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof j.Draft&&j.Draft)?s:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof j.Draft&&j.Draft)?O:Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setQuestionStatus",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof j.Draft&&j.Draft)?f:Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setSharedAnswer",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof j.Draft&&j.Draft)?w:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setSharedAnswerLoading",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof j.Draft&&j.Draft)?B:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"clearSharedAnswer",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(Q="undefined"!==typeof j.Draft&&j.Draft)?Q:Object,"function"===typeof(W="undefined"!==typeof F.Yb&&F.Yb)?W:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setOrderBy",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof j.Draft&&j.Draft)?H:Object,Number]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setPageNum",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setList",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(U="undefined"!==typeof j.Draft&&j.Draft)?U:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setQuestionFavorite",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(G="undefined"!==typeof j.Draft&&j.Draft)?G:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"clearList",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"restore",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(V="undefined"!==typeof d.a&&d.a)?V:Object]),Object(c.__metadata)("design:returntype","function"===typeof(K="undefined"!==typeof d.a&&d.a)?K:Object)],t.prototype,"getQuestionDetail",null),Object(c.__decorate)([Object(b.a)({payloadGetter:function(e,t){var n=e.path,a=n.match(M)||n.match(N)||n.match(z);return a&&a[1]?a[1]:t()},skipFirstClientDispatch:!1}),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof($="undefined"!==typeof d.a&&d.a)?$:Object]),Object(c.__metadata)("design:returntype","function"===typeof(Y="undefined"!==typeof d.a&&d.a)?Y:Object)],t.prototype,"getQuestionDetailStatus",null),Object(c.__decorate)([Object(b.a)({payloadGetter:function(e,t){var n=e.path,a=n.match(M)||n.match(N)||n.match(z);return a&&a[1]?{questionUuid:a[1],orderBy:F.Yb.Hottest,pageNum:1}:t()},skipFirstClientDispatch:!1}),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(X="undefined"!==typeof d.a&&d.a)?X:Object]),Object(c.__metadata)("design:returntype","function"===typeof(J="undefined"!==typeof d.a&&d.a)?J:Object)],t.prototype,"getAnswerList",null),Object(c.__decorate)([Object(b.a)({payloadGetter:function(e,t){if(M.test(e.path))return t();var n=e.path.match(N)||e.path.match(z);return n&&n[2]?n[2]:t()},skipFirstClientDispatch:!1}),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(Z="undefined"!==typeof d.a&&d.a)?Z:Object]),Object(c.__metadata)("design:returntype","function"===typeof(ee="undefined"!==typeof d.a&&d.a)?ee:Object)],t.prototype,"getAnswer",null),t=Object(c.__decorate)([Object(p.a)("QuestionDetailModule"),Object(c.__metadata)("design:paramtypes",["function"===typeof(te="undefined"!==typeof T.a&&T.a)?te:Object])],t)}(s.a),Q=function(e){function t(t,n){var a=e.call(this)||this;return a.questionDetail=t,a.scrollEffect=n,a.defaultState={},a}var n,a,i,s;return Object(c.__extends)(t,e),t.prototype.fetchAnswerPageInfo=function(e){return e.pipe(this.scrollEffect.fetchAnswerPageInfo(this.questionDetail.getState$(),this.questionDetail.getActions().setPageNum))},Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object]),Object(c.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"fetchAnswerPageInfo",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof B&&B)?i:Object,"function"===typeof(s="undefined"!==typeof u.e&&u.e)?s:Object])],t)}(s.a),W=n("+ycC"),H=n("u+QU"),U=n("L6nh"),G={detail:{},loading:!1,status:null,userSlug:""},V=f()(w.a.main.PATH.discuss.articleDetail),K=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=G,n}var n,a,i,o,s,u,j;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return G},t.prototype.fail=function(e){return e},t.prototype.setLoading=function(e){return Object(c.__assign)(Object(c.__assign)({},e),{loading:!0})},t.prototype.setDetail=function(e,t){if(!t)return Object(c.__assign)(Object(c.__assign)({},e),{loading:!1});var n=t.slug,a=t.title,i=t.thumbnail,o=t.content,r=t.reactionType,s=t.reactionsV2,d=t.hitCount,u=t.createdAt,l=t.updatedAt,b=t.subscribed,p=t.isMyFavorite,j=t.identifier,O=t.resourceType,f=t.pinnedGlobally,g=t.pinned,_=t.sunk,m=t.isEditorsPick,y=t.byLeetcode,v=t.status,h=t.summary,x=t.author,k=x.username,S=x.profile,C=S.userAvatar,w=S.userSlug,A=S.realName,T=t.tags,D=t.subject,F=t.topic,R=t.nextArticle,P=t.articleType,q=t.ipRegion;return Object(c.__assign)(Object(c.__assign)({},e),{detail:Object(c.__assign)(Object(c.__assign)({},e.detail),{slug:n,topicId:F&&F.id,lastCommentCreatedAtInSec:F&&F.lastComment&&F.lastComment.post.creationDate,articleType:P,title:a,cover:i,content:o,reactionType:r,reactionsV2:s||[],viewCount:d,createdAt:u,updatedAt:l&&!Object(I.i)(u,l)?l:null,subscribed:b,favored:p,identifier:j,resourceType:O,pinnedGlobally:f,pinned:g,sunk:_,picked:m,official:y,status:v,summary:h,author:{name:A||k,slug:w,avatar:C},relatedTags:T.map((function(e){var t=e.name,n=e.slug;return{name:e.nameTranslated||t,slug:n,tagType:e.tagType}})),subject:D,nextArticle:R,ipRegion:q}),loading:!1})},t.prototype.setDetailStatus=function(e,t){return Object(c.__assign)(Object(c.__assign)({},e),{status:t.status||null,userSlug:t.userSlug||"",loading:!1})},t.prototype.getDetail=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return Object(D.a)(t.client,{entityId:e,entityType:F.bb.Community})})),Object(v.a)((function(e){return t.client.watchQuery({query:W.a,variables:{id:e}}).pipe(Object(A.a)("\u83b7\u53d6\u6587\u7ae0\u8be6\u60c5\u5931\u8d25"),Object(h.a)((function(e){var n=e.data;return Object(g.a)(t.getActions().setDetail(n.columnsArticleById),l.a)})),Object(C.a)(t.getActions().setLoading()))})),Object(x.a)(this.dispose$),Object(k.a)())},t.prototype.getDetailStatus=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return Object(D.a)(t.client,{entityId:e,entityType:F.bb.Community})})),Object(v.a)((function(e){return t.client.watchQuery({query:H.a,variables:{id:e}}).pipe(Object(A.a)("\u83b7\u53d6\u6587\u7ae0\u8be6\u60c5\u5931\u8d25"),Object(h.a)((function(e){var n,a,i=e.data;return Object(g.a)(t.getActions().setDetailStatus({status:null===(n=i.columnsArticleById)||void 0===n?void 0:n.status,userSlug:null===(a=i.columnsArticleById)||void 0===a?void 0:a.author.profile.userSlug}),l.a)})),Object(C.a)(t.getActions().setLoading()))})),Object(x.a)(this.dispose$),Object(k.a)())},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"fail",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,"function"===typeof(a="undefined"!==typeof U.Maybe&&U.Maybe)?a:Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setDetail",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setDetailStatus",null),Object(c.__decorate)([Object(b.a)({payloadGetter:function(e,t){var n=e.path.match(V);return n&&n[1]?n[1]:t()},skipFirstClientDispatch:!1}),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object]),Object(c.__metadata)("design:returntype","function"===typeof(o="undefined"!==typeof d.a&&d.a)?o:Object)],t.prototype,"getDetail",null),Object(c.__decorate)([Object(b.a)({payloadGetter:function(e,t){var n=e.path.match(V);return n&&n[1]?n[1]:t()},skipFirstClientDispatch:!1}),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof d.a&&d.a)?s:Object]),Object(c.__metadata)("design:returntype","function"===typeof(u="undefined"!==typeof d.a&&d.a)?u:Object)],t.prototype,"getDetailStatus",null),t=Object(c.__decorate)([Object(p.a)("ArticleDetailModule"),Object(c.__metadata)("design:paramtypes",["function"===typeof(j="undefined"!==typeof T.a&&T.a)?j:Object])],t)}(s.a),$=n("rzNM"),Y=n("Jg5f"),X=n("fgzu"),J=n("B8Ql"),Z=n("IJ3h"),ee=n("fcA2"),te=n("Mgpv"),ne=n("x2sj"),ae=n("Fr7C"),ie=n("B6mg"),ce=n("SDuy"),oe=n("+ir7"),re=n("FNKl"),se=n("alFq"),de=n("NKbs"),ue=n("VxrX"),le=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={},n}var n,a,i,s,u,l,b,p,j,O,f,g,m,y,v,h,k,C,w,I,D,F,R,P,q,E;return Object(c.__extends)(t,e),t.prototype.noop=function(){},t.prototype.addReaction=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.reactionType;return t.client.mutate({mutation:J.a,variables:{articleId:n,reactionType:a}}).pipe(Object(A.a)("\u6dfb\u52a0\u6587\u7ae0\u53cd\u54cd\u5931\u8d25"),Object(Y.a)((function(e){var a,i=e.data;return(null===(a=null===i||void 0===i?void 0:i.columnsAddReaction)||void 0===a?void 0:a.ok)&&ue.a.discuss.discussArticleAddReaction(n),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.removeReaction=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Z.a,variables:{articleId:e}}).pipe(Object(A.a)("\u53d6\u6d88\u6587\u7ae0\u53cd\u54cd\u5931\u8d25"),Object(Y.a)((function(n){var a,i=n.data;return(null===(a=null===i||void 0===i?void 0:i.columnsRemoveReaction)||void 0===a?void 0:a.ok)&&ue.a.discuss.discussArticleRemoveReaction(e),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.addFavorite=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:ee.a,variables:{data:{articleId:e}}}).pipe(Object(A.a)("\u6536\u85cf\u6587\u7ae0\u5931\u8d25"),Object(Y.a)((function(n){var a=n.data;return a&&a.addFavoriteArticle&&a.addFavoriteArticle.ok&&ue.a.discuss.discussArticleAddFavorite(e),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.removeFavorite=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:te.a,variables:{data:{articleId:e}}}).pipe(Object(A.a)("\u53d6\u6d88\u6536\u85cf\u6587\u7ae0\u5931\u8d25"),Object(Y.a)((function(n){var a=n.data;return a&&a.removeFavoriteArticle&&a.removeFavoriteArticle.ok&&ue.a.discuss.discussArticleRemovedFavorite(e),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.deleteArticle=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:ne.a,variables:{id:e}}).pipe(Object(A.a)("\u5220\u9664\u6587\u7ae0\u5931\u8d25"),Object(Y.a)((function(n){var a=n.data;return a&&a.deleteArticle&&a.deleteArticle.ok&&ue.a.discuss.discussDeleteArticle(e),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.managementDeleteArticle=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.slug,a=e.uuid;return t.client.mutate({mutation:ae.a,variables:{slug:n,value:!0},fallbackErrorMessageForUnknownError:"\u5220\u9664\u6587\u7ae0\u5931\u8d25"}).pipe(Object(S.a)((function(){return _.a})),Object(Y.a)((function(e){var n,i=e.data;return(null===(n=null===i||void 0===i?void 0:i.columnsSetArticleAsRemoved)||void 0===n?void 0:n.ok)&&ue.a.discuss.discussDeleteArticle(a),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.togglePinnedGlobally=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.pinned,i=a?"\u5168\u7ad9\u7f6e\u9876\u6210\u529f":"\u53d6\u6d88\u5168\u7ad9\u7f6e\u9876\u6210\u529f",c=a?"\u5168\u7ad9\u7f6e\u9876\u6587\u7ae0\u5931\u8d25":"\u53d6\u6d88\u5168\u7ad9\u7f6e\u9876\u6587\u7ae0\u5931\u8d25";return t.client.mutate({mutation:ie.a,variables:{articleId:n,pinned:a}}).pipe(Object(A.a)(c),Object(Y.a)((function(e){var c=e.data;return c&&c.columnsTogglePinArticleGlobally&&c.columnsTogglePinArticleGlobally.ok&&(a?ue.a.discuss.discussPinArticleGlobally(n):ue.a.discuss.discussCancelPinArticleGlobally(n),X.a.success(i)),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.togglePinnedInSubject=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.pinned,i=a?"\u677f\u5757\u5185\u7f6e\u9876\u6210\u529f":"\u53d6\u6d88\u677f\u5757\u5185\u7f6e\u9876\u6210\u529f",c=a?"\u677f\u5757\u5185\u7f6e\u9876\u6587\u7ae0\u5931\u8d25":"\u53d6\u6d88\u677f\u5757\u5185\u7f6e\u9876\u6587\u7ae0\u5931\u8d25";return t.client.mutate({mutation:ce.a,variables:{articleId:n,pinned:a}}).pipe(Object(A.a)(c),Object(Y.a)((function(e){var c=e.data;return c&&c.columnsTogglePinArticleInCategory&&c.columnsTogglePinArticleInCategory.ok&&(a?ue.a.discuss.discussPinArticleInSubject(n):ue.a.discuss.discussCancelPinArticleInSubject(n),X.a.success(i)),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.toggleSunk=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.sunk,i=a?"\u4e0b\u6c89\u6210\u529f":"\u53d6\u6d88\u4e0b\u6c89\u6210\u529f",c=a?"\u4e0b\u6c89\u5931\u8d25":"\u53d6\u6d88\u4e0b\u6c89\u5931\u8d25";return t.client.mutate({mutation:oe.a,variables:{articleId:n,sunk:a}}).pipe(Object(A.a)(c),Object(Y.a)((function(e){var c=e.data;return c&&c.columnsToggleSunkArticle&&c.columnsToggleSunkArticle.ok&&(a?ue.a.discuss.discussSinkArticle(n):ue.a.discuss.discussCancelSinkArticle(n),X.a.success(i)),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.togglePicked=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.picked,i=a?"\u7cbe\u9009\u6210\u529f":"\u53d6\u6d88\u7cbe\u9009\u6210\u529f",c=a?"\u7cbe\u9009\u5931\u8d25":"\u53d6\u6d88\u7cbe\u9009\u5931\u8d25";return t.client.mutate({mutation:re.a,variables:{id:n,value:a}}).pipe(Object(A.a)(c),Object(Y.a)((function(){return X.a.success(i),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.toggleOfficial=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.official,i=a?"\u8bbe\u4e3a\u5b98\u65b9\u6210\u529f":"\u53d6\u6d88\u8bbe\u4e3a\u5b98\u65b9\u6210\u529f",c=a?"\u8bbe\u4e3a\u5b98\u65b9\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u5b98\u65b9\u5931\u8d25";return t.client.mutate({mutation:se.a,variables:{id:n,value:a}}).pipe(Object(A.a)(c),Object(Y.a)((function(){return X.a.success(i),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},t.prototype.toggleSubscribed=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.subscribed,i=a?"\u63a5\u6536\u52a8\u6001\u5931\u8d25":"\u5173\u95ed\u63d0\u9192\u5931\u8d25";return t.client.mutate({mutation:de.a,variables:{articleId:n,subscribed:a}}).pipe(Object(A.a)(i),Object(Y.a)((function(e){var i=e.data;return i&&i.columnsToggleSubscribeArticle&&i.columnsToggleSubscribeArticle.ok&&(a?ue.a.discuss.discussCancelSubscribeArticle(n):ue.a.discuss.discussSubscribeArticle(n)),t.getActions().noop()})),Object(x.a)(t.dispose$))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"noop",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object]),Object(c.__metadata)("design:returntype","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"addReaction",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof d.a&&d.a)?s:Object]),Object(c.__metadata)("design:returntype","function"===typeof(u="undefined"!==typeof d.a&&d.a)?u:Object)],t.prototype,"removeReaction",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof d.a&&d.a)?l:Object]),Object(c.__metadata)("design:returntype","function"===typeof(b="undefined"!==typeof d.a&&d.a)?b:Object)],t.prototype,"addFavorite",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object]),Object(c.__metadata)("design:returntype","function"===typeof(j="undefined"!==typeof d.a&&d.a)?j:Object)],t.prototype,"removeFavorite",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof d.a&&d.a)?O:Object]),Object(c.__metadata)("design:returntype","function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object)],t.prototype,"deleteArticle",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof d.a&&d.a)?g:Object]),Object(c.__metadata)("design:returntype","function"===typeof(m="undefined"!==typeof d.a&&d.a)?m:Object)],t.prototype,"managementDeleteArticle",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof d.a&&d.a)?y:Object]),Object(c.__metadata)("design:returntype","function"===typeof(v="undefined"!==typeof d.a&&d.a)?v:Object)],t.prototype,"togglePinnedGlobally",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(h="undefined"!==typeof d.a&&d.a)?h:Object]),Object(c.__metadata)("design:returntype","function"===typeof(k="undefined"!==typeof d.a&&d.a)?k:Object)],t.prototype,"togglePinnedInSubject",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(C="undefined"!==typeof d.a&&d.a)?C:Object]),Object(c.__metadata)("design:returntype","function"===typeof(w="undefined"!==typeof d.a&&d.a)?w:Object)],t.prototype,"toggleSunk",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(I="undefined"!==typeof d.a&&d.a)?I:Object]),Object(c.__metadata)("design:returntype","function"===typeof(D="undefined"!==typeof d.a&&d.a)?D:Object)],t.prototype,"togglePicked",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(F="undefined"!==typeof d.a&&d.a)?F:Object]),Object(c.__metadata)("design:returntype","function"===typeof(R="undefined"!==typeof d.a&&d.a)?R:Object)],t.prototype,"toggleOfficial",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof d.a&&d.a)?P:Object]),Object(c.__metadata)("design:returntype","function"===typeof(q="undefined"!==typeof d.a&&d.a)?q:Object)],t.prototype,"toggleSubscribed",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(E="undefined"!==typeof T.a&&T.a)?E:Object])],t)}(s.a),be=n("R+ki"),pe=n("yfLf"),je={allCollection:{list:[],loading:!1,isEmpty:!1,totalNum:0,pageSize:0},filter:{sortingOption:F.n.Hot,queryStr:"",pageNum:1}},Oe=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=je,n}var n,a,i,s,l,b,p,O,f,g,m,h,x,k,w;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return je},t.prototype.resetAllCollectionIsEmpty=function(e){e.allCollection.isEmpty=!1},t.prototype.setAllCollectionLoading=function(e){e.allCollection.loading=!0},t.prototype.setSortingOption=function(e,t){e.filter.sortingOption=t},t.prototype.setQuery=function(e,t){e.filter.queryStr=t},t.prototype.setPage=function(e,t){e.filter.pageNum=t},t.prototype.clearList=function(e){e.allCollection.list=[]},t.prototype.setAllCollection=function(e,t){var n=t.totalNum,a=t.list,i=t.pageSize,o=Object(u.h)(a);return Object(c.__assign)(Object(c.__assign)({},e),{allCollection:Object(c.__assign)(Object(c.__assign)({},e.allCollection),{list:o,loading:!1,isEmpty:!o.length,totalNum:n,pageSize:i})})},t.prototype.getArticles=function(e){var t=this;return e.pipe(Object(be.a)(300),Object(v.a)((function(e){var n=e.tagSlugs,a=e.query,i=e.isFeatured,c=e.pageNum,o=e.effect,r=e.sortType;return t.client.watchQuery({query:pe.a,variables:{query:a,isFeatured:i,tags:n,pageNum:c-1,sortType:r},fetchPolicy:"network-only"}).pipe(Object(y.a)((function(){return null===o||void 0===o?void 0:o()})),Object(Y.a)((function(e){var n=e.data.columnsArticlesV2,a=n.totalNum,i=n.nodes,c=n.pageSize,o=i.map((function(e){return Object(I.l)(e)}));return t.getActions().setAllCollection({totalNum:a,list:o,pageSize:c})})),Object(C.a)(t.getActions().disposeGetSuggestions$(),t.getActions().setAllCollectionLoading(),t.getActions().resetAllCollectionIsEmpty()),Object(S.a)((function(){return _.a})))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"_disposeByPage$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"disposeGetInSubject$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(s="undefined"!==typeof d.a&&d.a)?s:Object)],t.prototype,"disposeGetAll$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(l="undefined"!==typeof d.a&&d.a)?l:Object)],t.prototype,"disposeGetSuggestions$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof j.Draft&&j.Draft)?b:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetAllCollectionIsEmpty",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof j.Draft&&j.Draft)?p:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setAllCollectionLoading",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof j.Draft&&j.Draft)?O:Object,"function"===typeof(f="undefined"!==typeof F.n&&F.n)?f:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setSortingOption",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof j.Draft&&j.Draft)?g:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setQuery",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(m="undefined"!==typeof j.Draft&&j.Draft)?m:Object,Number]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setPage",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(h="undefined"!==typeof j.Draft&&j.Draft)?h:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"clearList",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setAllCollection",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(x="undefined"!==typeof d.a&&d.a)?x:Object]),Object(c.__metadata)("design:returntype","function"===typeof(k="undefined"!==typeof d.a&&d.a)?k:Object)],t.prototype,"getArticles",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof T.a&&T.a)?w:Object])],t)}(s.a),fe=n("0cIN"),ge=n("gQst"),_e=n("z5yO"),me=n("RtDN"),ye=n("eb+u"),ve=n("Qj05"),he=n("AApe"),xe=n("KSkC"),ke=n("YhDC"),Se=n("eeNx"),Ce=n("+75L");!function(e){e.Edit="Edit",e.Preview="Preview",e.TwoColumn="TwoColumn"}(a||(a={})),function(e){e.Restore="Restore",e.Delete="Delete",e.Publish="Publish"}(i||(i={}));var we=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=Ae(),n}var n,a,s,l,b,p,O,f,m,k,S,D,R,P,q,E,L,M,N,z;return Object(c.__extends)(t,e),Object.defineProperty(t.prototype,"history",{get:function(){return o.b.getInstanceByToken(ve.a.provide)},enumerable:!1,configurable:!0}),t.prototype.switchMode=function(e,t){e.mode=t},t.prototype.setEditingMode=function(e,t){e.editingMode=t},t.prototype.switchRewardEnabled=function(e,t){e.rewardEnabled=t},t.prototype.setRewardButtonVisible=function(e,t){e.canEditReward=t},t.prototype.reset=function(){return Ae()},t.prototype.publish=function(e){return this._publish({trigger$:e,mutation:he.a})},t.prototype.mock=function(e){return this._publish({trigger$:e,mutation:xe.a})},t.prototype._setIsPublishing=function(e,t){e.isPublishing=t},t.prototype.delete=function(e){var t=this;return e.pipe(Object(_e.a)((function(e){return!!e})),Object(v.a)((function(e){return t.client.mutate({mutation:ne.a,variables:{id:e}}).pipe(Object(Y.a)((function(e){var t=e.data;return t&&t.deleteArticle})),Object(y.a)((function(e){e&&e.ok?t.history&&(t.history.length>0?t.history.goBack():t.history.replace(w.a.main.paths.discuss.home({subjectSlug:Ce.l}))):X.a.error((null===e||void 0===e?void 0:e.error)||"\u672a\u77e5\u9519\u8bef")})),Object(h.b)((function(){return _.a})),Object(A.a)("fetch deleteDiscussArticle error"),Object(C.a)(t.getActions().dispose$(i.Delete)),Object(C.a)(t.getActions()._setIsDeleting(!0)),Object(me.a)(t.getActions()._setIsDeleting(!1)),Object(x.a)(t.dispose$.pipe(Object(_e.a)((function(e){return e!==i.Delete})))))})))},t.prototype._setIsDeleting=function(e,t){e.isDeleting=t},t.prototype.restoreDraft=function(e){var t=this;return e.pipe(Object(v.a)((function(e){return t.client.query({fetchPolicy:"network-only",query:ke.a,variables:{id:e}}).pipe(Object(Y.a)((function(e){var t=e.data;return t&&t.columnsDraft})),Object(h.b)((function(e){return e?Object(g.a)(t.getActions()._setNewState(function(e){return Object(c.__assign)(Object(c.__assign)({},Ae()),{content:e.content,title:e.title,newVersion:"\x01"===e.title[0],thumbnail:e.thumbnail,tags:e.tags,subject:e.subject||null,canAutoSave:e.status===F.o.Draft,isPicked:e.isEditorsPick,rewardEnabled:!!e.rewardEnabled,canEditReward:!!e.canEditReward})}(e))):_.a})),Object(A.a)("fetch communityColumnsMyDraft error"),Object(C.a)(t.getActions().dispose$(i.Restore)),Object(me.a)(t.getActions()._setIsRestoring(!1)),Object(C.a)(t.getActions()._setIsRestoring(!0)),Object(x.a)(t.dispose$.pipe(Object(_e.a)((function(e){return e!==i.Restore})))))})))},t.prototype._setIsRestoring=function(e,t){e.isRestoring=t},t.prototype.save=function(e,t){var n=this,a=e.pipe(Object(ye.a)(t),Object(Y.a)((function(e){var t=Object(c.__read)(e,2),n=t[0].input,a=t[1];return Object(c.__assign)(Object(c.__assign)({},a),n)}))),i=e.pipe(Object(ye.a)(a),Object(_e.a)((function(e){return Object(c.__read)(e,2)[1].canAutoSave})),Object(v.a)((function(e){var t=Object(c.__read)(e,2),a=t[0].id,i=t[1];return Object(fe.a)(1e3).pipe(Object(v.a)((function(){return n.client.mutate({mutation:Se.a,variables:{data:{uuid:a,content:i.content,title:i.title,tags:i.tags.map((function(e){return e.slug})),thumbnail:i.thumbnail||"",subjectSlug:i.subject?i.subject.slug:""}}}).pipe(Object(Y.a)((function(e){var t=e.data;return t&&t.columnsAutoSaveArticle&&t.columnsAutoSaveArticle.article})),Object(_e.a)((function(e){return!!e})),Object(y.a)((function(e){var t;a||null===(t=n.history)||void 0===t||t.replace(w.a.main.paths.discuss.writeArticle({articleId:e.uuid}))})),Object(h.b)((function(){return _.a})),Object(A.a)("fetch columnsAutoSaveArticle error"),Object(me.a)(n.getActions()._setIsSaving(!1)),Object(C.a)(n.getActions()._setIsSaving(!0)))})),Object(x.a)(n.dispose$))}))),o=a.pipe(Object(Y.a)((function(e){return n.getActions()._setNewState(e)})));return Object(ge.a)(i,o)},t.prototype._setIsSaving=function(e,t){e.isSaving=t},t.prototype._setNewState=function(e,t){var n=e.editingMode;return Object(c.__assign)(Object(c.__assign)({},t),{editingMode:n})},t.prototype.setTemplateToState=function(e){e.content=I.s},t.prototype._publish=function(e){var t=this,n=e.trigger$,a=e.mutation;return n.pipe(Object(v.a)((function(e){return e.pipe(Object(v.a)((function(e){return t.client.mutate({variables:e,mutation:a,update:Object(u.g)(/columnsArticleSuggestionOptions|columnsHotArticles|columnsArticles/)}).pipe(Object(Y.a)((function(e){var t=e.data;if(t)return"columnsPublishArticle"in t?t.columnsPublishArticle:"columnsOfficialPublishArticle"in t?t.columnsOfficialPublishArticle:void 0})),Object(y.a)((function(e){var n;e&&(e.ok&&e.article?null===(n=t.history)||void 0===n||n.replace(w.a.main.paths.discuss.articleDetail({articleId:e.article.uuid})):X.a.error(e.error||"\u672a\u77e5\u9519\u8bef"))})),Object(h.b)((function(){return _.a})),Object(A.a)("fetch publishDiscussArticle error"),Object(C.a)(t.getActions().dispose$(i.Publish)),Object(C.a)(t.getActions()._setIsPublishing(!0)),Object(me.a)(t.getActions()._setIsPublishing(!1)),Object(x.a)(t.dispose$.pipe(Object(_e.a)((function(e){return e!==i.Publish})))))})))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof j.Draft&&j.Draft)?a:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"switchMode",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof j.Draft&&j.Draft)?s:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setEditingMode",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof j.Draft&&j.Draft)?l:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"switchRewardEnabled",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof j.Draft&&j.Draft)?b:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setRewardButtonVisible",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"reset",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"publish",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof d.a&&d.a)?O:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"mock",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof j.Draft&&j.Draft)?f:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsPublishing",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(m="undefined"!==typeof d.a&&d.a)?m:Object]),Object(c.__metadata)("design:returntype","function"===typeof(k="undefined"!==typeof d.a&&d.a)?k:Object)],t.prototype,"delete",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof j.Draft&&j.Draft)?S:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsDeleting",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(D="undefined"!==typeof d.a&&d.a)?D:Object]),Object(c.__metadata)("design:returntype","function"===typeof(R="undefined"!==typeof d.a&&d.a)?R:Object)],t.prototype,"restoreDraft",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof j.Draft&&j.Draft)?P:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsRestoring",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(q="undefined"!==typeof d.a&&d.a)?q:Object,"function"===typeof(E="undefined"!==typeof d.a&&d.a)?E:Object]),Object(c.__metadata)("design:returntype","function"===typeof(L="undefined"!==typeof d.a&&d.a)?L:Object)],t.prototype,"save",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(M="undefined"!==typeof j.Draft&&j.Draft)?M:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsSaving",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setNewState",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof j.Draft&&j.Draft)?N:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setTemplateToState",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof T.a&&T.a)?z:Object])],t)}(s.a);function Ae(){return{mode:a.TwoColumn,content:"",title:"",newVersion:!1,thumbnail:"",tags:[],subject:null,editingMode:!1,isSaving:!1,isRestoring:!1,isDeleting:!1,isPublishing:!1,canAutoSave:!0,isPicked:!1,rewardEnabled:!1,canEditReward:!1}}var Te,Ie=n("//nZ"),De=n.n(Ie),Fe=n("3n3h"),Re=n("Pu0A"),Pe=n.n(Re),qe=n("xdqw"),Ee=n("M1Eh"),Le=n("Qn9u"),Me=n("DkOd");!function(e){e.Edit="Edit",e.Preview="Preview"}(Te||(Te={}));var Ne=["content","title","tags","subject"],ze=Object(qe.b)("discuss-topic-editor"),Be="draft",Qe=w.a.main.paths,We=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=He(),n}var n,a,i,s,l,b,p,O,f,m,x,k,S,w,D,F,P,q,E,L,M,N,z,B,Q,W,H,G,V,K,$;return Object(c.__extends)(t,e),t.prototype.save=function(e,t){var n=this;return e.pipe(Object(ye.a)(t),Object(y.a)((function(e){var t=Object(c.__read)(e,2),n=t[0],a=t[1];if(null===a.uuid){var i=Object(c.__assign)(Object(c.__assign)({},De()(a,Ne)),n);ze.set(Be,i)}})),Object(Y.a)((function(e){var t=Object(c.__read)(e,1)[0];return n.getActions()._save(t)})))},t.prototype._save=function(e,t){var n=Object(c.__assign)(Object(c.__assign)({},e),t),a=!Pe()(n,e),i=e.isShowLocalDraftTips&&!a;return Object(c.__assign)(Object(c.__assign)({},n),{hasChanged:a,isShowLocalDraftTips:i})},t.prototype.setTitle=function(e,t){e.title=t},t.prototype.setSubject=function(e,t){e.subject=t},t.prototype.setTags=function(e,t){e.tags=t},t.prototype.switchMode=function(e,t){e.mode=t},t.prototype.setEditingMode=function(e,t){e.editingMode=t},t.prototype.toggleFullscreen=function(e){e.isFullscreen=!e.isFullscreen},t.prototype.hideLocalDraftTips=function(e){e.isShowLocalDraftTips=!1},t.prototype.resetEditor=function(e){var t=this;return e.pipe(Object(h.b)((function(){return Object(g.a)(t.getActions()._reset(),t.getActions()._removeDraft())})))},t.prototype._removeDraft=function(e){return e.pipe(Object(y.a)((function(){ze.remove(Be)})),Object(Fe.a)(_.a))},t.prototype._reset=function(){return Object(c.__assign)(Object(c.__assign)({},He()),{isShow:!0})},t.prototype.hideEditor=function(e){e.isShow=!1},t.prototype.setTemplateToState=function(e){e.content=I.s,e.isShow=!0},t.prototype.openEditor=function(){var e=ze.get(Be)||{},t=e.content,n=void 0===t?"":t,a=e.title,i=void 0===a?"":a,o=e.tags,r=void 0===o?[]:o,s=e.subject,d=void 0===s?null:s,u=!!n||!!i||r.length>0||!!d;return Object(c.__assign)(Object(c.__assign)({},He()),{isShow:!0,isShowLocalDraftTips:u,content:n,title:i,tags:r,subject:d})},t.prototype.restoreEditor=function(e){var t=this;return e.pipe(Object(v.a)((function(e){return t.client.query({query:R.a,variables:{uuid:e}}).pipe(Object(v.a)((function(n){var a=n.data;return a&&a.qaQuestion?Object(g.a)(t.getActions()._restore(Object(c.__assign)(Object(c.__assign)({},a.qaQuestion),{uuid:e}))):_.a})),Object(A.a)("\u6062\u590d\u7f16\u8f91\u5185\u5bb9\u5931\u8d25"),Object(C.a)(t.getActions()._setIsRestoring(!0)),Object(me.a)(t.getActions()._setIsRestoring(!1)))})))},t.prototype._restore=function(e,t){var n=e.editingMode;return Object(c.__assign)(Object(c.__assign)({},He()),{isShow:!0,content:t.content||"",title:t.title,newVersion:"\x01"===t.title[0],tags:t.tags,subject:t.subject||null,uuid:t.uuid,anonymous:t.isAnonymous,editingMode:n})},t.prototype._setIsRestoring=function(e,t){e.isRestoring=t},t.prototype.setNavigation=function(e,t){e.navigation=t},t.prototype.setAnonymous=function(e,t){e.anonymous=t},t.prototype.publish=function(e){return this._publish({trigger$:e,mutation:Ee.a})},t.prototype.mock=function(e){return this._publish({trigger$:e,mutation:Le.a})},t.prototype.update=function(e){var t=this;return e.pipe(Object(v.a)((function(e){var n=Object(c.__read)(e,3),a=n[0],i=n[1],o=n[2];return a.pipe(Object(v.a)((function(e){return t.client.mutate({variables:e,mutation:Me.a}).pipe(Object(A.a)("\u66f4\u65b0\u8ba8\u8bba\u5931\u8d25"),Object(Y.a)((function(e){var t=e.data;return t&&t.qaEditQuestion})),Object(y.a)((function(e){e&&e.question})),Object(v.a)((function(e){return e&&e.question?(null===i||void 0===i||i({}),null===o||void 0===o||o(e.question),Object(g.a)(t.getActions().hideEditor())):_.a})),Object(C.a)(t.getActions()._setIsSubmitting(!0)),Object(me.a)(t.getActions()._setIsSubmitting(!1)))})))})))},t.prototype._setIsSubmitting=function(e,t){e.isSubmitting=t},t.prototype._publish=function(e){var t=this,n=e.trigger$,a=e.mutation;return n.pipe(Object(v.a)((function(e){return e.pipe(Object(v.a)((function(e){return t.client.mutate({variables:e,mutation:a,update:Object(u.g)(/qaQuestionAnswerList/)}).pipe(Object(A.a)("\u53d1\u5e03\u8ba8\u8bba\u5931\u8d25"),Object(Y.a)((function(e){var t=e.data;if(t)return"qaPublishQuestion"in t?t.qaPublishQuestion:"qaOfficialPublishQuestion"in t?t.qaOfficialPublishQuestion:void 0})),Object(y.a)((function(e){e&&e.question})),Object(v.a)((function(e){return e&&e.question?Object(g.a)(t.getActions().resetEditor(),t.getActions().hideEditor(),t.getActions().setNavigation(Qe.discuss.discussionDetail({discussId:e.question.uuid}))):_.a})),Object(C.a)(t.getActions()._setIsSubmitting(!0)),Object(me.a)(t.getActions()._setIsSubmitting(!1)))})))})))},Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object,"function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object]),Object(c.__metadata)("design:returntype","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"save",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,"function"===typeof(s="undefined"!==typeof SaveInput&&SaveInput)?s:Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"_save",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof j.Draft&&j.Draft)?l:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setTitle",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof j.Draft&&j.Draft)?b:Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setSubject",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof j.Draft&&j.Draft)?p:Object,Array]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setTags",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof j.Draft&&j.Draft)?O:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"switchMode",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof j.Draft&&j.Draft)?f:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setEditingMode",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(m="undefined"!==typeof j.Draft&&j.Draft)?m:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"toggleFullscreen",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(x="undefined"!==typeof j.Draft&&j.Draft)?x:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"hideLocalDraftTips",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(k="undefined"!==typeof d.a&&d.a)?k:Object]),Object(c.__metadata)("design:returntype","function"===typeof(S="undefined"!==typeof d.a&&d.a)?S:Object)],t.prototype,"resetEditor",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof d.a&&d.a)?w:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_removeDraft",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"_reset",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(D="undefined"!==typeof j.Draft&&j.Draft)?D:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"hideEditor",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(F="undefined"!==typeof j.Draft&&j.Draft)?F:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setTemplateToState",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"openEditor",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof d.a&&d.a)?P:Object]),Object(c.__metadata)("design:returntype","function"===typeof(q="undefined"!==typeof d.a&&d.a)?q:Object)],t.prototype,"restoreEditor",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(E="undefined"!==typeof j.Draft&&j.Draft)?E:Object,"function"===typeof(L="undefined"!==typeof U.QaQuestionDetail&&U.QaQuestionDetail.QaQuestion)?L:Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"_restore",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(M="undefined"!==typeof j.Draft&&j.Draft)?M:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsRestoring",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof j.Draft&&j.Draft)?N:Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setNavigation",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof j.Draft&&j.Draft)?z:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setAnonymous",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof d.a&&d.a)?B:Object]),Object(c.__metadata)("design:returntype","function"===typeof(Q="undefined"!==typeof d.a&&d.a)?Q:Object)],t.prototype,"publish",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(W="undefined"!==typeof d.a&&d.a)?W:Object]),Object(c.__metadata)("design:returntype","function"===typeof(H="undefined"!==typeof d.a&&d.a)?H:Object)],t.prototype,"mock",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(G="undefined"!==typeof d.a&&d.a)?G:Object]),Object(c.__metadata)("design:returntype","function"===typeof(V="undefined"!==typeof d.a&&d.a)?V:Object)],t.prototype,"update",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(K="undefined"!==typeof j.Draft&&j.Draft)?K:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"_setIsSubmitting",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof($="undefined"!==typeof T.a&&T.a)?$:Object])],t)}(s.a);function He(){return{content:"",title:"",newVersion:!1,tags:[],subject:null,isShow:!1,editingMode:!1,isFullscreen:!0,isSubmitting:!1,isRestoring:!1,hasChanged:!1,isShowLocalDraftTips:!1,mode:Te.Edit,uuid:null,navigation:null,anonymous:!1}}var Ue=n("2Mvu"),Ge=n("CYZE"),Ve=n("cGAd"),Ke=n("lqvn"),$e=n("Qksx"),Ye=n("u1hN"),Xe=n("rdoa"),Je={list:[],nextToken:"",tokens:[],loading:!1,hasMore:!0,isEmpty:!1,filter:{query:""}},Ze=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=Je,n}var n,a,i,s,b,p,O,f,S,w,D,F,R,P;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return Je},t.prototype.setLoading=function(e){e.loading=!0},t.prototype.resetIsEmpty=function(e){e.isEmpty=!1},t.prototype.setQuery=function(e,t){e.filter.query=t},t.prototype.clearTokens=function(e){e.nextToken="",e.tokens=[]},t.prototype.setList=function(e,t){var n=t.nextToken,a=t.list,i=Object(u.h)(Object(Ye.a)(e.list,a,"uuid")),o=e.tokens.includes(n||null),r=o?e.tokens:e.tokens.concat(e.nextToken),s=o?e.nextToken:n||null;return Object(c.__assign)(Object(c.__assign)({},e),{list:i,nextToken:s,tokens:r,loading:!1,hasMore:null!==s,isEmpty:!i.length})},t.prototype.clearList=function(e){e.list=[]},t.prototype.fetchRecommendations=function(e,t){var n=this;return Object(ge.a)(e.pipe(Object(Ue.a)()),e.pipe(Object(Ge.a)("nextToken"),Object(Ve.a)(1),Object(_e.a)((function(e){return!!e.nextToken}))),e.pipe(Object(Ke.a)(Object(I.h)(["query","nextToken","updateQuery"])),Object(Ve.a)(1),Object(Y.a)((function(e){return Object(c.__assign)(Object(c.__assign)({},e),{clear:!0})}))),e.pipe(Object(Ge.a)("query"),Object(Ve.a)(1),Object(be.a)(500),Object(Y.a)((function(e){return Object(c.__assign)(Object(c.__assign)({},e),{clear:!0})})))).pipe(Object(y.a)((function(e){var t=e.tags,n=e.query,a=e.updateQuery;return a&&a({query:n,tag:t.map((function(e){return e.slug}))})})),Object($e.b)((function(e){return e.nextToken})),Object(h.b)((function(e){return e.pipe(Object(ye.a)(t),Object(v.a)((function(e){var t=Object(c.__read)(e,2),a=t[0],i=a.query,o=a.tags,r=a.nextToken,s=a.clear,d=void 0!==s&&s,b=t[1].tokens,p=d?Object(c.__spread)([n.getActions().clearList(),n.getActions().clearTokens()],b.filter((function(e){return!!e})).map((function(e){return n.getActions().disposeByToken$(e)}))):[];return Object(m.a)(n.client.watchQuery({query:Xe.a,variables:{nextToken:r,query:i,filterTagSlugs:o.map((function(e){return e.slug}))}}).pipe(Object(A.a)("\u83b7\u53d6\u63a8\u8350\u5217\u8868\u5931\u8d25"),Object(h.b)((function(e){var t=e.data.communityRecommendedItems,a=t.nodes,i=t.nextToken,o=a.reduce((function(e,t){return Object(I.k)(t)?e.push(Object(I.o)(t)):Object(I.f)(t)?e.push(Object(u.l)(t)):Object(I.g)(t)&&e.push(Object(I.l)(Object(c.__assign)(Object(c.__assign)({},t),{sunk:t.articleSunk}))),e}),[]);return Object(g.a)(n.getActions().setList({nextToken:i,list:o}),l.a)}))),n.dispose$.pipe(Object(h.b)((function(){return _.a})))).pipe(C.a.apply(void 0,Object(c.__spread)([n.getActions().setLoading(),n.getActions().resetIsEmpty()],p)))})),Object(x.a)(n.disposeByToken$.pipe(Object(_e.a)((function(t){return t===e.key&&!!e.key})))),Object(k.a)())})))},t.prototype.triggerFetch=function(e,t){var n=this;return e.pipe(Object(ye.a)(t),Object(h.b)((function(e){var t=Object(c.__read)(e,2),a=t[0],i=t[1],o=i.filter,r=i.nextToken;return null===r?_.a:Object(g.a)(n.getActions().fetchRecommendations(Object(c.__assign)(Object(c.__assign)({},o),{tags:a,nextToken:r})))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"disposeByToken$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof j.Draft&&j.Draft)?i:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof j.Draft&&j.Draft)?s:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetIsEmpty",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof j.Draft&&j.Draft)?b:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setQuery",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof j.Draft&&j.Draft)?p:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"clearTokens",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setList",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof j.Draft&&j.Draft)?O:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"clearList",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object,"function"===typeof(S="undefined"!==typeof d.a&&d.a)?S:Object]),Object(c.__metadata)("design:returntype","function"===typeof(w="undefined"!==typeof d.a&&d.a)?w:Object)],t.prototype,"fetchRecommendations",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(D="undefined"!==typeof d.a&&d.a)?D:Object,"function"===typeof(F="undefined"!==typeof d.a&&d.a)?F:Object]),Object(c.__metadata)("design:returntype","function"===typeof(R="undefined"!==typeof d.a&&d.a)?R:Object)],t.prototype,"triggerFetch",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof T.a&&T.a)?P:Object])],t)}(s.a),et=n("nnRT"),tt=n.n(et),nt=n("OhpL"),at=n("Of9N"),it=n("Qe/l"),ct=n("AW4M"),ot=n("vK5G"),rt=n("2bGm"),st={selectedTags:[],unSelectedTags:{list:[],totalNum:0,loading:!1},recommendTags:[],searchedTags:[],isVerifyingTagSlugs:!1},dt=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=st,n}var n,a,i,s,u,l,b,p,O,f,m,y,w,I,D,R;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return st},t.prototype.setSelectedTags=function(e,t){e.selectedTags=t},t.prototype.setUnSelectedTags=function(e,t){var n=t.tags,a=t.totalNum;e.unSelectedTags={list:n,totalNum:a,loading:!1}},t.prototype.setRecommendTags=function(e,t){e.recommendTags=t},t.prototype.setSearchedTags=function(e,t){e.searchedTags=t},t.prototype.setUnSelectedTagsLoading=function(e){e.unSelectedTags.loading=!0},t.prototype.setIsVerifyingTagSlugs=function(e,t){e.isVerifyingTagSlugs=t},t.prototype.verifyTagSlugs=function(e){var t=this;return e.pipe(Object(v.a)((function(e){return e.length?t.client.query({query:ct.a,variables:{slugs:e}}).pipe(Object(A.a)("\u9a8c\u8bc1\u6807\u7b7e\u5931\u8d25",!1,!1),Object(h.b)((function(e){var n=e.data;return Object(g.a)(t.getActions().setSelectedTags(n.commonTags.map((function(e){var t=e.name;return{name:e.nameTranslated||t,slug:e.slug,imgUrl:e.imgUrl}}))),t.getActions().setIsVerifyingTagSlugs(!1))})),Object(C.a)(t.getActions().setIsVerifyingTagSlugs(!0)),Object(S.a)((function(){return Object(g.a)(t.getActions().setSelectedTags([]),t.getActions().setIsVerifyingTagSlugs(!1))}))):Object(g.a)(t.getActions().setSelectedTags([]))})))},t.prototype.getUnSelectedTags=function(e){var t=this;return Object(ge.a)(e.pipe(Object(Ue.a)()),e.pipe(Object(Ke.a)((function(e,t){return tt()(e.selectedTagSlugs,t.selectedTagSlugs)})),Object(Ve.a)(1)),e.pipe(Object(Ge.a)("query"),Object(Ve.a)(1),Object(be.a)(500))).pipe(Object(v.a)((function(e){var n=e.scope,a=e.query,i=e.selectedTagSlugs,c=function(e){switch(e){case Ce.m:return{field:"columnsArticleTags",query:nt.a,errMsg:"\u83b7\u53d6\u6587\u7ae0\u6807\u7b7e\u5931\u8d25"};case Ce.o:return{field:"qaQuestionTags",query:at.a,errMsg:"\u83b7\u53d6\u8ba8\u8bba\u6807\u7b7e\u5931\u8d25"};case Ce.w:return{field:"qaCommunityTags",query:it.a,errMsg:"\u83b7\u53d6\u5168\u90e8\u5217\u8868\u6807\u7b7e\u5931\u8d25"}}}(n),o=c.field,r=c.query,s=c.errMsg;return t.client.query({query:r,variables:{query:a,selectedTagSlugs:i}}).pipe(Object(A.a)(s),Object(Y.a)((function(e){var n=e.data[o],a=n.number,i=n.nodes.map((function(e){var t=e.name,n=e.slug;return{name:e.nameTranslated||t,slug:n}}));return t.getActions().setUnSelectedTags({tags:i,totalNum:a})})),Object(C.a)(t.getActions().setUnSelectedTagsLoading()))})),Object(x.a)(this.dispose$),Object(k.a)())},t.prototype.searchTags=function(e){var t=this;return e.pipe(Object(be.a)(300),Object(v.a)((function(e){var n=e.scope,a=e.subjectSlug,i=e.query,c=n===Ce.o?F.D.QAndA:F.D.Article;return t.client.query({query:ot.a,variables:{contentType:c,subjectSlug:a,query:i}}).pipe(Object(Y.a)((function(e){var n=e.data.columnsTags.map((function(e){var t=e.name;return{name:e.nameTranslated||t,slug:e.slug,imgUrl:e.imgUrl}}));return t.getActions().setSearchedTags(n)})),Object(S.a)((function(){return _.a})))})))},t.prototype.getRecommendTags=function(e){var t=this;return e.pipe(Object(v.a)((function(e){var n=e.scope,a=e.subjectSlug,i=n===Ce.o?F.D.QAndA:F.D.Article;return t.client.query({query:rt.a,variables:{contentType:i,subjectSlug:a}}).pipe(Object(Y.a)((function(e){var n=e.data.columnsRecommendedTags.map((function(e){var t=e.name;return{name:e.nameTranslated||t,slug:e.slug,imgUrl:e.imgUrl}}));return t.getActions().setRecommendTags(n)})),Object(S.a)((function(){return _.a})))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof j.Draft&&j.Draft)?a:Object,Array]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setSelectedTags",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof j.Draft&&j.Draft)?i:Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setUnSelectedTags",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof j.Draft&&j.Draft)?s:Object,Array]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setRecommendTags",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof j.Draft&&j.Draft)?u:Object,Array]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setSearchedTags",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof j.Draft&&j.Draft)?l:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setUnSelectedTagsLoading",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof j.Draft&&j.Draft)?b:Object,Boolean]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setIsVerifyingTagSlugs",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object]),Object(c.__metadata)("design:returntype","function"===typeof(O="undefined"!==typeof d.a&&d.a)?O:Object)],t.prototype,"verifyTagSlugs",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object]),Object(c.__metadata)("design:returntype","function"===typeof(m="undefined"!==typeof d.a&&d.a)?m:Object)],t.prototype,"getUnSelectedTags",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof d.a&&d.a)?y:Object]),Object(c.__metadata)("design:returntype","function"===typeof(w="undefined"!==typeof d.a&&d.a)?w:Object)],t.prototype,"searchTags",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(I="undefined"!==typeof d.a&&d.a)?I:Object]),Object(c.__metadata)("design:returntype","function"===typeof(D="undefined"!==typeof d.a&&d.a)?D:Object)],t.prototype,"getRecommendTags",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(R="undefined"!==typeof T.a&&T.a)?R:Object])],t)}(s.a),ut=n("FhXr"),lt={list:[],totalNum:0,pageNum:1,pageSize:0,loading:!1,hasMore:!0,isEmpty:!1,filter:{orderBy:F.Yb.Hottest,query:""},listParams:{}},bt=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=lt,n}var n,a,i,s,l,b,p,O,f,g,m,h,x,k,w;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return lt},t.prototype.setLoading=function(e){e.loading=!0},t.prototype.resetIsEmpty=function(e){e.isEmpty=!1},t.prototype.setQuery=function(e,t){e.filter.query=t},t.prototype.setPageNum=function(e,t){e.pageNum=t},t.prototype.setParams=function(e,t){e.listParams=Object(c.__assign)(Object(c.__assign)({},e.listParams),t)},t.prototype.setList=function(e,t){var n=t.totalNum,a=t.list,i=t.pageSize,o=Object(u.h)(a);return Object(c.__assign)(Object(c.__assign)({},e),{list:o,totalNum:null!==n&&void 0!==n?n:0,pageSize:i,loading:!1,isEmpty:!o.length})},t.prototype.clearList=function(e){e.list=[]},t.prototype.getList=function(e,t){var n=this;return e.pipe(Object(be.a)(300),Object(ye.a)(t),Object(v.a)((function(e){var t=Object(c.__read)(e,2),a=t[0],i=a.query,o=a.pageNum,r=a.isFeatured,s=a.subjectSlug,d=a.tags,u=a.effect,l=a.sortType,b=t[1].listParams,p={subjectSlug:s,isFeatured:r,pageNum:o-1,query:i,tags:null===d||void 0===d?void 0:d.map((function(e){return e.slug})),sortType:l};return n.client.watchQuery({query:ut.a,variables:l?p:b,fetchPolicy:"network-only"}).pipe(Object(y.a)((function(){return null===u||void 0===u?void 0:u()})),Object(Y.a)((function(e){var t=e.data.qaQuestionList,a=t.nodes,i=t.totalNum,c=t.pageSize,o=a.map((function(e){return Object(I.o)(e)}));return n.getActions().setList({totalNum:i,list:o,pageSize:c})})),Object(C.a)(n.getActions().setParams(l?p:{}),n.getActions().setLoading(),n.getActions().resetIsEmpty(),n.getActions().clearList()),Object(S.a)((function(){return _.a})))})))},t.prototype.triggerFetch=function(e,t){var n=this;return e.pipe(Object(ye.a)(t),Object(_e.a)((function(e){return!!Object(c.__read)(e,2)[1].pageNum})),Object(Y.a)((function(e){var t=Object(c.__read)(e,2),a=t[0],i=a.subjectSlug,o=a.isFeatured,r=void 0!==o&&o,s=a.tags,d=a.sortType,u=t[1],l=u.filter,b=u.pageNum;return n.getActions().getList(Object(c.__assign)(Object(c.__assign)({},l),{subjectSlug:i,tags:s,pageNum:b,isFeatured:r,sortType:d}))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"_disposeByToken$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof j.Draft&&j.Draft)?i:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof j.Draft&&j.Draft)?s:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetIsEmpty",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof j.Draft&&j.Draft)?l:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setQuery",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof j.Draft&&j.Draft)?b:Object,Number]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setPageNum",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof j.Draft&&j.Draft)?p:Object,Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setParams",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setList",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof j.Draft&&j.Draft)?O:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"clearList",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object,"function"===typeof(g="undefined"!==typeof d.a&&d.a)?g:Object]),Object(c.__metadata)("design:returntype","function"===typeof(m="undefined"!==typeof d.a&&d.a)?m:Object)],t.prototype,"getList",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(h="undefined"!==typeof d.a&&d.a)?h:Object,"function"===typeof(x="undefined"!==typeof d.a&&d.a)?x:Object]),Object(c.__metadata)("design:returntype","function"===typeof(k="undefined"!==typeof d.a&&d.a)?k:Object)],t.prototype,"triggerFetch",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof T.a&&T.a)?w:Object])],t)}(s.a),pt=n("16zr"),jt=n("iQtu"),Ot=n("CItF"),ft=n("8xqF"),gt=n("Ri8p"),_t=n("awOM"),mt=n("eZYp"),yt={totalNum:0,loading:!1,isEmpty:!1,list:[],page:1,pageSize:Ce.g,filter:{queryStr:""}},vt=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=yt,n}var n,a,i,s,l,b;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return yt},t.prototype.setIsEmpty=function(e,t){return Object(c.__assign)(Object(c.__assign)({},e),{isEmpty:t})},t.prototype.setLoading=function(e){return Object(c.__assign)(Object(c.__assign)({},e),{loading:!0})},t.prototype.setPage=function(e,t){var n,a;return"number"===typeof t?n=t:(n=t.page,a=t.pageSize),Object(c.__assign)(Object(c.__assign)({},e),{page:n,pageSize:a||e.pageSize})},t.prototype.setQuery=function(e,t){return Object(c.__assign)(Object(c.__assign)({},e),{filter:Object(c.__assign)(Object(c.__assign)({},e.filter),{queryStr:t})})},t.prototype.setList=function(e,t){var n=t.totalNum,a=t.list,i=t.page;return Object(c.__assign)(Object(c.__assign)({},e),{totalNum:n,list:Object(u.h)(a),loading:!1,isEmpty:!a.length,page:i})},t.prototype.clearList=function(e){return Object(c.__assign)(Object(c.__assign)({},e),{list:[]})},t.prototype.getList=function(e){var t=this;return Object(ge.a)(e.pipe(Object(Ue.a)(),Object(Y.a)((function(e){return t.getActions().fetchList(e)}))),e.pipe(Object(Ge.a)("page"),Object(Ve.a)(1),Object(Y.a)((function(e){return t.getActions().fetchList(e)}))),e.pipe(Object(Ge.a)("queryStr"),Object(be.a)(500),Object(Ve.a)(1),Object(Y.a)((function(e){return t.getActions().fetchList(Object(c.__assign)(Object(c.__assign)({},e),{page:1}))})))).pipe(Object(x.a)(this.dispose$),Object(k.a)())},t.prototype.fetchList=function(e){var t=this;return e.pipe(Object(Ke.a)(tt.a),Object(v.a)((function(e){var n=e.queryStr,a=e.page,i=e.pageSize,o=function(e){switch(e){case Ce.q:return{field:"columnsMyArticles",query:pt.a,errMsg:"\u83b7\u53d6\u6211\u7684\u6587\u7ae0\u5931\u8d25",nodeToItem:I.l};case Ce.r:return{field:"communityMyComments",query:jt.a,errMsg:"\u83b7\u53d6\u6211\u7684\u8bc4\u8bba\u5931\u8d25",nodeToItem:I.m};case Ce.t:return{field:"columnsFavoriteArticles",query:Ot.a,errMsg:"\u83b7\u53d6\u6211\u6536\u85cf\u7684\u6587\u7ae0\u5931\u8d25",nodeToItem:I.l};case Ce.v:return{field:"columnsMySubscriptionList",query:ft.a,errMsg:"\u83b7\u53d6\u6211\u5173\u6ce8\u7684\u6587\u7ae0\u5931\u8d25",nodeToItem:I.l};case Ce.s:return{field:"qaMyFavoriteQuestionAndAnswers",query:gt.a,errMsg:"\u83b7\u53d6\u6211\u6536\u85cf\u7684\u8ba8\u8bba\u5931\u8d25",nodeToItem:I.p};case Ce.p:return{field:"qaMyAnswers",query:_t.a,errMsg:"\u83b7\u53d6\u6211\u7684\u8ba8\u8bba\u5931\u8d25",nodeToItem:u.l};case Ce.u:return{field:"qaMyQuestions",query:mt.a,errMsg:"\u83b7\u53d6\u6211\u53d1\u8d77\u7684\u8ba8\u8bba\u5931\u8d25",nodeToItem:I.o}}}(t.scopeName),r=o.field,s=o.query,d=o.errMsg,l=o.nodeToItem;return i=i||t.getState().pageSize,t.client.watchQuery({query:s,variables:Object(c.__assign)(Object(c.__assign)({},t.scopeName===Ce.s?{size:i}:{skip:(a-1)*i,first:i,query:n}),{pageNum:a-1}),fetchPolicy:"network-only"}).pipe(Object(A.a)(d,!0),Object(Y.a)((function(e){var n,i=e.data,c=(n=i[r])&&n.edges?{totalNum:n.totalNum||0,nodes:n.edges.map((function(e){return e.node})).filter((function(e){return!!e}))}:n&&n.nodes?{totalNum:n.totalNum||0,nodes:n.nodes.filter((function(e){return!!e}))}:{totalNum:0,nodes:[]},o=c.totalNum,s=c.nodes.map((function(e){return l(e)}));return t.getActions().setList({totalNum:o,list:s,page:a})})),Object(C.a)(t.getActions().setLoading(),t.getActions().setIsEmpty(!1)))})),Object(x.a)(this.dispose$),Object(k.a)())},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Boolean]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setIsEmpty",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setPage",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,String]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setQuery",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setList",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"clearList",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object]),Object(c.__metadata)("design:returntype","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"getList",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof d.a&&d.a)?s:Object]),Object(c.__metadata)("design:returntype","function"===typeof(l="undefined"!==typeof d.a&&d.a)?l:Object)],t.prototype,"fetchList",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof T.a&&T.a)?b:Object])],t)}(s.a),ht=n("77eN"),xt={totalNum:0,loading:!1,isEmpty:!1,list:[],page:1},kt=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=xt,n}var n,a,i,s;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return xt},t.prototype.setIsEmpty=function(e,t){return Object(c.__assign)(Object(c.__assign)({},e),{isEmpty:t})},t.prototype.setLoading=function(e){return Object(c.__assign)(Object(c.__assign)({},e),{loading:!0})},t.prototype.setPage=function(e,t){return Object(c.__assign)(Object(c.__assign)({},e),{page:t})},t.prototype.setList=function(e,t){var n=t.totalNum,a=t.list;return Object(c.__assign)(Object(c.__assign)({},e),{totalNum:n,list:a,loading:!1,isEmpty:!a.length})},t.prototype.clearList=function(e){return Object(c.__assign)(Object(c.__assign)({},e),{list:[]})},t.prototype.getList=function(e){var t=this;return e.pipe(Object(v.a)((function(e){return t.client.query({query:ht.a,variables:{skip:(e-1)*Ce.g,first:Ce.g},fetchPolicy:"network-only"}).pipe(Object(A.a)("\u83b7\u53d6\u6211\u7684\u8349\u7a3f\u5931\u8d25"),Object(Y.a)((function(e){var n=e.data.columnsMyDrafts,a=n.totalNum,i=n.edges.map((function(e){return Object(I.n)(e.node)}));return t.getActions().setList({totalNum:a,list:i})})),Object(C.a)(t.getActions().setLoading(),t.getActions().setIsEmpty(!1)),Object(x.a)(t.dispose$))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Boolean]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setIsEmpty",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Number]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setPage",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setList",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"clearList",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object]),Object(c.__metadata)("design:returntype","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"getList",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof T.a&&T.a)?s:Object])],t)}(s.a),St=n("OKNS"),Ct=n("/ebn"),wt=n("nnm9"),At=n.n(wt),Tt=n("3ppq"),It=n("VGbr"),Dt=n("6mTI"),Ft=n("wFP2"),Rt=n("hedu"),Pt=n("4MHO"),qt=n("AWud"),Et=n("WrKy"),Lt=n("Im1w"),Mt=n("kdZW"),Nt=n("fToa"),zt=n("cgB0"),Bt=n("jocQ"),Qt=n("rvHU"),Wt=n("Np46"),Ht=n("jNK6"),Ut=n("bz6h"),Gt=n("DuHN"),Vt=(n("IJu9"),function(e){function t(t,n){var a=e.call(this)||this;return a.client=t,a.questionDetail=n,a.defaultState={timespan:0},a}var n,a,i,s,u,l,b,p,O,f,m,v,x,k,S,C,w,I,D,P,q,E,L,M,N,z,Q,W,H,U,G,V,K,X;return Object(c.__extends)(t,e),t.prototype.setTimeSpan=function(e){e.timespan=+new Date},t.prototype.togglePinQuestionGlobally=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Tt.a,variables:e}).pipe(Object(A.a)(e.pinned?"\u5168\u7ad9\u7f6e\u9876\u5931\u8d25":"\u53d6\u6d88\u5168\u7ad9\u7f6e\u9876\u5931\u8d25"),Object(y.a)((function(){e.pinned?(Gt.b.success("\u5df2\u8bbe\u4e3a\u5168\u7ad9\u7f6e\u9876"),ue.a.discuss.discussPinQuestionGlobally(e.questionId)):(Gt.b.success("\u5df2\u53d6\u6d88\u5168\u7ad9\u7f6e\u9876"),ue.a.discuss.discussCancelPinQuestionGlobally(e.questionId))})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.togglePinQuestionInSubject=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:It.a,variables:e}).pipe(Object(A.a)(e.pinned?"\u677f\u5757\u5185\u7f6e\u9876\u5931\u8d25":"\u53d6\u6d88\u677f\u5757\u5185\u7f6e\u9876\u5931\u8d25"),Object(y.a)((function(){e.pinned?(Gt.b.success("\u5df2\u8bbe\u4e3a\u8bdd\u9898\u5185\u7f6e\u9876"),ue.a.discuss.discussPinQuestionInSubject(e.questionId)):(Gt.b.success("\u5df2\u53d6\u6d88\u8bdd\u9898\u5185\u7f6e\u9876"),ue.a.discuss.discussCancelPinQuestionInSubject(e.questionId))})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.deleteQuestion=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Dt.a,variables:{uuid:e}}).pipe(Object(A.a)("\u5220\u9664\u8ba8\u8bba\u5931\u8d25"),Object(y.a)((function(){return ue.a.discuss.discussDeleteQuestion(e)})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.managementDeleteQuestion=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Ft.a,variables:{uuid:e},fallbackErrorMessageForUnknownError:"\u5220\u9664\u8ba8\u8bba\u5931\u8d25"}).pipe(Object(y.a)((function(){return ue.a.discuss.discussDeleteQuestion(e)})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.toggleOfficialQuestion=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Rt.a,variables:e}).pipe(Object(A.a)(e.value?"\u8bbe\u4e3a\u5b98\u65b9\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u5b98\u65b9\u5931\u8d25"),Object(y.a)((function(){e.value?(Gt.b.success("\u5df2\u8bbe\u4e3a\u5b98\u65b9"),ue.a.discuss.discussQuestionSetOfficial(e.uuid)):(Gt.b.success("\u5df2\u53d6\u6d88\u8bbe\u4e3a\u5b98\u65b9"),ue.a.discuss.discussQuestionCancelSetOfficial(e.uuid))})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.toggleQuestionRecommend=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Pt.a,variables:e}).pipe(Object(A.a)(e.value?"\u8bbe\u4e3a\u63a8\u8350\u5931\u8d25":"\u53d6\u6d88\u63a8\u8350\u5931\u8d25"),Object(y.a)((function(){e.value?Gt.b.success("\u5df2\u8bbe\u4e3a\u63a8\u8350"):Gt.b.success("\u5df2\u53d6\u6d88\u63a8\u8350")})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.toggleSubscribeQuestion=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:qt.a,variables:e}).pipe(Object(A.a)(e.subscribed?"\u63a5\u6536\u52a8\u6001\u5931\u8d25":"\u5173\u95ed\u63d0\u9192\u5931\u8d25"),Object(y.a)((function(){e.subscribed?ue.a.discuss.discussSubscribeQuestion(e.uuid):ue.a.discuss.discussCancelSubscribeQuestion(e.uuid)})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.toggleFavoriteQuestion=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.uuid,a=e.isFavorited,i=e.callback,c=void 0===i?At.a:i,o=a?Et.a:Lt.a;return a?ue.a.discuss.discussArticleRemovedFavorite(n):ue.a.discuss.discussArticleAddFavorite(n),t.client.mutate({mutation:o,variables:{uuid:n},refetchQueries:[Object(Ct.n)(R.a)]}).pipe(Object(A.a)("\u64cd\u4f5c\u5931\u8d25"),Object(Y.a)((function(){return c(),t.questionDetail.getActions().setQuestionFavorite(!a)})))})))},t.prototype.requestToDeleteQuestion=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Mt.a,variables:e}).pipe(Object(A.a)("\u53d1\u8d77\u5220\u9664\u8ba8\u8bba\u7533\u8bf7\u5931\u8d25"),Object(y.a)((function(){return ue.a.discuss.discussRequestToDeleteQuestion(e.uuid)})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.addQuestionReaction=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.articleId,a=e.reactionType;return t.client.mutate({mutation:Nt.a,variables:{articleId:n,reactionType:a}}).pipe(Object(y.a)((function(e){var t,a=e.data;(null===(t=null===a||void 0===a?void 0:a.columnsAddReaction)||void 0===t?void 0:t.ok)&&Ut.a.circleAddReactionClickClick(n)})),Object(h.b)((function(){return _.a})))})))},t.prototype.removeQuestionReaction=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:zt.a,variables:{articleId:e}}).pipe(Object(y.a)((function(t){var n,a=t.data;(null===(n=null===a||void 0===a?void 0:a.columnsRemoveReaction)||void 0===n?void 0:n.ok)&&Ut.a.circleRemoveReactionClickClick(e)})),Object(h.b)((function(){return _.a})))})))},t.prototype.toggleAnswerFavorite=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.answerId,a=e.favored,i=a?Bt.a:Qt.a,c=a?"\u6536\u85cf\u8ba8\u8bba\u5931\u8d25":"\u53d6\u6d88\u6536\u85cf\u8ba8\u8bba\u5931\u8d25";return t.client.mutate({mutation:i,variables:{answerId:n}}).pipe(Object(A.a)(c),Object(y.a)((function(){a?(Gt.b.success("\u5df2\u6536\u85cf\u8ba8\u8bba"),ue.a.discuss.discussAnswerAddFavorite(n)):(Gt.b.success("\u5df2\u53d6\u6d88\u6536\u85cf\u8ba8\u8bba"),ue.a.discuss.discussAnswerRemoveFavorite(n))})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.setQuestionMetaData=function(e){var t=this;return e.pipe(Object($.a)((function(e){var n=e.questionId,a=e.metaField,i=e.value,c=a===F.m.AlwaysShow?i?"\u59cb\u7ec8\u663e\u793a\u8ba8\u8bba\u5931\u8d25":"\u53d6\u6d88\u59cb\u7ec8\u663e\u793a\u8ba8\u8bba\u5931\u8d25":a===F.m.BlockComments?i?"\u5141\u8bb8\u8bc4\u8bba\u5931\u8d25":"\u7981\u6b62\u8bc4\u8bba\u5931\u8d25":i?"\u59cb\u7ec8\u5c55\u5f00\u8ba8\u8bba\u63cf\u8ff0\u5931\u8d25":"\u53d6\u6d88\u59cb\u7ec8\u5c55\u5f00\u8ba8\u8bba\u63cf\u8ff0\u5931\u8d25";return t.client.mutate({mutation:Wt.a,variables:{data:{questionId:n,metaField:a,value:i}}}).pipe(Object(A.a)(c),Object(y.a)((function(){a===F.m.AlwaysShow&&(i?Gt.b.success("\u5df2\u8bbe\u7f6e\u59cb\u7ec8\u5c55\u793a\u8ba8\u8bba\u63cf\u8ff0"):Gt.b.success("\u5df2\u53d6\u6d88\u59cb\u7ec8\u5c55\u793a\u8ba8\u8bba\u63cf\u8ff0")),a===F.m.BlockComments&&(i?Gt.b.success("\u5df2\u8bbe\u7f6e\u7981\u6b62\u8bc4\u8bba"):Gt.b.success("\u5df2\u53d6\u6d88\u7981\u6b62\u8bc4\u8bba"))})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},t.prototype.setQuestionAsGlobalRecommendation=function(e){var t=this;return e.pipe(Object($.a)((function(e){return t.client.mutate({mutation:Ht.a,variables:e}).pipe(Object(y.a)((function(){e.value?Gt.b.success("\u5df2\u8bbe\u4e3a\u9996\u9875\u63a8\u8350"):Gt.b.success("\u5df2\u53d6\u6d88\u9996\u9875\u63a8\u8350")})),Object(h.b)((function(){return Object(g.a)(t.getActions().setTimeSpan())})))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"disposeByToken$",void 0),Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"disposeSharedAnswer$",void 0),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof j.Draft&&j.Draft)?s:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setTimeSpan",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof d.a&&d.a)?u:Object]),Object(c.__metadata)("design:returntype","function"===typeof(l="undefined"!==typeof d.a&&d.a)?l:Object)],t.prototype,"togglePinQuestionGlobally",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof d.a&&d.a)?b:Object]),Object(c.__metadata)("design:returntype","function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object)],t.prototype,"togglePinQuestionInSubject",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof d.a&&d.a)?O:Object]),Object(c.__metadata)("design:returntype","function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object)],t.prototype,"deleteQuestion",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(m="undefined"!==typeof d.a&&d.a)?m:Object]),Object(c.__metadata)("design:returntype","function"===typeof(v="undefined"!==typeof d.a&&d.a)?v:Object)],t.prototype,"managementDeleteQuestion",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(x="undefined"!==typeof d.a&&d.a)?x:Object]),Object(c.__metadata)("design:returntype","function"===typeof(k="undefined"!==typeof d.a&&d.a)?k:Object)],t.prototype,"toggleOfficialQuestion",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof d.a&&d.a)?S:Object]),Object(c.__metadata)("design:returntype","function"===typeof(C="undefined"!==typeof d.a&&d.a)?C:Object)],t.prototype,"toggleQuestionRecommend",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof d.a&&d.a)?w:Object]),Object(c.__metadata)("design:returntype","function"===typeof(I="undefined"!==typeof d.a&&d.a)?I:Object)],t.prototype,"toggleSubscribeQuestion",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(D="undefined"!==typeof d.a&&d.a)?D:Object]),Object(c.__metadata)("design:returntype","function"===typeof(P="undefined"!==typeof d.a&&d.a)?P:Object)],t.prototype,"toggleFavoriteQuestion",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(q="undefined"!==typeof d.a&&d.a)?q:Object]),Object(c.__metadata)("design:returntype","function"===typeof(E="undefined"!==typeof d.a&&d.a)?E:Object)],t.prototype,"requestToDeleteQuestion",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(L="undefined"!==typeof d.a&&d.a)?L:Object]),Object(c.__metadata)("design:returntype","function"===typeof(M="undefined"!==typeof d.a&&d.a)?M:Object)],t.prototype,"addQuestionReaction",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof d.a&&d.a)?N:Object]),Object(c.__metadata)("design:returntype","function"===typeof(z="undefined"!==typeof d.a&&d.a)?z:Object)],t.prototype,"removeQuestionReaction",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(Q="undefined"!==typeof d.a&&d.a)?Q:Object]),Object(c.__metadata)("design:returntype","function"===typeof(W="undefined"!==typeof d.a&&d.a)?W:Object)],t.prototype,"toggleAnswerFavorite",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof d.a&&d.a)?H:Object]),Object(c.__metadata)("design:returntype","function"===typeof(U="undefined"!==typeof d.a&&d.a)?U:Object)],t.prototype,"setQuestionMetaData",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(G="undefined"!==typeof d.a&&d.a)?G:Object]),Object(c.__metadata)("design:returntype","function"===typeof(V="undefined"!==typeof d.a&&d.a)?V:Object)],t.prototype,"setQuestionAsGlobalRecommendation",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(K="undefined"!==typeof T.a&&T.a)?K:Object,"function"===typeof(X="undefined"!==typeof B&&B)?X:Object])],t)}(s.a)),Kt=n("uapR"),$t={detail:{},loading:!1},Yt=f()(w.a.main.PATH.discuss.solutionDetail),Xt=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=$t,n}var n,a,i,o;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return $t},t.prototype.fail=function(e){return e},t.prototype.setLoading=function(e){return Object(c.__assign)(Object(c.__assign)({},e),{loading:!0})},t.prototype.setDetail=function(e,t){if(!t)return Object(c.__assign)(Object(c.__assign)({},e),{loading:!1});var n=t.slug,a=t.title,i=t.thumbnail,o=t.content,r=t.reactionType,s=t.reactionsV2,d=t.hitCount,u=t.createdAt,l=t.updatedAt,b=t.isMyFavorite,p=t.identifier,j=t.resourceType,O=t.isEditorsPick,f=t.byLeetcode,g=t.status,_=t.summary,m=t.author,y=m.username,v=m.profile,h=v.userAvatar,x=v.userSlug,k=v.realName,S=t.tags,C=t.topic,w=t.articleType;return Object(c.__assign)(Object(c.__assign)({},e),{detail:Object(c.__assign)(Object(c.__assign)({},e.detail),{slug:n,topicId:C&&C.id,lastCommentCreatedAtInSec:C&&C.lastComment&&C.lastComment.post.creationDate,articleType:w,title:a,cover:i,content:o,reactionType:r,reactionsV2:s||[],viewCount:d,createdAt:u,updatedAt:l&&!Object(I.i)(u,l)?l:null,favored:b,identifier:p,resourceType:j,picked:O,official:f,status:g,summary:_,author:{name:k||y,slug:x,avatar:h},relatedTags:S.map((function(e){var t=e.name,n=e.slug;return{name:e.nameTranslated||t,slug:n}}))}),loading:!1})},t.prototype.getDetail=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return Object(D.a)(t.client,{entityId:e,entityType:F.bb.Article})})),Object(v.a)((function(e){return t.client.watchQuery({query:Kt.a,variables:{id:e}}).pipe(Object(A.a)("\u83b7\u53d6\u5b98\u65b9\u9898\u89e3\u8be6\u60c5\u5931\u8d25"),Object(h.a)((function(e){var n=e.data;return Object(g.a)(t.getActions().setDetail(n.solutionArticle),l.a)})),Object(C.a)(t.getActions().setLoading()))})),Object(x.a)(this.dispose$),Object(k.a)())},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"fail",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setDetail",null),Object(c.__decorate)([Object(b.a)({payloadGetter:function(e,t){var n=e.path.match(Yt);return n&&n[1]?n[1]:t()},skipFirstClientDispatch:!1}),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object]),Object(c.__metadata)("design:returntype","function"===typeof(i="undefined"!==typeof d.a&&d.a)?i:Object)],t.prototype,"getDetail",null),t=Object(c.__decorate)([Object(p.a)("SolutionDetailModule"),Object(c.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof T.a&&T.a)?o:Object])],t)}(s.a),Jt=n("Mk9Z"),Zt={list:[],totalNum:0,loading:!1,isEmpty:!1,page:1,filter:{orderBy:F.n.Hot,query:""}},en=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=Zt,n}var n,a,i,s,l,b,p,O,f,g,_,m,h,S;return Object(c.__extends)(t,e),t.prototype.resetStore=function(){return Zt},t.prototype.setLoading=function(e){e.loading=!0},t.prototype.resetIsEmpty=function(e){e.isEmpty=!1},t.prototype.setOrderBy=function(e,t){e.filter.orderBy=t},t.prototype.setQuery=function(e,t){e.filter.query=t},t.prototype.setPage=function(e,t){e.page=t},t.prototype.setList=function(e,t){var n=t.totalNum,a=t.list;return Object(c.__assign)(Object(c.__assign)({},e),{totalNum:n,list:Object(u.h)(a),loading:!1,isEmpty:!a.length})},t.prototype.clearList=function(e){e.list=[]},t.prototype.getSolutions=function(e,t){var n=this;return Object(ge.a)(e.pipe(Object(Ue.a)(),Object(Y.a)((function(e){return n.getActions().getList(e)}))),e.pipe(Object(Ge.a)("query"),Object(Ve.a)(1),Object(be.a)(500),Object(ye.a)(t),Object(Y.a)((function(e){var t=Object(c.__read)(e,2),a=t[0];return 1!==t[1].page?n.getActions().setPage(1):n.getActions().getList(a)}))),e.pipe(Object(Ge.a)("orderBy"),Object(Ve.a)(1),Object(ye.a)(t),Object(Y.a)((function(e){var t=Object(c.__read)(e,2),a=t[0];return 1!==t[1].page?n.getActions().setPage(1):n.getActions().getList(a)}))),e.pipe(Object(Ge.a)("page"),Object(Ve.a)(1),Object(Y.a)((function(e){return n.getActions().getList(e)})))).pipe(Object(x.a)(this.dispose$),Object(k.a)())},t.prototype.getList=function(e){var t=this;return e.pipe(Object(y.a)((function(e){var t=e.orderBy,n=e.query,a=e.page;return(0,e.updateQuery)({orderBy:t,query:n,page:a})})),Object(v.a)((function(e){var n=e.orderBy,a=e.query,i=e.page;return t.client.watchQuery({query:Jt.a,variables:{orderBy:n,query:a,skip:(i-1)*Ce.g,first:Ce.g}}).pipe(Object(A.a)("\u83b7\u53d6\u5b98\u65b9\u9898\u89e3\u5931\u8d25"),Object(Y.a)((function(e){var n=e.data.solutionArticlesByLeetcode,a=n.totalNum,i=n.edges.map((function(e){return Object(I.q)(e.node)}));return t.getActions().setList({totalNum:a||0,list:i})})),Object(C.a)(t.getActions().setLoading(),t.getActions().resetIsEmpty()),Object(x.a)(t.dispose$))})))},Object(c.__decorate)([Object(r.a)(),Object(c.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof j.Draft&&j.Draft)?a:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof j.Draft&&j.Draft)?i:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"resetIsEmpty",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof j.Draft&&j.Draft)?s:Object,"function"===typeof(l="undefined"!==typeof F.n&&F.n)?l:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setOrderBy",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof j.Draft&&j.Draft)?b:Object,String]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setQuery",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof j.Draft&&j.Draft)?p:Object,Number]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"setPage",null),Object(c.__decorate)([Object(r.d)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",[Object,Object]),Object(c.__metadata)("design:returntype",Object)],t.prototype,"setList",null),Object(c.__decorate)([Object(r.c)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof j.Draft&&j.Draft)?O:Object]),Object(c.__metadata)("design:returntype",void 0)],t.prototype,"clearList",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object,"function"===typeof(g="undefined"!==typeof d.a&&d.a)?g:Object]),Object(c.__metadata)("design:returntype","function"===typeof(_="undefined"!==typeof d.a&&d.a)?_:Object)],t.prototype,"getSolutions",null),Object(c.__decorate)([Object(r.b)(),Object(c.__metadata)("design:type",Function),Object(c.__metadata)("design:paramtypes",["function"===typeof(m="undefined"!==typeof d.a&&d.a)?m:Object]),Object(c.__metadata)("design:returntype","function"===typeof(h="undefined"!==typeof d.a&&d.a)?h:Object)],t.prototype,"getList",null),t=Object(c.__decorate)([Object(o.a)(),Object(c.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof T.a&&T.a)?S:Object])],t)}(s.a)},mNGd:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/share.17fad470.png"},mkiG:function(e,t,n){"use strict";var a=n("7TSo"),i=n.n(a);n.d(t,"a",(function(){return i.a}))},"n+B8":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("D57K"),i=n("5Nzd"),c=n("u3dr"),o=n("2wT7"),r=n("9EWH"),s=n("HnWI"),d=n("AouM"),u=n("Jg5f"),l=n("RtDN"),b=n("W/Ou"),p=n("B07F"),j=n("Yjv9"),O=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={isUpdating:!1,isShowDropdown:!1,subjects:[]},n}var n,o,O,f,g,_,m;return Object(a.__extends)(t,e),t.prototype.updateSubjects=function(e){var t=this;return e.pipe(Object(d.a)((function(){return t.client.query({query:j.a}).pipe(Object(u.a)((function(e){var n=e.data;return t.getActions()._setSubjects(n.subjectsAll)})),Object(l.a)(t.getActions()._setIsUpdating(!1)),Object(b.a)(t.getActions()._setIsUpdating(!0)))})))},t.prototype.showDropdown=function(e){e.isShowDropdown=!0},t.prototype.hideDropdown=function(e){e.isShowDropdown=!1},t.prototype._setIsUpdating=function(e,t){e.isUpdating=t},t.prototype._setSubjects=function(e,t){e.subjects=t},Object(a.__decorate)([Object(c.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof s.a&&s.a)?n:Object]),Object(a.__metadata)("design:returntype","function"===typeof(o="undefined"!==typeof s.a&&s.a)?o:Object)],t.prototype,"updateSubjects",null),Object(a.__decorate)([Object(c.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof r.Draft&&r.Draft)?O:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"showDropdown",null),Object(a.__decorate)([Object(c.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof r.Draft&&r.Draft)?f:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"hideDropdown",null),Object(a.__decorate)([Object(c.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof r.Draft&&r.Draft)?g:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setIsUpdating",null),Object(a.__decorate)([Object(c.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(_="undefined"!==typeof r.Draft&&r.Draft)?_:Object,Array]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setSubjects",null),t=Object(a.__decorate)([Object(i.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(m="undefined"!==typeof p.a&&p.a)?m:Object])],t)}(o.a)},nBw1:function(e,t,n){"use strict";n.d(t,"l",(function(){return v})),n.d(t,"r",(function(){return h})),n.d(t,"a",(function(){return x})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"v",(function(){return w})),n.d(t,"e",(function(){return A})),n.d(t,"t",(function(){return T})),n.d(t,"d",(function(){return I})),n.d(t,"h",(function(){return D})),n.d(t,"c",(function(){return F})),n.d(t,"u",(function(){return R})),n.d(t,"m",(function(){return P})),n.d(t,"b",(function(){return q})),n.d(t,"n",(function(){return E})),n.d(t,"p",(function(){return L})),n.d(t,"s",(function(){return M})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return z})),n.d(t,"o",(function(){return B})),n.d(t,"q",(function(){return Q})),n.d(t,"w",(function(){return W}));var a,i,c,o,r,s,d,u=n("D57K"),l=n("TMWK"),b=n("daAW"),p=n("fgAA"),j=n("pqRN"),O=n("GFTg"),f=n("Po8h"),g=n("WwGZ"),_=n("li8k"),m=n("hnHt"),y=Object(l.a)("div",{target:"e1nyx41y0"})(g.a.layer1,((a={display:"block",padding:"16px",boxShadow:"0 1px 2px "+p.b.FillSecondary()+", 0 2px 8px "+p.b.FillTertiary(),transition:"box-shadow 0.3s ease-in-out",marginBottom:"10px",borderRadius:"8px"})[p.c]={boxShadow:"0 1px 2px "+p.b.Paper(.3)+", 0 4px 4px "+p.b.Paper(.25)},a),(function(e){return e.isMobile?{marginBottom:"6px",borderRadius:0}:{}}),"label:RowWrapper;"),v=Object(l.a)(y,{target:"e1nyx41y1"})({display:"flex",justifyContent:"space-between",cursor:"pointer",":hover":(i={},i[f.c+'[data-hidden="true"]']={opacity:1},i)},"label:DiscussionRowWrapper;"),h=Object(l.a)(y,{target:"e1nyx41y2"})(((c={display:"flex",justifyContent:"space-between",":hover":(o={},o[f.c+'[data-hidden="true"]']={opacity:1},o)})[""+m.b]={cursor:"default"},c),"label:QuestionRowWrapper;"),x=Object(l.a)(y,{target:"e1nyx41y3"})({cursor:"pointer",":hover":(r={},r[f.c+'[data-hidden="true"]']={opacity:1},r)},"label:ArticleRowWrapper;"),k=Object(l.a)("div",{target:"e1nyx41y4"})({width:0,display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"space-between"},"label:DiscussionContentWrapper;"),S=Object(l.a)("div",{target:"e1nyx41y5"})({display:"flex",flexDirection:"column",flexGrow:1},"label:DiscussionContentInnerWrapper;"),C=Object(l.a)("div",{target:"e1nyx41y6"})({width:"200px",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"16px",flexShrink:0,picture:{height:"100%"}},(function(e){return e.isMobile?{width:"110px",height:"66px",marginRight:"0px",marginLeft:"18px"}:{}}),"label:DiscussionImageWrapper;"),w=Object(l.a)(b.a,{target:"e1nyx41y7"})(Object(u.__assign)({fontSize:"16px",lineHeight:"22px",fontWeight:500,color:p.a.grey(9)},j.l),"label:Title;"),A=(p.a.grey(6),Object(l.a)("div",{target:"e1nyx41y9"})({display:"flex",alignItems:"center",marginTop:"4px",color:p.b.LabelSecondary()},"label:Description;")),T=Object(l.a)(_.b,{target:"e1nyx41y10"})(((s={marginTop:"4px"})[""+m.b]={marginTop:"0px",marginBottom:"0px"},s),(function(e){return e.isMobile?{marginTop:"0px"}:{}}),"label:StyledTags;"),I=(Object(u.__assign)({display:"inline-block",height:"24px",lineHeight:"24px",cursor:"pointer",color:p.a.grey(6),":hover":{textDecoration:"underline",color:p.a.grey(8)}},j.l),p.a.grey(6),p.a.grey(8),Object(l.a)(O.a,{target:"e1nyx41y13"})({flexShrink:0,flexGrow:0,width:"120px",height:"70px",marginRight:"12px",objectFit:"contain",borderRadius:"6px"},"label:Cover;")),D=Object(l.a)(I,{target:"e1nyx41y14"})({marginRight:0,width:"100%",height:"120px",objectFit:"cover"},(function(e){return e.isMobile?{borderRadius:"8px"}:{}}),"label:DiscussionCover;"),F=Object(l.a)("div",{target:"e1nyx41y15"})({overflow:"hidden",display:"flex",alignItems:"center",marginTop:"8px"},(function(e){return e.isMobile?{marginTop:"4px"}:{}}),"label:ContentWrapper;"),R=Object(l.a)("div",{target:"e1nyx41y16"})({fontSize:"14px",lineHeight:"24px",color:p.a.grey(7),wordBreak:"break-word",alignSelf:"stretch"},"label:Summary;"),P=Object(l.a)(R,{target:"e1nyx41y17"})((function(e){return e.isMobile?{lineHeight:"20px"}:{}}),(function(e){var t=e.withImage;return Object(j.h)(t?1:2)}),"label:DiscussionSummary;"),q=Object(l.a)(R,{target:"e1nyx41y18"})(Object(j.h)(3),"label:ArticleSummary;"),E=Object(l.a)("div",{target:"e1nyx41y19"})({width:"4px",height:"4px",borderRadius:"100%",background:p.a.grey(3),margin:"0 6px"},"label:Dot;"),L=Object(l.a)("div",{target:"e1nyx41y20"})({display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"12px",marginLeft:"-9px",">div":{border:"none",marginTop:0,padding:0}},"label:OperationWrapper;"),M=Object(l.a)("div",{target:"e1nyx41y22"})({color:p.a.grey(6),fontFamily:"monospace",zIndex:1},"label:ScoreText;"),N=Object(l.a)("div",{target:"e1nyx41y23"})((function(e){return e.isMobile?{flex:"1 1 auto",display:"flex",marginTop:"12px"}:{}}),"label:DiscussionMobileCoverContainer;"),z=Object(l.a)("div",{target:"e1nyx41y24"})((function(e){return e.isMobile?{flex:"1 1 auto"}:{}}),"label:DiscussionMobileTagsContainer;"),B=Object(l.a)("div",{target:"e1nyx41y25"})({marginTop:"8px"},"label:LinksContainer;"),Q=Object(l.a)(b.a,{target:"e1nyx41y26"})({borderRadius:"21px",background:p.b.FillTertiary(),padding:"3.5px 12px",fontSize:"12px",lineHeight:"16px",display:"inline-flex",alignItems:"center",color:p.b.LabelSecondary(),marginRight:"8px",fontWeight:500,svg:{marginRight:"8px",fontSize:"20px"}},"label:ProblemLinkWrap;"),W=l.a.span(d||(d=Object(u.__makeTemplateObject)(["\n  width: 86px;\n  height: 20px;\n  background: rgba(255, 51, 75, 0.08);\n  border-radius: 9999px;\n  font-size: 12px;\n  color: #ff334b;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n\n  &::after {\n    content: '\u5ba1\u6838\u672a\u901a\u8fc7';\n    margin-left: 4px;\n  }\n"],["\n  width: 86px;\n  height: 20px;\n  background: rgba(255, 51, 75, 0.08);\n  border-radius: 9999px;\n  font-size: 12px;\n  color: #ff334b;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n\n  &::after {\n    content: '\u5ba1\u6838\u672a\u901a\u8fc7';\n    margin-left: 4px;\n  }\n"])))},qTyD:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return v}));var a,i,c,o,r=n("TMWK"),s=n("fgAA"),d=n("iXo+"),u=n("PbXi"),l=n("2yfB"),b=n("/NrN"),p=n("CkJS"),j=Object(r.a)("div",{target:"efnf8qd0"})({marginTop:"44px"},"label:Container;"),O=Object(r.a)("div",{target:"efnf8qd1"})(p.a.heading.h3,{lineHeight:"25px",fontWeight:500,display:"flex",alignItems:"center",color:s.b.LabelSecondary(),paddingBottom:"18px",borderBottom:"1px solid "+s.b.DividerSecondary(),svg:{marginRight:"8px"}},"label:TitleContainer;"),f=Object(r.a)(b.a,{target:"efnf8qd2"})({flex:"0 0 auto",borderRadius:"5px",marginLeft:"auto"},"label:AnswerButton;"),g=Object(r.a)("div",{target:"efnf8qd3"})({display:"flex",alignItems:"center",padding:"0px 8px",marginTop:"20px"},"label:SorterContainer;"),_=Object(r.a)("div",{target:"efnf8qd4"})(p.a.paragraph.sm,{color:s.b.LabelTertiary()},"label:TotalCount;"),m=Object(r.a)("div",{target:"efnf8qd5"})(((a={})[""+d.a]=((i={padding:"20px 8px 4px 8px",boxShadow:"none",borderRadius:"0px",borderBottom:"1px solid "+s.b.DividerSecondary()})[s.c]={boxShadow:"none",background:"none"},i[""+l.j]=((c={})[s.c]={background:s.a.grey(3)},c),i[""+u.b]=((o={})[s.c]={background:s.a.grey(3)},o),i[""+l.c]={borderTop:"none"},i),a),"label:AnswersContainer;"),y=Object(r.a)("div",{target:"efnf8qd6"})({height:"380px"},"label:DefaultContainer;"),v=Object(r.a)("div",{target:"efnf8qd7"})(l.k,{marginTop:"20px",".ant-pagination":{".ant-pagination-item":{fontSize:"14px",lineHeight:"32px",minWidth:"32px",height:"32px"},".ant-pagination-next, .ant-pagination-prev":{fontSize:"16px",lineHeight:"32px",minWidth:"32px",height:"32px"}}},"label:PaginationContainer;")},r2qc:function(e,t,n){"use strict";n.d(t,"p",(function(){return p})),n.d(t,"r",(function(){return f})),n.d(t,"v",(function(){return h})),n.d(t,"w",(function(){return w})),n.d(t,"b",(function(){return H})),n.d(t,"j",(function(){return de})),n.d(t,"k",(function(){return ve})),n.d(t,"n",(function(){return Ae})),n.d(t,"g",(function(){return Pe})),n.d(t,"l",(function(){return Le})),n.d(t,"d",(function(){return Qe})),n.d(t,"x",(function(){return ot})),n.d(t,"B",(function(){return Nt})),n.d(t,"m",(function(){return on})),n.d(t,"e",(function(){return pn})),n.d(t,"f",(function(){return Oa})),n.d(t,"t",(function(){return va})),n.d(t,"a",(function(){return Ha})),n.d(t,"c",(function(){return ei})),n.d(t,"u",(function(){return di})),n.d(t,"h",(function(){return bi})),n.d(t,"y",(function(){return fi})),n.d(t,"A",(function(){return _i.b})),n.d(t,"z",(function(){return _i.a})),n.d(t,"q",(function(){return xi})),n.d(t,"o",(function(){return Ai})),n.d(t,"s",(function(){return Ti})),n.d(t,"i",(function(){return Ii}));var a,i=n("D57K"),c=n("jg1C"),o=n("ERkP"),r=n.n(o),s=n("JFCy"),d=n("l1SX"),u=n("Pigy"),l=n("/NrN"),b=n("zS4/"),p=r.a.memo((function(e){var t=e.onClick,n=e.isCurrentListEmpty,a=e.isLoading,o=e.isFetchedResultEmpty,r=e.hasMore,p=e.children,j=e.description,O=n&&!o,f=!O&&a;return O?Object(c.jsx)(b.b,{children:Object(c.jsx)(d.a,{height:"100%"},void 0)},void 0):o?Object(c.jsx)(b.b,{children:Object(c.jsx)(u.a,{type:"img",size:s.c,description:j},void 0)},void 0):r?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.c,{children:p},void 0),Object(c.jsx)(b.d,{children:f?Object(c.jsx)(d.a,{height:"32px"},void 0):Object(c.jsx)(l.a,Object(i.__assign)({size:"sm",width:"300px",onClick:t},{children:"\u67e5\u770b\u66f4\u591a"}),void 0)},void 0)]},void 0):Object(c.jsx)(b.c,{children:p},void 0)})),j=n("Q0jv"),O=n("+75L"),f=r.a.memo((function(e){var t=e.onPageChange,n=e.page,a=e.isCurrentListEmpty,o=e.isLoading,r=e.isFetchedResultEmpty,l=e.description,p=e.totalNum,f=e.children,g=a&&!r,_=!g&&o;return g?Object(c.jsx)(b.b,{children:Object(c.jsx)(d.a,{height:"100%"},void 0)},void 0):r?Object(c.jsx)(b.b,{children:Object(c.jsx)(u.a,{type:"img",size:s.c,description:l},void 0)},void 0):p<=O.g?Object(c.jsx)(b.c,{children:f},void 0):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(b.a,{children:[Object(c.jsx)(b.e,Object(i.__assign)({isLoading:_},{children:_&&Object(c.jsx)(d.a,{height:"100%"},void 0)}),void 0),Object(c.jsx)(b.f,Object(i.__assign)({isLoading:_},{children:Object(c.jsx)(b.c,{children:f},void 0)}),void 0)]},void 0),Object(c.jsx)(b.d,{children:Object(c.jsx)(j.a,{current:n,totalNum:p,numPerPage:O.g,maxDisplayedPageBtnNum:O.c,onChange:t},void 0)},void 0)]},void 0)})),g=n("ildc"),_=n("5ZzG"),m=n("TMWK"),y=n("fgAA"),v=Object(m.a)("div",{target:"eij5r7w0"})({width:"300px",position:"relative",color:y.a.grey(4),svg:{fontSize:"14px",position:"absolute",right:0,top:"6px",cursor:"pointer",":hover":{color:y.a.grey(8)}},input:{width:"100%",height:"26px",paddingRight:"24px",background:"transparent",fontSize:"12px",lineHeight:"26px",border:"none",outline:"none",borderBottom:"1px solid "+y.a.grey(3),"::placeholder":{color:y.a.grey(4)},":focus":{color:y.a.grey(8),borderColor:y.a.grey(8),"~ svg":{color:y.a.grey(8)}}}},"label:Wrapper;"),h=r.a.memo((function(e){var t=e.value,n=e.onSearch,a=e.disabled,r=void 0!==a&&a,s=e.placeholder,d=void 0===s?"\u8f93\u5165\u5173\u952e\u8bcd\u8fdb\u884c\u641c\u7d22":s,u=e.className,l=Object(o.useCallback)((function(e){var t=e.target.value;n(t)}),[n]),b=Object(o.useCallback)((function(){n(t)}),[t,n]);return Object(g.q)()?null:Object(c.jsxs)(v,Object(i.__assign)({className:u},{children:[Object(c.jsx)("input",{value:t,onChange:l,placeholder:d,disabled:r},void 0),Object(c.jsx)(_.a,{type:"search",onClick:b},void 0)]}),void 0)})),x=n("rF4R"),k=n("P4jA"),S=n("lVbi"),C=Object(m.a)(l.a,{target:"e1vyjzas0"})({color:y.b.BaseGrey6()},"label:StyledButton;"),w=function(e){var t=e.activeSortingOption,n=e.sortingOptions,a=e.onOptionSelect,o=e.disabled,s=e.className,d=Object(i.__read)(r.a.useState(!1),2),u=d[0],l=d[1],b=r.a.useCallback((function(e){l(!1),a(e)}),[a,l]);return Object(g.q)()?null:Object(c.jsx)(x.a,Object(i.__assign)({isActive:u&&!o,onChangeActive:l,content:Object(c.jsx)(k.a,Object(i.__assign)({onSelect:b,selectedKey:t},{children:n.map((function(e){var t=e.name,n=e.key;return Object(c.jsx)(k.a.Item,{children:t},n)}))}),void 0)},{children:Object(c.jsx)(C,Object(i.__assign)({kind:"transparent",size:"xs",suffixIcon:Object(c.jsx)(S.a,{},void 0),disabled:o,className:s},{children:n.find((function(e){return e.key===t})).name}),void 0)}),void 0)},A=n("XKjd"),T=n("60w7"),I=n("hMUt"),D=n("+Aeu"),F=n("Q/bO"),R=n("Po8h"),P=n("QR8y"),q=n("sqX5"),E=n("lDZ0"),L=n("YkLR"),M=n("p9o4"),N=n("9mAl"),z=n("oYRR"),B=n("0FzZ"),Q=n("gQka"),W=n("yxrP"),H=r.a.memo((function(e){var t=e.reactionV2,n=e.comment,a=e.favor,r=e.share,s=e.subscribe,d=e.extraButton,u=e.loose,l=void 0!==u&&u,b=e.tailHidden,p=void 0!==b&&b,j=e.viewCount,O=e.onClickComment,f=e.hiddenSticky,_=e.wrapperIsLayerBg,m=Object(o.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),v=!Object(g.q)()&&p,h=Object(o.useRef)(null),x=Object(i.__read)(Object(o.useState)(!1),2),k=x[0],S=x[1];return Object(o.useEffect)((function(){var e=new IntersectionObserver((function(e){var t=Object(i.__read)(e,1)[0];S(t.intersectionRatio<1)}),{threshold:1,rootMargin:"0px 0px -1px 0px"});if(h.current&&!f)return e.observe(h.current),function(){e.disconnect()}}),[]),Object(c.jsxs)(R.f,Object(i.__assign)({className:Object(A.a)({background:_?y.b.lc_text_inverse():y.b.Layer1()}),onClick:m,loose:l,sticky:k,ref:h},{children:[Object(c.jsx)("div",Object(i.__assign)({style:{marginLeft:"5px"}},{children:Object(c.jsx)(Q.a,Object(i.__assign)({isDiscuss:!0},t),void 0)}),void 0),Object(c.jsx)(R.h,{},void 0),j&&n&&Object(c.jsx)(R.d,Object(i.__assign)({kind:"transparent",prefixIcon:Object(c.jsx)(q.a,{},void 0),onClick:n.onClick},{children:Object(T.c)(j)}),void 0),n&&Object(c.jsx)(R.d,Object(i.__assign)({kind:"transparent",prefixIcon:Object(c.jsx)(E.a,{},void 0),onClick:n.onClick},{children:n.commentCount}),void 0),Object(c.jsx)(R.e,Object(i.__assign)({isFavored:a.favored,kind:"transparent",prefixIcon:a.favored?Object(c.jsx)(L.a,{},void 0):Object(c.jsx)(M.a,{},void 0),onClick:a.toggleFavorite},{children:Object(D.k)(a.favored?"\u5df2\u6536\u85cf":"\u6536\u85cf")}),void 0),s&&!k&&Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":v&&!s.subscribed},{children:Object(c.jsx)(R.d,Object(i.__assign)({kind:"transparent",prefixIcon:s.subscribed?Object(c.jsx)(N.a,{},void 0):Object(c.jsx)(z.a,{},void 0),onClick:s.toggleSubscribed},{children:Object(D.k)(s.subscribed?"\u5173\u95ed\u63d0\u9192":"\u63a5\u6536\u52a8\u6001")}),void 0)}),void 0),Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":v},{children:Object(c.jsx)(P.a,{link:r.link,onClick:r.onClick},void 0)}),void 0),d&&Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":v},{children:Object(c.jsx)(F.a,Object(i.__assign)({},d),void 0)}),void 0),k&&Object(c.jsxs)(R.b,{children:[Object(c.jsx)(W.d,Object(i.__assign)({kind:"primary",prefixIcon:Object(c.jsx)(B.a,{},void 0),onClick:O},{children:"\u8bc4\u8bba"}),void 0),s&&Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":v&&!s.subscribed},{children:Object(c.jsx)(I.a,Object(i.__assign)({size:"md",prefixIcon:s.subscribed?Object(c.jsx)(N.a,{},void 0):Object(c.jsx)(z.a,{},void 0),onClick:s.toggleSubscribed},{children:Object(D.k)(s.subscribed?"\u5173\u95ed\u63d0\u9192":"\u63a5\u6536\u52a8\u6001")}),void 0)}),void 0)]},void 0)]}),void 0)})),U=n("8gna"),G=n("RwRN"),V=n("Bj0B"),K=r.a.memo((function(e){var t=e.reactionV2,n=e.comment,a=e.viewCount,r=e.viewLink,s=e.favoriteCount,d=e.share,u=e.favor,l=e.extraButton,b=e.tailHidden,p=void 0!==b&&b,j=Object(o.useCallback)((function(){n.onClick()}),[n]),O=!Object(g.q)()&&p;return Object(c.jsxs)(R.f,{children:[Object(c.jsx)(R.g,{children:Object(c.jsx)(Q.a,Object(i.__assign)({},t),void 0)},void 0),Object(c.jsxs)(W.c,Object(i.__assign)({to:r},{children:[Object(c.jsx)(q.a,{size:18},void 0),Object(T.c)(a)]}),void 0),Object(c.jsx)(W.a,Object(i.__assign)({kind:"transparent",size:"sm",prefixIcon:Object(c.jsx)(E.a,{},void 0),onClick:j},{children:Object(T.c)(n.commentCount)}),void 0),Object(c.jsx)(W.a,Object(i.__assign)({kind:"transparent",size:"sm",prefixIcon:u.favored?Object(c.jsx)(G.a,{},void 0):Object(c.jsx)(V.a,{},void 0),onClick:Object(U.a)(u.toggleFavorite)},{children:Object(T.c)(s)}),void 0),Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":O},{children:Object(c.jsx)(P.a,{style:{margin:"0px 10px"},link:d.link,onClick:Object(U.a)(d.onClick)},void 0)}),void 0),l&&Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":O},{children:Object(c.jsx)(F.a,Object(i.__assign)({},l),void 0)}),void 0)]},void 0)})),$=n("xqpu"),Y=n("u8N8"),X=n("UqMZ"),J=function(e){var t=e.reactionV2,n=e.answer,a=e.viewCount,r=e.viewLink,s=e.favoriteCount,d=e.share,u=e.subscription,l=e.favorite,b=e.onReply,p=e.extraButton,j=e.tailHidden,O=void 0!==j&&j,f=Object(o.useCallback)((function(){b()}),[b]),m=Object(o.useContext)($.d),v=!Object(g.q)()&&O;return Object(c.jsxs)(R.f,Object(i.__assign)({onClick:Y.c},{children:[Object(c.jsx)(R.g,{children:Object(c.jsx)(Q.a,Object(i.__assign)({isDiscuss:!0},t),void 0)},void 0),Object(c.jsx)(R.h,{},void 0),Object(c.jsxs)(W.c,Object(i.__assign)({to:r},{children:[Object(c.jsx)(q.a,{size:18},void 0),Object(T.c)(a)]}),void 0),Object(c.jsx)(W.a,Object(i.__assign)({kind:"transparent",size:"sm",prefixIcon:Object(c.jsx)(E.a,{},void 0),onClick:f},{children:Object(T.c)(n.count)}),void 0),Object(c.jsx)(W.b,Object(i.__assign)({kind:"transparent",size:"sm",prefixIcon:l.isFavorited?Object(c.jsx)(L.a,{color:y.b.BrandOrange()},void 0):Object(c.jsx)(M.a,{},void 0),isFavorited:l.isFavorited,onClick:Object(U.a)(l.toggleFavorited)},{children:Object(T.c)(s)}),void 0),Object(c.jsxs)(W.a,Object(i.__assign)({kind:"transparent",prefixIcon:Object(c.jsx)(_.a,{type:"group"},void 0),style:{display:"none"}},{children:[Object(T.c)(u.count)," ",Object(D.k)("\u4eba\u5173\u6ce8")]}),void 0),Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":v&&!u.subscribed,style:{display:"none"}},{children:Object(c.jsx)(W.a,Object(i.__assign)({kind:"transparent",prefixIcon:u.subscribed?Object(c.jsx)(N.a,{},void 0):Object(c.jsx)(z.a,{},void 0),onClick:X.a.ensureSignedIn(u.toggleSubscribed,{user:m})},{children:Object(D.k)(u.subscribed?"\u5173\u95ed\u63d0\u9192":"\u63a5\u6536\u52a8\u6001")}),void 0)}),void 0),Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":v},{children:Object(c.jsx)(P.a,{style:{margin:"0px 10px"},link:d.link,onClick:Object(U.a)(d.onClick)},void 0)}),void 0),p&&Object(c.jsx)(R.c,Object(i.__assign)({"data-hidden":v},{children:Object(c.jsx)(F.a,Object(i.__assign)({},p),void 0)}),void 0)]}),void 0)},Z=n("YnR9"),ee=n("1QlS"),te=n("uhKY"),ne=n("OJn1"),ae=n("CZCR"),ie=n("eV7j"),ce=n("cPtI"),oe=n("VxrX"),re=n("6H+M"),se=Z.a.main.paths,de=r.a.memo((function(e){var t=e.title,n=e.author,a=n.avatar,r=n.name,s=n.slug,d=e.createdAt,u=e.updatedAt,l=e.viewNum,b=e.ipRegion,p=Object(o.useContext)($.d),j=Object(i.__read)(Object(ee.a)(!1),3),O=j[0],f=j[1],g=j[2],_=Object(T.c)(l),m=p.userSlug===s;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(re.i,{children:[Object(c.jsx)("a",Object(i.__assign)({href:se.publicProfile.home({userSlug:s}),onClick:oe.a.discuss.discussClickAvatarOrName},{children:a?Object(c.jsx)(re.a,{className:"no-preview",src:Object(te.b)(a,32)},void 0):Object(c.jsx)(re.g,{},void 0)}),void 0),Object(c.jsx)(re.h,{children:t},void 0),Object(c.jsx)(re.b,{children:!m&&Object(c.jsx)(ie.a,{userSlug:s},void 0)},void 0)]},void 0),Object(c.jsx)(re.c,{children:Object(c.jsxs)(re.f,{children:[Object(c.jsx)("a",Object(i.__assign)({href:se.publicProfile.home({userSlug:s}),onClick:oe.a.discuss.discussClickAvatarOrName},{children:Object(c.jsx)(ce.a,{userSlug:s,realName:r,defaultColor:y.a.grey(6)},void 0)}),void 0),Object(c.jsxs)(re.e,{children:[_," \u9605\u8bfb"]},void 0),Object(c.jsx)(re.d,{},void 0),Object(c.jsx)(re.e,Object(i.__assign)({onMouseEnter:f,onMouseLeave:g},{children:O&&u?"\u7f16\u8f91\u4e8e "+Object(ne.a)(u):"\u53d1\u5e03\u4e8e "+Object(ne.a)(d)}),void 0),Object(c.jsx)(re.d,{},void 0),b&&Object(c.jsx)(re.e,{children:Object(ae.b)(b)},void 0)]},void 0)},void 0)]},void 0)})),ue=n("daAW"),le=n("8VRj"),be=(n("jz31"),n("pqRN")),pe=n("txck"),je=le.a.Item,Oe=Object(m.a)("div",{target:"ejzhnco0"})({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 15px",height:"36px",borderBottom:"1px solid "+y.a.grey(3)},"label:Header;"),fe=Object(m.a)(le.a)(a||(a=Object(i.__makeTemplateObject)(["\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  span {\n    display: inline-block;\n  }\n\n  > span {\n    display: flex;\n    align-items: center;\n  }\n\n  &.ant-breadcrumb {\n    a {\n      ","\n\n      &:hover {\n        ","\n      }\n    }\n\n    .ant-breadcrumb-separator {\n      ","\n    }\n  }\n"],["\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  span {\n    display: inline-block;\n  }\n\n  > span {\n    display: flex;\n    align-items: center;\n  }\n\n  &.ant-breadcrumb {\n    a {\n      ","\n\n      &:hover {\n        ","\n      }\n    }\n\n    .ant-breadcrumb-separator {\n      ","\n    }\n  }\n"])),pe.a.secondary,pe.a.primary,pe.a.disable),ge=Object(m.a)(je,{target:"ejzhnco1"})(Object(i.__assign)({maxWidth:"100px"},be.l),"label:StyledItem;"),_e=Object(m.a)(je,{target:"ejzhnco2"})(pe.a.primary,Object(i.__assign)({maxWidth:"200px"},be.l),"label:TitleItem;"),me=Z.a.main.paths,ye={article:{title:"\u6587\u7ae0",link:me.discuss.home({subjectSlug:O.l})},discuss:{title:"\u8ba8\u8bba",link:me.discuss.home({})}},ve=r.a.memo((function(e){var t=e.type,n=e.currentSubject,a=e.detailTitle,o=e.className,r=ye[t].title,s=ye[t].link,d=n?me.discuss.home({subjectSlug:n.slug}):"";return Object(c.jsx)(Oe,Object(i.__assign)({className:o},{children:Object(c.jsxs)(fe,{children:[Object(c.jsx)(ge,{children:Object(c.jsx)(ue.a,Object(i.__assign)({to:s},{children:r}),void 0)},void 0),n&&"discuss"===t&&Object(c.jsx)(ge,{children:Object(c.jsx)(ue.a,Object(i.__assign)({to:d},{children:n.title}),void 0)},void 0),Object(c.jsx)(_e,{children:a},void 0)]},void 0)}),void 0)})),he=n("F2zA"),xe=Object(m.a)("div",{target:"e1ksiq320"})(he.c,{width:"100%",height:"40px",display:"flex",alignItems:"center",marginBottom:"10px"},"label:Wrapper;"),ke=Object(m.a)("div",{target:"e1ksiq321"})({height:"100%",display:"flex",alignItems:"center",fontSize:"14px"},"label:TitleWrapper;"),Se=Object(m.a)("div",{target:"e1ksiq322"})({margin:"0 22px",color:y.a.grey(6),display:"flex",alignItems:"center",justifyContent:"center",":hover":{color:y.a.grey(8)},svg:{fontSize:"16px"}},"label:BackWrapper;"),Ce=Object(m.a)("div",{target:"e1ksiq323"})((function(e){var t=e.isActive;return{display:"flex",alignItems:"center",height:"100%",margin:"0 22px",fontWeight:void 0===t||t?500:400,color:void 0===t||t?y.a.grey(9):y.a.grey(5),borderBottom:void 0!==t&&t?"1px solid "+y.a.grey(9):"1px solid transparent",cursor:"pointer",position:"relative","&::before":{content:'""',height:"40%",width:"1px",background:y.a.grey(2),position:"absolute",left:"-22px",top:"50%",transform:"translateY(-50%)"}}}),"label:Title;"),we=Z.a.main.paths,Ae=r.a.memo((function(e){var t=e.activeTab,n=e.onTabClick,a=e.tabs,r=Object(o.useCallback)((function(e){var t=e.currentTarget.dataset.key;"function"===typeof n&&n(t)}),[]),s=Object(o.useMemo)((function(){return"string"===typeof a?Object(c.jsx)(Ce,{children:a},void 0):Object(c.jsx)(c.Fragment,{children:a.map((function(e){var n=e.title,a=e.key;return Object(c.jsx)(Ce,Object(i.__assign)({"data-key":a,onClick:r,isActive:t===a},{children:n}),a)}))},void 0)}),[t,a]);return Object(c.jsx)(xe,{children:Object(c.jsxs)(ke,{children:[Object(c.jsx)(ue.a,Object(i.__assign)({to:we.discuss.home({subjectSlug:O.l})},{children:Object(c.jsxs)(Se,{children:[Object(c.jsx)(_.a,{type:"angle-left"},void 0),Object(c.jsx)("span",{children:"\u8fd4\u56de"},void 0)]},void 0)}),void 0),s]},void 0)},void 0)})),Te=Object(m.a)("div",{target:"e40ooq40"})({background:y.a.grey(0),padding:"15px",fontSize:"12px",":hover":{background:y.a.grey(0)}},"label:Wrapper;"),Ie=Object(m.a)("div",{target:"e40ooq41"})({display:"flex",alignItems:"center",justifyContent:"space-between"},"label:TitleWrapper;"),De=Object(m.a)("div",{target:"e40ooq42"})(Object(i.__assign)({maxWidth:"780px",fontSize:"14px",fontWeight:500,lineHeight:"22px",color:y.a.grey(9)},be.l),"label:Title;"),Fe=Object(m.a)("div",{target:"e40ooq43"})({flexShrink:0,color:y.a.grey(5),marginLeft:"5px"},"label:CreationDate;"),Re=Object(m.a)("div",{target:"e40ooq44"})({display:"flex",alignItems:"center",marginTop:"10px","> div":{color:y.a.grey(8),display:"flex",alignItems:"center",svg:{marginRight:"5px"}},"> div:first-of-type":{marginRight:"40px"}},"label:InfoWrapper;"),Pe=r.a.memo((function(e){var t=e.comment,n=t.content,a=t.voteUpCount,r=t.creationDate,s=t.replyNum,d=t.link,u=Object(ne.a)(1e3*r),l=Object(T.c)(a),b=Object(T.c)(s),p=Object(o.useCallback)((function(){oe.a.discuss.discussClickCommentLink()}),[]);return Object(c.jsxs)(Te,{children:[Object(c.jsxs)(Ie,{children:[Object(c.jsx)(De,{children:n},void 0),Object(c.jsx)(Fe,{children:u},void 0)]},void 0),Object(c.jsxs)(Re,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{type:"thumb-up"},void 0),Object(c.jsx)("span",{children:l},void 0)]},void 0),Object(c.jsxs)("div",{children:[Object(c.jsx)(_.a,{type:"chat-o"},void 0),Object(c.jsx)(ue.a,Object(i.__assign)({to:d,onClick:p},{children:Object(c.jsx)("span",{children:s?"\u67e5\u770b "+b+" \u6761\u56de\u590d":"\u524d\u5f80\u67e5\u770b"},void 0)}),void 0)]},void 0)]},void 0)]},void 0)})),qe=n("Y+c1"),Ee=function(e){var t=window.location.href,n=t.match(/\/comments\/(\d+)/);return n&&n[1]?t.replace(/\/comments\/\d+/,"/comments/"+e):t+"comments/"+e},Le=r.a.memo((function(e){var t=e.id,n=e.generateShareUrl,a=void 0===n?Ee:n,r=e.sharedCommentId,s=e.tracker,d=Object(i.__rest)(e,["id","generateShareUrl","sharedCommentId","tracker"]),u=Object(o.useContext)($.d);return Object(c.jsx)(qe.a,Object(i.__assign)({topicId:t,isActive:!0,sharedCommentId:r,generateShareUrl:a,tracker:s,userStatus:u},d),void 0)})),Me=n("AbD5"),Ne=Object(m.a)("div",{target:"ez1llym0"})({marginTop:"20px"},"label:Wrapper;"),ze=Object(m.a)("span",{target:"ez1llym1"})({fontSize:"12px",lineHeight:"24px",color:y.a.grey(4),marginRight:"15px"},"label:Title;"),Be=Object(m.a)(Me.a,{target:"ez1llym2"})({marginTop:"10px","&:not(:last-of-type)":{marginRight:"10px"}}),Qe=r.a.memo((function(e){var t=e.tags,n=e.onTagClick;return t.length?Object(c.jsxs)(Ne,{children:[Object(c.jsx)(ze,{children:"\u76f8\u5173\u6807\u7b7e"},void 0),t.map((function(e){var t=e.name,a=e.slug,i=e.kind,o=e.tagType,r=e.clickable,s=void 0===r||r;return Object(c.jsx)(Be,{meta:{slug:a,tagType:o},size:"xs",kind:i,onClick:s?n:void 0,content:t},a)}))]},void 0):null})),We=n("K/af"),He=n("s/S0"),Ue=n("uZih"),Ge=n.n(Ue),Ve=n("FbPB"),Ke=n("XoRX"),$e=n("N9oN"),Ye=n("n+B8"),Xe=n("rJKo"),Je=n("T/5y"),Ze=n("dxiE"),et=Object(m.a)("div",{target:"e1vhqbai0"})(Je.a.layer1,{pointerEvents:"auto",position:"absolute",bottom:"-5px",left:"50%",transform:"translate(-50%, 100%)",width:"150px",border:"1px solid "+y.a.grey(2),borderRadius:"3px",boxShadow:"0 1px 8px 0 "+Object(Xe.b)(y.a.grey(9)).setAlpha(.06)},"label:DropdownContainer;"),tt=Object(m.a)("div",{target:"e1vhqbai1"})({margin:"10px"},"label:DropdownInputContainer;"),nt=Object(m.a)("div",{target:"e1vhqbai2"})({maxHeight:"192px",overflow:"auto"},"label:DropdownListContainer;"),at=Object(m.a)("div",{target:"e1vhqbai3"})(Object(i.__assign)(Object(i.__assign)({},be.f),{lineHeight:"32px",fontSize:"12px",padding:"0 10px",cursor:"pointer"}),(function(e){var t=e.isHighlighted,n=e.isChecked;return t||n?Object(Ze.a)({opacity:1}):null}),"label:DropdownListItem;"),it=Object(m.a)("div",{target:"e1vhqbai4"})((function(e){var t=e.disabled;return{height:"32px",borderRadius:"16px",backgroundColor:y.b.FillTertiary(),display:"flex",padding:"0 10px",alignItems:"center",justifyContent:"center",cursor:t?"not-allowed":"pointer",fontSize:"12px",color:y.b.LabelSecondary(),svg:{marginLeft:"4px"}}}),"label:SelectorWrap;"),ct=Object(m.a)("div",{target:"e1vhqbai5"})({width:"14px",height:"14px",borderRadius:"7px",marginRight:"8px",fontSize:"12px",lineHeight:"14px",textAlign:"center",color:y.b.fixed.Paper(),backgroundColor:y.b.BlueStandard()},"label:SelectorSubjectIcon;"),ot=function(e){var t=e.selectedSubject,n=e.onSelectSubject,a=e.disabled,r=Object(i.__read)(Object(We.a)(Ye.a),2),s=r[0],d=r[1];Object(o.useEffect)((function(){d.updateSubjects()}),[]);var u=Object(o.useCallback)((function(){return Object(c.jsx)(rt,{selectedSubject:t,onSelectSubject:n},void 0)}),[t,n]);return Object(c.jsx)(Ve.a,Object(i.__assign)({isShow:s.isShowDropdown,renderAroundChild:u,onOuterClick:d.hideDropdown},{children:Object(c.jsxs)(it,Object(i.__assign)({onClick:a?void 0:d.showDropdown,disabled:a},{children:[Object(c.jsx)(ct,{children:"#"},void 0),t?"\u6240\u5c5e\u8bdd\u9898\uff1a"+t.title:"\u9009\u62e9\u8bdd\u9898",Object(c.jsx)(Ke.a,{size:12},void 0)]}),void 0)}),void 0)};function rt(e){var t=Object(i.__read)(Object(We.a)(Ye.a),2),n=t[0].subjects,a=t[1],r=function(t){return e.selectedSubject&&e.selectedSubject.slug===t.slug},s=Object(o.useCallback)((function(t){a.hideDropdown(),e.onSelectSubject(t)}),[a,e]);return Object(c.jsx)(He.a,Object(i.__assign)({stateReducer:st,onChange:s,itemToString:dt},{children:function(e){return Object(c.jsxs)(et,Object(i.__assign)({},e.getRootProps(),{children:[Object(c.jsx)(tt,{children:Object(c.jsx)($e.a,Object(i.__assign)({autoFocus:!0,size:"sm",placeholder:"\u5173\u952e\u8bcd\u641c\u7d22"},e.getInputProps()),void 0)},void 0),Object(c.jsx)(nt,Object(i.__assign)({},e.getMenuProps(),{children:n.filter((function(t){return t.title.includes(e.inputValue||"")})).map((function(t,n){return Object(c.jsx)(at,Object(i.__assign)({isChecked:r(t),isHighlighted:n===e.highlightedIndex},e.getItemProps({item:t,index:n}),{children:t.title}),t.slug)}))}),void 0)]}),void 0)}}),void 0)}function st(e,t){switch(t.type){case He.a.stateChangeTypes.keyDownEnter:case He.a.stateChangeTypes.clickItem:return Ge()(t,"inputValue");default:return t}}function dt(e){return e?e.title:""}var ut=n("Bcqe"),lt=n.n(ut),bt=n("OHNc"),pt=n("t+Td"),jt=n("5Nzd"),Ot=n("u3dr"),ft=n("2wT7"),gt=n("9EWH"),_t=n("d9YI"),mt=n("pN2L"),yt=n("gQst"),vt=n("HnWI"),ht=n("AouM"),xt=n("IMYO"),kt=n("Jg5f"),St=n("W/Ou"),Ct=n("RtDN"),wt=n("R+ki"),At=n("gd5h"),Tt=n("B07F"),It=n("eJqw"),Dt=n("gH+X"),Ft=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={isRefreshing:!1,isCreating:!1,isShowDownshift:!1,inputValue:"",searchQuery:"",tags:[]},n}var n,a,c,o,r,s,d,u,l,b,p,j,O;return Object(i.__extends)(t,e),t.prototype.createTag=function(e){var t=this;return e.pipe(Object(ht.a)((function(e){var n=e.tagName,a=e.callBack;return t.client.mutate({mutation:It.a,variables:{tagName:n}}).pipe(Object(xt.a)((function(){return _t.a})),Object(kt.a)((function(e){var n=e.data;return t.getActions()._filterCreateTagResult({response:n,callBack:a})})),Object(St.a)(t.getActions()._setIsCreating(!0)),Object(Ct.a)(t.getActions()._setIsCreating(!1)))})))},t.prototype.searchTags=function(e){var t=this,n=e.pipe(Object(wt.a)(500),Object(ht.a)((function(e){return t.client.query({query:Dt.a,variables:{in:{tagGroupSlugs:["language","knowledge","company","topic"],tagCategorySlugs:[],keyWords:e,offset:0,limit:99}},context:{uri:At.j}}).pipe(Object(kt.a)((function(e){var n=e.data;return t.getActions()._setTags(n.searchTags.nodes)})),Object(St.a)(t.getActions()._setIsRefreshing(!0)),Object(Ct.a)(t.getActions()._setIsRefreshing(!1)),Object(Ct.a)(t.getActions()._setSearchQuery(e)),Object(xt.a)((function(){return Object(mt.a)(t.getActions()._setIsRefreshing(!1))})))}))),a=e.pipe(Object(kt.a)((function(e){return t.getActions()._setInputValue(e)})));return Object(yt.a)(n,a)},t.prototype.showDownshift=function(e){e.isShowDownshift=!0},t.prototype.hideDownshift=function(e){e.isCreating||(e.isShowDownshift=!1)},t.prototype._setInputValue=function(e,t){e.inputValue=t},t.prototype._setSearchQuery=function(e,t){e.searchQuery=t},t.prototype._setTags=function(e,t){e.tags=t},t.prototype._setIsRefreshing=function(e,t){e.isRefreshing=t},t.prototype._setIsCreating=function(e,t){e.isCreating=t},t.prototype._filterCreateTagResult=function(e,t){var n,a;if(t.callBack&&(null===(a=null===(n=null===t||void 0===t?void 0:t.response)||void 0===n?void 0:n.addCommonTag)||void 0===a?void 0:a.tag)){var i={id:"",name:t.response.addCommonTag.tag.name,nameTranslated:t.response.addCommonTag.tag.nameTranslated,slug:t.response.addCommonTag.tag.slug};t.callBack(i)}},Object(i.__decorate)([Object(Ot.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof vt.a&&vt.a)?n:Object]),Object(i.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof vt.a&&vt.a)?a:Object)],t.prototype,"createTag",null),Object(i.__decorate)([Object(Ot.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof vt.a&&vt.a)?c:Object]),Object(i.__metadata)("design:returntype","function"===typeof(o="undefined"!==typeof vt.a&&vt.a)?o:Object)],t.prototype,"searchTags",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof gt.Draft&&gt.Draft)?r:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"showDownshift",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof gt.Draft&&gt.Draft)?s:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"hideDownshift",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof gt.Draft&&gt.Draft)?d:Object,String]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setInputValue",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof gt.Draft&&gt.Draft)?u:Object,String]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setSearchQuery",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof gt.Draft&&gt.Draft)?l:Object,Array]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setTags",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof gt.Draft&&gt.Draft)?b:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setIsRefreshing",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof gt.Draft&&gt.Draft)?p:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setIsCreating",null),Object(i.__decorate)([Object(Ot.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(j="undefined"!==typeof gt.Draft&&gt.Draft)?j:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_filterCreateTagResult",null),t=Object(i.__decorate)([Object(jt.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof Tt.a&&Tt.a)?O:Object])],t)}(ft.a),Rt=Object(m.a)("div",{target:"emwqhd50"})(Je.a.layer1,{position:"absolute",left:"0px",bottom:"-5px",transform:"translateY(100%)",width:"180px",pointerEvents:"auto",boxShadow:"4px 0px 16px rgba(0, 0, 0, 0.04), 8px 0px 32px rgba(0, 0, 0, 0.04), 12px 0px 48px rgba(0, 0, 0, 0.04)",borderRadius:"8px",zIndex:"100"},(function(e){var t=e.disabled;return{cursor:t?"wait":"auto","> *":{pointerEvents:t?"none":"auto"}}}),"label:DownshiftContainer;"),Pt=Object(m.a)("div",{target:"emwqhd54"})({maxHeight:"264px",minHeight:"40px",overflow:"auto",border:"1px solid "+y.a.grey(2),padding:"8px"},"label:DownshiftList;"),qt=Object(m.a)((function(e){var t=e.iconType,n=e.children,a=(e.isHighlighted,Object(i.__rest)(e,["iconType","children","isHighlighted"]));return Object(c.jsxs)("div",Object(i.__assign)({},a,{children:[n,t&&Object(c.jsx)(_.a,{type:t},void 0)]}),void 0)}),{target:"emwqhd55"})({height:"32px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},(function(){return{paddingLeft:"8px",svg:{width:"14px",height:"14px",color:"#007AFF",marginRight:"11px"}}}),(function(e){var t=e.isHighlighted;return Object(Ze.c)({opacity:t?1:0})}),"label:DownshiftItem;"),Et=Object(m.a)("div",{target:"emwqhd56"})((function(e){var t=e.disabled;return{height:"32px",borderRadius:"16px",backgroundColor:y.b.FillTertiary(),display:"flex",padding:"0 10px",alignItems:"center",justifyContent:"center",cursor:t?"not-allowed":"pointer",fontSize:"12px",color:y.b.LabelSecondary(),svg:{marginLeft:"4px"}}}),"label:SelectorWrap;"),Lt=Object(m.a)("input",{target:"emwqhd57"})({width:"160px",border:"none",background:"rgba(0,0,0,0)","&:focus":{outline:"none"}},"label:SearcTagInput;"),Mt=Object(m.a)("div",{target:"emwqhd58"})({width:"14px",height:"14px",borderRadius:"7px",marginRight:"8px",fontSize:"12px",lineHeight:"12px",textAlign:"center",color:y.b.fixed.Paper(),backgroundColor:y.b.BlueStandard()},"label:SelectTagIcon;"),Nt=function(e){var t=e.selectedTags,n=e.onSelectTags,a=e.type,r=e.selectedSubject,s=Object(i.__read)(Object(We.a)(Ft),2),d=s[0],u=s[1],l=Object(i.__read)(Object(o.useState)(!1),2),b=l[0],p=l[1],j=Object(i.__read)(Object(o.useState)(""),2),O=j[0],f=j[1],g=Object(o.useRef)(null);Object(o.useEffect)((function(){u.searchTags("")}),[]);var _=Object(o.useCallback)(lt()((function(e){"discuss_question"===a&&pt.a.discussQuestionEditorSearchTagsExposure(e.currentTarget.value)}),3e3),[]),m=Object(o.useCallback)((function(e){var t=e.target;g.current&&t instanceof HTMLElement&&!g.current.contains(t)&&b&&p(!1)}),[b]);Object(o.useEffect)((function(){b?document.body.addEventListener("click",m,!0):document.body.removeEventListener("click",m,!0)}),[m,b]);var y=Object(o.useCallback)((function(e){var t=e.currentTarget.value;t=(t=t.replace(/[^\a-\z\A-\Z0-9\u4E00-\u9FA5\.\+\-\#\' ]+/g,"")).slice(0,35),f(t),u.searchTags(t),t&&!d.isShowDownshift&&u.showDownshift(),t||d.isShowDownshift||u.hideDownshift()}),[u,d.isShowDownshift]),v=Object(o.useCallback)((function(){return Object(c.jsx)(zt,{type:a,selectedTags:t,onSelectTags:n},void 0)}),[a,t,n]);return Object(c.jsx)(Ve.a,Object(i.__assign)({isShow:d.isShowDownshift,renderAroundChild:v,onOuterClick:function(){u.hideDownshift()}},{children:Object(c.jsx)(Et,Object(i.__assign)({onClick:function(){if(b||(p(!0),f(""),setTimeout((function(){g.current&&g.current.focus()}),0)),"discuss_question"===a&&!b&&r){var e=String(r);pt.a.discussQuestionEditorAddTagsClickClick(e)}}},{children:b?Object(c.jsx)(Lt,{ref:g,type:"text",value:O,placeholder:"\u641c\u7d22\u6807\u7b7e",onChange:function(e){y(e),_(e)}},void 0):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Mt,{children:"+"},void 0),"\u6dfb\u52a0\u6807\u7b7e"]},void 0)}),void 0)}),void 0)};function zt(e){var t=Object(i.__read)(Object(We.a)(Ft),2),n=t[0],a=t[1],r=n.isCreating||n.isRefreshing,s=function(t){return-1!==e.selectedTags.findIndex((function(e){return e.slug===t.slug}))},d=Object(o.useCallback)((function(t){var n=t.find(Wt);n?a.createTag({tagName:n.name,callBack:function(n){var a=Object(i.__spread)(t);a[a.length-1]={id:"",name:a[a.length-1].name,nameTranslated:"",slug:n.slug};var c=[];a.forEach((function(e){for(var t=0;t<c.length;t++)if(c[t].name===e.name)return;c.push(e)})),e.onSelectTags(c)}}):e.onSelectTags(t)}),[a,e]);return Object(c.jsx)(bt.a,Object(i.__assign)({stateReducer:Bt,itemToString:Qt,isSameItem:Ht,inputValue:n.inputValue,selectedItems:e.selectedTags,onChange:d},{children:function(t){if(!t.inputValue)return null;var o,d,u=function(e){if(e===n.searchQuery){var t=e.toLowerCase();return n.tags.every((function(e){var n=e.nameTranslated,a=e.name;return t!==n.toLowerCase()&&t!==a.toLowerCase()}))}return!1}(t.inputValue);return Object(c.jsx)(Rt,Object(i.__assign)({id:"DownshiftContainer"},t.getRootProps(),{disabled:r},{children:Object(c.jsxs)(Pt,Object(i.__assign)({},t.getMenuProps(),{children:[(d=Object(i.__assign)({},t.getItemProps({item:(o=t.inputValue,{name:o,nameTranslated:"",slug:""}),index:0})),u&&Object(c.jsxs)(qt,Object(i.__assign)({isHighlighted:0===t.highlightedIndex,style:{height:"auto"}},d,{onClick:function(i){d.onClick(i);var c=setInterval((function(){n.isCreating||(a.hideDownshift(),clearInterval(c))}),300);"discuss_question"===e.type&&pt.a.discussQuestionEditorSearchTagsClickClick(t.inputValue||"","","")}},{children:[Object(c.jsx)("div",Object(i.__assign)({style:{color:"#007AFF",width:"calc(100% - 25px)",overflow:"hidden",textOverflow:"ellipsis",lineClamp:"2",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},{children:"\u521b\u5efa\uff1a\u201c"+t.inputValue+"\u201d"}),void 0),Object(c.jsx)("div",Object(i.__assign)({style:{marginTop:"4px"}},{children:Object(c.jsx)("svg",Object(i.__assign)({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:Object(c.jsx)("path",{d:"M6.99981 2.7998L6.9998 11.1998M11.1998 6.9998L2.7998 6.9998",stroke:"#007AFF",strokeWidth:"1.16667",strokeLinecap:"round"},void 0)}),void 0)}),void 0)]}),void 0)),n.tags.map((function(n,o){var r=u?o+1:o,d=Object(i.__assign)({},t.getItemProps({item:n,index:r}));return Object(c.jsx)(qt,Object(i.__assign)({iconType:s(n)?"check":null,isHighlighted:r===t.highlightedIndex},d,{onClick:function(t){d.onClick(t);var i=setTimeout((function(){a.hideDownshift(),clearTimeout(i)}),0);"discuss_question"===e.type&&pt.a.discussQuestionEditorSearchTagsClickClick(n.name,n.slug,"")}},{children:n.nameTranslated||n.name}),n.slug+o)}))]}),void 0)}),void 0)}}),void 0)}function Bt(e,t){switch(t.type){case He.a.stateChangeTypes.keyDownEnter:case He.a.stateChangeTypes.clickItem:return Ge()(t,"inputValue");default:return t}}function Qt(e){return e?e.nameTranslated||e.name:""}function Wt(e){return""===e.nameTranslated&&""===e.slug}function Ht(e,t){return e.slug===t.slug}var Ut,Gt,Vt=n("zCf4"),Kt=n("mH2o"),$t=n("vb2G"),Yt=n("1szP"),Xt=n("WWwk"),Jt=Object(m.a)("div",{target:"e1640i5p0"})({width:"100%",display:"flex","> div":{flex:"0 0 auto"},"> div:not(:last-of-type)":{marginRight:"5px"}},"label:TagWrapper;"),Zt=r.a.memo((function(e){var t=e.recordSize,n=e.children,a=Object(i.__rest)(e,["recordSize","children"]),r=Object(o.useRef)(null);return Object(Xt.a)((function(){var e=r.current.getBoundingClientRect().width;t(e)}),[]),Object(c.jsx)("div",Object(i.__assign)({ref:r},a,{children:n}),void 0)})),en=r.a.memo((function(e){var t=e.tags,n=e.onTagClick,a=(0,e.getMaxWidthSpace)(Object(Yt.useResizeContext)()),s=Object(i.__read)(Object(o.useState)(t.length),2),d=s[0],u=s[1],l=Object(o.useRef)([]),b=Object(o.useCallback)((function(e){l.current.push(e)}),[]);Object(Xt.a)((function(){for(var e=l.current,t=0,n=0;n<e.length;n++)if((t=t+e[n]+5)>a)return void u(n)}),[a]);var p=Object(o.useCallback)((function(e){n(e)}),[n]),j=r.a.useCallback((function(e){e.stopPropagation(),e.preventDefault()}),[]);return Object(c.jsx)(Jt,{children:t.slice(0,d).map((function(e){var t=e.name,n=e.slug;return Object(c.jsx)(Zt,Object(i.__assign)({recordSize:b,onClick:j},{children:Object(c.jsx)(Me.a,{size:"xs",meta:n,onClick:p,content:t},void 0)}),n)}))},void 0)})),tn=Object(m.a)("div",{target:"ewu3ioo0"})({fontSize:"12px",lineHeight:"16px",color:y.a.grey(5)},"label:InfoItem;"),nn=Object(m.a)(ue.a,{target:"ewu3ioo1"})({background:y.a.grey(0),display:"block",cursor:"pointer",userSelect:"none",":hover":{background:y.a.grey(0)},padding:"10px 15px"},"label:DraftRowWrapper;"),an=Object(m.a)($t.e,{target:"ewu3ioo2"})({marginTop:"10px"},"label:DraftDetailWrapper;"),cn=Z.a.main.paths,on=Object(o.memo)((function(e){var t=e.draft,n=Object(Vt.i)(),a=Object(Vt.j)(),r=a.pathname,s=a.search,d=a.state,u=t.uuid,l=t.title,b=t.author,p=t.updatedAt,j=t.tags,O=t.thumbnail,f=b.name,g=b.slug,_=Object(i.__read)(Object(We.a)(Kt.e),2)[1].setEditingMode,m=Object(o.useCallback)((function(e){_(!1),oe.a.discuss.discussClickMyDraftsRow(),e.stopPropagation()}),[_]),y=Object(o.useCallback)((function(e){oe.a.discuss.discussClickAvatarOrName(),e.stopPropagation(),e.preventDefault();var t=e.currentTarget.dataset.slug;location.href=cn.publicProfile.home({userSlug:t})}),[]),v=Object(o.useCallback)((function(e){oe.a.discuss.discussClickTag(e),n.push({pathname:cn.discuss.articles({}),search:"?tag="+e,state:d})}),[r,s,d]),h=Object(o.useCallback)((function(e){var t=O?520:590,n=O?280:210;return e&&e.width-n||t}),[!O]);return Object(c.jsx)(nn,Object(i.__assign)({to:cn.discuss.writeArticle({articleId:u}),onClick:m},{children:Object(c.jsxs)($t.b,{children:[O&&Object(c.jsx)($t.c,{src:O},void 0),Object(c.jsxs)($t.d,{children:[Object(c.jsx)($t.h,{children:l||"\u65e0\u6807\u9898"},void 0),Object(c.jsxs)(an,{children:[Object(c.jsx)($t.g,Object(i.__assign)({"data-slug":g,onClick:y},{children:f}),void 0),p&&Object(c.jsxs)(tn,{children:["\u6700\u8fd1\u7f16\u8f91\u4e8e ",Object(ne.a)(p)]},void 0),Object(c.jsx)(en,{tags:j,onTagClick:v,getMaxWidthSpace:h},void 0)]},void 0)]},void 0)]},void 0)}),void 0)})),rn=n("N49g"),sn=Object(m.a)("div",{target:"e2ci6lx0"})({display:"flex",flexDirection:"column",padding:"40px 20px",fontSize:"14px",lineHeight:"24px","> p":{color:y.a.grey(9),marginBottom:"20px"}},"label:ModalContent;"),dn=Object(m.a)("h1",{target:"e2ci6lx1"})(pe.a.title,{fontSize:"20px",lineHeight:"28px",marginBottom:"40px",alignSelf:"center"},"label:Title;"),un=Object(m.a)("div",{target:"e2ci6lx2"})({color:y.a.green(5),marginBottom:"20px"},"label:Tips;"),ln=Object(m.a)("div",{target:"e2ci6lx3"})({listStyleType:"none",color:y.a.red(5),marginBottom:"20px"},"label:Warning;"),bn=Object(m.a)(l.a,{target:"e2ci6lx4"})({marginTop:"30px",alignSelf:"center"},"label:StyledButton;"),pn=r.a.memo((function(e){var t=e.visible,n=e.onAgree,a=e.onClose,o=Object(i.__read)(Object(We.a)(Kt.e),2)[1].setEditingMode;return Object(c.jsx)(rn.a,Object(i.__assign)({onClose:a,onClickOutside:a,isActive:t,width:"700px"},{children:Object(c.jsxs)(sn,{children:[Object(c.jsx)(dn,{children:"\u6587\u7ae0\u64b0\u5199\u987b\u77e5"},void 0),Object(c.jsx)("p",{children:"\u529b\u6263\u6b22\u8fce\u7528\u6237\u53d1\u8868\u6280\u672f\u76f8\u5173\u7684\u6587\u7ae0\uff0c\u628a\u4f60\u7684\u5b66\u4e60\u5fc3\u5f97\u548c\u6280\u672f\u5e72\u8d27\u548c\u5927\u5bb6\u4e00\u540c\u5206\u4eab\u4f1a\u6fc0\u53d1\u66f4\u591a\u7075\u611f\u7684\u82b1\u706b\u5594\uff01"},void 0),Object(c.jsx)("p",{children:"\u600e\u6837\u624d\u80fd\u521b\u4f5c\u4e00\u7bc7\u53d7\u6b22\u8fce\u7684\u6587\u7ae0\u5462\uff1f"},void 0),Object(c.jsxs)(un,{children:[Object(c.jsx)("div",{children:"\u6587\u7ae0\u5177\u6709\u539f\u521b\u6027\uff0c\u6392\u7248\u4e25\u8c28\u7f8e\u89c2\uff0c\u5185\u5bb9\u8be6\u5b9e"},void 0),Object(c.jsx)("div",{children:"\u4e0e\u6280\u672f\u7d27\u5bc6\u76f8\u5173\uff0cshow me your code\uff0c\u4ee3\u7801\u5757\u987b\u9ad8\u4eae\u663e\u793a"},void 0)]},void 0),Object(c.jsx)("p",{children:"\u6211\u4eec\u4e0d\u6b22\u8fce"},void 0),Object(c.jsxs)(ln,{children:[Object(c.jsx)("div",{children:"\u7981\u6b62\u53d1\u5e03\u63a8\u5e7f\u3001\u5ba3\u4f20\u3001\u62db\u8058\u3001\u5e7f\u544a\u3001SEO \u7b49\u65b9\u9762\u7684\u5185\u5bb9"},void 0),Object(c.jsx)("div",{children:"\u7981\u6b62\u5728\u6587\u7ae0\u4e2d\u63d2\u5165\u4e0e\u6587\u7ae0\u65e0\u5173\u7684\u94fe\u63a5\u6216\u56fe\u7247"},void 0),Object(c.jsx)("div",{children:"\u7981\u6b62\u53d1\u5e03\u6284\u88ad\u3001\u4fb5\u6743\u3001\u7b49\u8fdd\u6cd5\u5185\u5bb9"},void 0)]},void 0),Object(c.jsx)("p",{children:"\u6ce8\uff1a\u7528\u6237\u5728\u529b\u6263\u4e0a\u53d1\u5e03\u6587\u7ae0\u7684\u6700\u7ec8\u7248\u6743\u5f52\u7528\u6237\u6240\u6709\uff0c\u5e0c\u671b\u6bcf\u4e00\u4f4d\u7528\u6237\u90fd\u7528\u5fc3\u5bf9\u5f85\u81ea\u5df1\u53d1\u5e03\u7684\u5185\u5bb9\u3002\u5982\u51fa\u73b0\u53d1\u5e03\u8fdd\u89c4\u5185\u5bb9\uff0c\u60a8\u53d1\u5e03\u7684\u5185\u5bb9\u4f1a\u88ab\u4e0b\u7ebf\u6216\u5220\u9664\u3002"},void 0),Object(c.jsx)(bn,Object(i.__assign)({kind:"primary",width:"200px",onClick:function(){n(),o(!1)}},{children:"\u540c\u610f\u5e76\u5f00\u59cb\u64b0\u5199"}),void 0)]},void 0)}),void 0)})),jn=n("bz6h"),On=n("RtEr"),fn=n.n(On),gn=n("trll"),_n=n.n(gn),mn=n("aSg8"),yn=n.n(mn),vn=n("rWOt"),hn=n.n(vn),xn=n("KWXI"),kn=n.n(xn),Sn=n("eP/K"),Cn=n.n(Sn),wn=n("gC99"),An=n.n(wn),Tn=n("5n56"),In=n.n(Tn),Dn=n("ZGVY"),Fn=n.n(Dn),Rn=n("5fFo"),Pn=n.n(Rn),qn=n("AZQL"),En=n.n(qn),Ln=n("JaN1"),Mn=n.n(Ln),Nn=n("Im9F"),zn=n.n(Nn),Bn=n("fJUc"),Qn=n.n(Bn),Wn=n("7/1i"),Hn=n.n(Wn),Un=n("utcx"),Gn=n.n(Un),Vn=n("L/sk"),Kn=n.n(Vn),$n=n("EAFy"),Yn=n.n($n),Xn=n("4p56"),Jn=n.n(Xn),Zn=n("EXDh"),ea=n.n(Zn),ta=n("mNGd"),na=n.n(ta),aa=n("8za7"),ia=n.n(aa),ca={algorithmAndDataStructures:fn.a,careerLife:yn.a,interviewExperience:En.a,interviewExperienceActive:Pn.a,operatingSystem:Yn.a,questionDiscuss:ea.a,systemDesign:ia.a,all:_n.a,contest:hn.a,machineLearning:Qn.a,objectOrientedDesign:Kn.a,other:Jn.a,share:na.a,hire:Fn.a,feedbackActive:kn.a,feedback:Cn.a,generalTopic:In.a,generalTopicActive:An.a,jobsPromote:zn.a,jobsPromoteActive:Mn.a,notes:Gn.a,notesActive:Hn.a},oa=n("f7k3"),ra=(y.a.grey(0,0),y.a.grey(1),Object(m.a)("section",{target:"ec8ettp1"})({width:"100%",height:"100px",marginBottom:"14px",position:"relative",display:"flex"},"label:Wrapper;")),sa=Object(m.a)("div",{target:"ec8ettp2"})({display:"flex",flexDirection:"column","& + &":{marginLeft:"10px"}},"label:BannerItemWrap;"),da=Object(m.a)(ue.a,{target:"ec8ettp3"})(((Ut={flex:1,boxShadow:"0 1px 2px "+y.b.FillSecondary()+", 0 2px 8px "+y.b.FillTertiary(),borderRadius:"8px","& + &":{marginTop:"10px"}})[y.c]={boxShadow:"0 1px 2px "+y.b.Paper(.3)+", 0 4px 4px "+y.b.Paper(.25)},Ut),"label:StyledLink;"),ua=Object(oa.b)(((Gt={flex:"1 1 auto",width:"176px",height:"100%",display:"flex",padding:"12px 0 0 16px",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",borderRadius:"8px",cursor:"pointer",userSelect:"none",backgroundColor:y.b.Paper()})[y.c]={backgroundColor:y.b.Layer1()},Gt.img={height:"68px",objectFit:"contain",alignSelf:"flex-end"},Gt.div={color:y.b.LabelSecondary(),fontSize:"16px",lineHeight:"22px",fontWeight:500},Gt),"label:basicStyle;"),la=Object(m.a)("div",{target:"ec8ettp4"})(ua,(function(e){return"sm"===e.size?{flexDirection:"row",alignItems:"center",img:{height:"36px",objectFit:"contain",alignSelf:"center"},padding:"0 10px 0 16px"}:{img:{marginTop:"-10px"}}}),(function(e){var t=e.status,n=e.startColor,a=e.endColor;return"active"===t?{background:"linear-gradient(to bottom, "+n+", "+a+")",div:{color:y.b.fixed.White()}}:{}}),"label:ImgWrapper;"),ba=Object(m.a)("div",{target:"ec8ettp5"})({height:"100%"},"label:CardWrapper;"),pa=Z.a.main.paths,ja=[[{img:ca.interviewExperience,activeImg:ca.interviewExperienceActive,key:O.j.Interview,title:O.x[O.j.Interview],startColor:"#3897FF",endColor:"#007AFF"}],[{img:ca.jobsPromote,activeImg:ca.jobsPromoteActive,key:O.j.Career,title:O.x[O.j.Career],startColor:"#43D475",endColor:"#2BD55D"}],[{img:ca.generalTopic,activeImg:ca.generalTopicActive,key:O.j.Other,title:O.x[O.j.Other],startColor:"#CC67FF",endColor:"#AF52DE"}],[{img:ca.notes,activeImg:ca.notesActive,key:O.j.StudySharing,title:O.x[O.j.StudySharing],size:"sm",startColor:"#FFBE5E",endColor:"#FFA116"},{img:ca.feedback,activeImg:ca.feedbackActive,key:O.j.Feedback,title:O.x[O.j.Feedback],size:"sm",startColor:"#4EBFFE",endColor:"#0FA5FA"}]],Oa=function(){var e=Object(Vt.k)().subjectSlug,t=void 0===e?O.n:e,n=Object(o.useCallback)((function(e){var t=e.currentTarget.dataset.key;jn.a.circleBannerSubjectClick(t)}),[]);return Object(c.jsx)(ra,{children:ja.map((function(e,a){return Object(c.jsx)(sa,{children:e.map((function(e){var a=e.img,o=e.activeImg,r=e.key,s=e.title,d=e.size,u=e.startColor,l=e.endColor,b=r===t;return Object(c.jsx)(da,Object(i.__assign)({to:pa.discuss.home({subjectSlug:r===O.n?void 0:r}),replace:r===t,"data-key":r,onClick:n},{children:Object(c.jsx)(ba,{children:Object(c.jsxs)(la,Object(i.__assign)({status:b?"active":"",size:d,startColor:u,endColor:l},{children:[Object(c.jsx)("div",{children:s},void 0),Object(c.jsx)("img",{src:b?o:a,draggable:!1,alt:""},void 0)]}),void 0)},void 0)}),r)}))},a)}))},void 0)},fa=n("6q4e"),ga=n("lDJ/"),_a=n("7a+J"),ma=function(e){return{isShowAsCard:String(e.width>760)}},ya=Object(m.a)(ga.a,{target:"e16dmvvk0"})(Je.a.layer1,{flex:"1 0 auto",width:"100%",maxWidth:"760px",margin:"0 auto",paddingTop:"30px 0"},"label:StyledRenderedMarkdown;"),va=Object(m.a)((function(e){var t=e.children,n=Object(i.__rest)(e,["children"]);return Object(c.jsx)(Yt.ResizeProvider,{children:Object(c.jsx)(Yt.ResizeConsumer,Object(i.__assign)({},n,{updateDatasetBySize:ma},{children:Object(c.jsx)(ya,Object(i.__assign)({rootFontSize:16},{children:t}),void 0)}),void 0)},void 0)}),{shouldForwardProp:fa.a,target:"e16dmvvk1"})(Je.a.layer0,{display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1 0px",'&[data-is-show-as-card="true"]':{padding:"15px 0px","> *":Object(oa.b)(_a.a.level1,{borderRadius:"5px"})}},"label:PreviewMarkdownContent;"),ha=n("8SGJ"),xa=n("X7IW"),ka=n("34li"),Sa=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e})),Object(o.useCallback)((function(){for(var e,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];null===(e=t.current)||void 0===e||e.call.apply(e,Object(i.__spread)([t],n))}),[])},Ca=n("AF8X"),wa=n("ICpN"),Aa=n("Aw0H"),Ta=n("M+N8"),Ia=n("+6hg"),Da=n("nBw1"),Fa=function(){return Object(c.jsx)(Da.w,{children:Object(c.jsx)(Ia.a,{size:13},void 0)},void 0)},Ra=Object(m.a)(Me.a,{target:"e149zdmu0"})({marginLeft:"10px",borderRadius:"5px",color:"#999"},"label:StyledTag;"),Pa=function(){return Object(c.jsx)(Ra,{kind:"default",size:"xs",content:"\u5ba1\u6838\u4e2d"},void 0)},qa=n("OTEi"),Ea=Z.a.main.paths,La=function(e){oe.a.discuss.discussClickAvatarOrName(),e.stopPropagation()},Ma=function(e){e.preventDefault(),e.stopPropagation()},Na=r.a.memo((function(e){var t=e.userSlug,n=e.avatar,a=e.title,r=e.link,s=e.sticky,d=e.official,u=e.recommended,l=e.status,b=e.uuid,p=e.onTitleClick,j=""===t,O=Object(o.useMemo)((function(){return Ea.publicProfile.home({userSlug:t})}),[t]),f=Object(o.useMemo)((function(){return Object(te.b)(n,22)}),[n]),g={to:r,onClick:p,onAuxClick:p},_=Object(i.__read)(Object(We.a)(qa.a,{scope:b}),2),m=_[0].muted,y=_[1].setMuted,v=Object(o.useContext)($.d).isAdmin;return Object(o.useEffect)((function(){y(l===ka.o.Muted)}),[l]),Object(c.jsxs)(ha.c,Object(i.__assign)({onClick:Ma},{children:[Object(c.jsx)(Ta.a,Object(i.__assign)({userSlug:t},{children:Object(c.jsx)(Aa.a,Object(i.__assign)({shouldStrip:j},{children:Object(c.jsx)("a",Object(i.__assign)({href:O,onClick:La},{children:Object(c.jsx)(ha.a,{src:f,alt:t+"\u7684\u5934\u50cf"},void 0)}),void 0)}),void 0)}),void 0),Object(c.jsx)(Da.v,Object(i.__assign)({},g,{children:a}),void 0),Object(c.jsx)(wa.a,{sticky:s,official:d,recommended:u,muted:!!v&&m},void 0),l&&l===ka.o.Offline&&Object(c.jsx)(Fa,{},void 0),l&&[ka.o.Checking,ka.o.Pending].includes(l)&&Object(c.jsx)(Pa,{},void 0)]}),void 0)})),za=function(e){return e.toFixed(10)},Ba=r.a.memo((function(e){var t=e.score,n=Object(o.useContext)($.d).permissions,a=Object(o.useContext)(O.i).scoreVisible;return!(!n||!n.includes(ka.Rb.ColumnsReviewArticle))&&a&&!Object(g.q)()?Object(c.jsx)(Da.s,{children:za(t)},void 0):null})),Qa=Z.a.main.paths,Wa=function(e){oe.a.discuss.discussClickAvatarOrName(),e.stopPropagation()},Ha=Object(o.memo)((function(e){var t=e.sticky,n=void 0!==t&&t,a=Object(i.__rest)(e,["sticky"]),o=Object(D.n)(a),r=Object(Vt.i)(),s=a.uuid,d=a.author,u=a.createdAt,l=a.thumbnail,b=a.summary,p=a.picked,j=a.parent,O=a.score,f=a.status,_=d.name,m=d.avatar,v=d.slug,h=Qa.discuss.discussionDetail({discussId:j.uuid}),x=Qa.discuss.viewShare({discussId:j.uuid,viewId:s}),k=Sa((function(e){e.stopPropagation(),r.push(x),oe.a.discuss.discussClickAnswerRow(s)})),S=Object(Ca.t)(b,!!l),C=Object(g.q)();return Object(c.jsxs)(Da.l,Object(i.__assign)({onClick:k,isMobile:C},{children:[l&&!C&&Object(c.jsx)(Da.i,Object(i.__assign)({isMobile:C},{children:Object(c.jsx)(Da.h,{src:Object(te.a)(l,200,120),draggable:!1,isMobile:C},void 0)}),void 0),Object(c.jsxs)(Da.g,{children:[Object(c.jsxs)(Da.f,{children:[Object(c.jsx)(Na,{userSlug:v,avatar:m,title:j.title,link:h,createdAt:u},void 0),Object(c.jsxs)(Da.e,{children:[Object(c.jsx)("a",Object(i.__assign)({href:Qa.publicProfile.home({userSlug:v}),onClick:Wa},{children:Object(c.jsx)(ce.a,{userSlug:v,realName:_,className:Object(ha.g)(Object(g.q)()),defaultColor:y.a.grey(6),hideReputation:!0},void 0)}),void 0),"\xa0\u53c2\u4e0e\u4e86\u8ba8\u8bba",Object(c.jsx)(wa.a,{sticky:n,picked:p},void 0)]},void 0),Object(c.jsx)(Da.c,Object(i.__assign)({isMobile:C},{children:b&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Da.u,{children:S},void 0),f===ka.o.Offline&&Object(c.jsx)(Fa,{},void 0),[ka.o.Checking,ka.o.Pending].includes(f)&&Object(c.jsx)(Pa,{},void 0)]},void 0)}),void 0)]},void 0),Object(c.jsxs)(Da.p,{children:[Object(c.jsx)(xa.a,Object(i.__assign)({},o,{tailHidden:!0}),void 0),Object(c.jsx)(Ba,{score:O},void 0)]},void 0)]},void 0)]}),void 0)})),Ua=n("BQ33"),Ga=n.n(Ua),Va=n("XPmh"),Ka=n("joee"),$a=n("x8uP"),Ya=n("GlVj"),Xa=Z.a.main.paths,Ja=function(e){oe.a.discuss.discussClickAvatarOrName(),e.stopPropagation()},Za=Object(Va.a)(Object(Ka.a)(Da.a,(function(e){var t=Ga()().unix()+"";$a.a.postPostListExposure(e.type,e.slug,window.location.href,e.author,t,e.selfSlug)})),(function(e){var t=Ga()().unix()+"";$a.a.postPostListClick(e.type,e.slug,window.location.href,e.author,t,e.selfSlug)})),ei=Object(o.memo)((function(e){var t=e.sticky,n=void 0!==t&&t,a=Object(i.__rest)(e,["sticky"]),r=Object(o.useContext)($.d).userSlug,s=Object(Ya.b)(a),d=Object(Vt.i)(),u=a.uuid,l=a.slug,b=a.title,p=a.author,j=a.createdAt,O=a.thumbnail,f=a.viewCount,_=a.summary,m=a.picked,v=a.official,h=a.score,x=a.articleType,k=a.status,S=p.name,C=p.avatar,w=p.slug,A=Sa((function(e){e.stopPropagation(),d.push(Xa.discuss.articleDetail({articleId:u})),oe.a.discuss.discussClickArticleRow(u)})),I=Object(g.q)(),D=Object(o.useCallback)((function(){var e=Ga()().unix()+"";$a.a.postPostListClick(x,l,null===window||void 0===window?void 0:window.location.href,w,e,r)}),[x,r,l,w]);return Object(c.jsxs)(Za,Object(i.__assign)({onClick:A,isMobile:I,type:x,slug:l,author:w,selfSlug:r},{children:[Object(c.jsx)(Na,{userSlug:w,avatar:C,title:b,link:Xa.discuss.articleDetail({articleId:u}),createdAt:j,navigateToProfile:Ja,onTitleClick:D,status:k},void 0),Object(c.jsxs)(Da.e,{children:[Object(c.jsx)("a",Object(i.__assign)({href:Xa.publicProfile.home({userSlug:w}),onClick:Ja},{children:Object(c.jsx)(ce.a,{userSlug:w,realName:S,className:Object(ha.g)(I),defaultColor:y.a.grey(6)},void 0)}),void 0),Object(c.jsx)(c.Fragment,{children:"\xa0\u53d1\u5e03\u4e86\u6587\u7ae0"},void 0),Object(c.jsx)(Da.n,{},void 0),Object(c.jsxs)("div",{children:[Object(T.c)(f)," \u9605\u8bfb"]},void 0),Object(c.jsx)(wa.a,{sticky:n,official:v,picked:m},void 0)]},void 0),Object(c.jsxs)(Da.c,Object(i.__assign)({isMobile:I},{children:[O&&Object(c.jsx)(Da.d,{src:Object(te.a)(O,120,70),draggable:!1},void 0),_&&Object(c.jsx)(Da.b,{children:_},void 0)]}),void 0),Object(c.jsxs)(Da.p,{children:[Object(c.jsx)(H,Object(i.__assign)({},s,{viewCount:f,tailHidden:!0,hiddenSticky:!0}),void 0),Object(c.jsx)(Ba,{score:h},void 0)]},void 0)]}),void 0)})),ti=n("prCu"),ni=n.n(ti),ai=n("WIpE"),ii=n("8McP"),ci=Object(Va.a)(Da.q,(function(e){return jn.a.circleProblemTagClick(e["data-user-slug"],e["data-post-slug"],e["data-problem-slug"])}));function oi(e){var t,n,a=e.links,o=e.userSlug,r=e.postSlug;return Object(c.jsx)(Da.o,Object(i.__assign)({onClick:Y.c},{children:null===(n=null===a||void 0===a?void 0:(t=a.slice(0,1)).map)||void 0===n?void 0:n.call(t,(function(e){var t=e.title,n=e.link,a=e.slug;return Object(c.jsxs)(ci,Object(i.__assign)({to:n,"data-user-slug":o,"data-post-slug":r,"data-problem-slug":a},{children:[Object(c.jsx)(ii.a,{},void 0),t]}),a)}))}),void 0)}var ri=Z.a.main.paths,si=Object(Ka.a)(Da.r,(function(e){var t=Ga()().unix()+"";$a.a.postPostListExposure(e.type,e.slug,window.location.href,e.author,t,e.selfSlug)})),di=function(e){var t=e.sticky,n=e.selectedTagSlugs,a=e.onTitleClick,r=Object(i.__rest)(e,["sticky","selectedTagSlugs","onTitleClick"]),s=r.uuid,d=r.title,u=r.author,l=r.createdAt,b=r.thumbnail,p=r.summary,j=r.official,O=r.isRecommended,f=r.tags,_=r.atQuestionTitleSlug,m=r.articleType,y=r.slug,v=r.status,h=u.avatar,x=u.slug,k=Object(o.useContext)($.d).userSlug,S=Object(o.useMemo)((function(){return ri.discuss.discussionDetail({discussId:s})}),[s]),C=Sa((function(){null===a||void 0===a||a(),oe.a.discuss.discussClickQuestionRow(s);var e=Ga()().unix()+"";$a.a.postPostListClick(m,y,location.href,x,e,k||"")})),w={to:S,onClick:C,onAuxClick:C},A=Object(o.useMemo)((function(){return Object(te.a)(b,400,256)}),[b]),T=Object(g.q)(),I=Object(Vt.k)(),D="undefined"!==typeof window?ni.a.parse(window.location.search.slice(1)):{},F=Object(o.useMemo)((function(){return{event_key:"discussion_feed_discuss_exposure",type:"exposure",target:JSON.stringify({module:"feed",target:y}),extra:JSON.stringify({author:x,tab:I.subjectSlug,sort_by:I.filter,tags:D.tag})}}),[I.filter,I.subjectSlug,y,D.tag,x]);Object(o.useEffect)((function(){ai.b.report(F)}),[]);var R=Object(o.useCallback)((function(e){var t="";"react"===e&&(t="discussion_feed_discuss_like"),"favorite"===e&&(t="discussion_feed_discuss_fav"),"share"===e&&(t="discussion_feed_discuss_share"),t&&ai.b.report(Object(i.__assign)(Object(i.__assign)({},F),{event_key:t,type:"click"}))}),[F]),P=Object(Ya.d)(r,R);return Object(c.jsxs)(si,Object(i.__assign)({isMobile:T,type:m,slug:y,author:x,selfSlug:k,onClick:function(){return ai.b.report(Object(i.__assign)(Object(i.__assign)({},F),{type:"click",event_key:"homepage_feed_discuss_click"}))}},{children:[!!b&&!T&&Object(c.jsx)(Da.i,Object(i.__assign)({isMobile:T},{children:Object(c.jsx)(ue.a,Object(i.__assign)({},w,{children:Object(c.jsx)(Da.h,{src:A,draggable:!1,isMobile:T},void 0)}),void 0)}),void 0),Object(c.jsxs)(Da.g,{children:[Object(c.jsxs)(Da.f,{children:[Object(c.jsx)(Na,{userSlug:x,avatar:h,title:d,link:S,createdAt:l,sticky:t,official:j,status:v,recommended:O,onTitleClick:C,uuid:s},void 0),Object(c.jsxs)(Da.j,Object(i.__assign)({isMobile:T},{children:[Object(c.jsxs)(Da.k,Object(i.__assign)({isMobile:T},{children:[!!f.length&&Object(c.jsx)(Da.t,{items:f,activeSlugs:n,isMobile:T},void 0),Object(c.jsx)(Da.c,Object(i.__assign)({isMobile:T},{children:!!p&&Object(c.jsx)(ue.a,Object(i.__assign)({},w,{children:Object(c.jsx)(Da.m,Object(i.__assign)({withImage:!!b&&!T,isMobile:T},{children:p}),void 0)}),void 0)}),void 0),Object(c.jsx)(oi,{userSlug:x,postSlug:s,links:_},void 0)]}),void 0),!!b&&T&&Object(c.jsx)(Da.i,Object(i.__assign)({isMobile:T},{children:Object(c.jsx)(Da.h,{src:A,draggable:!1,isMobile:T},void 0)}),void 0)]}),void 0)]},void 0),Object(c.jsx)(Da.p,{children:Object(c.jsx)(J,Object(i.__assign)({},P,{tailHidden:!0}),void 0)},void 0)]},void 0)]}),void 0)},ui=Z.a.main.paths,li=Object(Va.a)(Object(Ka.a)(Da.l,(function(e){var t=Ga()().unix()+"";$a.a.postPostListExposure(e.type,e.slug,window.location.href,e.author,t,e.selfSlug)})),(function(e){var t=Ga()().unix()+"";$a.a.postPostListClick(e.type,e.slug,window.location.href,e.author,t,e.selfSlug)})),bi=Object(o.memo)((function(e){var t=e.sticky,n=void 0!==t&&t,a=e.onClick,r=e.onTitleClick,s=Object(i.__rest)(e,["sticky","onClick","onTitleClick"]),d=Object(Ya.c)(s),u=Object(Vt.i)(),l=Object(o.useContext)($.d).userSlug,b=s.uuid,p=s.title,j=s.author,O=s.createdAt,f=s.thumbnail,_=s.summary,m=s.official,y=s.tags,v=s.articleType,h=s.slug,x=j.avatar,k=j.slug,S=Sa((function(e){e.stopPropagation(),u.push(ui.discuss.articleDetail({articleId:b})),oe.a.discuss.discussClickArticleRow(b),null===a||void 0===a||a()})),C=Sa((function(){var e=Ga()().unix()+"";$a.a.postPostListClick(v,h,null===window||void 0===window?void 0:window.location.href,k,e,l),null===r||void 0===r||r()})),w=Object(o.useMemo)((function(){return ui.discuss.articleDetail({articleId:b})}),[b]),A=Object(g.q)();return Object(c.jsxs)(li,Object(i.__assign)({onClick:S,isMobile:A,slug:h,type:v,selfSlug:l,author:k},{children:[f&&!A&&Object(c.jsx)(Da.i,Object(i.__assign)({isMobile:A},{children:Object(c.jsx)(Da.h,{src:Object(te.a)(f,200,120),draggable:!1,isMobile:A},void 0)}),void 0),Object(c.jsxs)(Da.g,{children:[Object(c.jsxs)(Da.f,{children:[Object(c.jsx)(Na,{userSlug:k,avatar:x,title:p,link:w,createdAt:O,sticky:n,official:m,onTitleClick:C},void 0),Object(c.jsxs)(Da.j,Object(i.__assign)({isMobile:A},{children:[Object(c.jsxs)(Da.k,Object(i.__assign)({isMobile:A},{children:[!!y.length&&Object(c.jsx)(Da.t,{items:y,isMobile:A},void 0),Object(c.jsx)(Da.c,Object(i.__assign)({isMobile:A},{children:_&&Object(c.jsx)(Da.m,Object(i.__assign)({withImage:!!f&&!A,isMobile:A},{children:_}),void 0)}),void 0)]}),void 0),f&&A&&Object(c.jsx)(Da.i,Object(i.__assign)({isMobile:A},{children:Object(c.jsx)(Da.h,{src:Object(te.a)(f,200,120),draggable:!1,isMobile:A},void 0)}),void 0)]}),void 0)]},void 0),Object(c.jsx)(Da.p,{children:Object(c.jsx)(K,Object(i.__assign)({},d,{tailHidden:!0}),void 0)},void 0)]},void 0)]}),void 0)})),pi=n("z0YO"),ji=Object(m.a)("div",{target:"e1voxor50"})(he.c,{width:"100%",marginBottom:"10px"},"label:TabViewWrapper;"),Oi=Object(m.a)("div",{target:"e1voxor51"})(Object(i.__assign)({position:"relative",display:"flex",alignItems:"center",fontSize:"14px",userSelect:"none",margin:"0 10px"},Object(be.c)(".2s")),(function(e){var t=e.isActive;return Object(oa.b)(t?pe.a.primary:pe.a.disable,{fontWeight:t?500:400,"&:hover":pe.a.primary})}),"label:TabTitle;"),fi=Object(o.memo)((function(e){var t=Object(o.useCallback)((function(t){e.onTabChange(t)}),[e.onTabChange]);return Object(c.jsx)(ji,{children:Object(c.jsx)(pi.a,Object(i.__assign)({type:"line",size:"md",activeKey:e.currentTab,onChange:t},{children:e.tabs.map((function(t){return Object(c.jsx)(pi.a.Tab,Object(i.__assign)({title:Object(c.jsx)(Oi,Object(i.__assign)({isActive:t.key===e.currentTab},{children:t.title}),void 0)},{children:!1}),t.key)}))}),void 0)},void 0)})),gi=Object(m.a)("div",{target:"etlalee0"})({width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"3px",background:y.a.grey(0,.7),border:"1px solid "+y.a.grey(2),position:"fixed",right:"20px",cursor:"pointer",svg:{fontSize:"24px",color:y.a.grey(6)}},(function(e){return{bottom:e.isMobile?"60px":"120px"}}),"label:Button;"),_i=(r.a.memo((function(){var e=Object(i.__read)(Object(ee.a)(!1),3),t=e[0],n=e[1],a=e[2],r=Object(o.useRef)(0),s=Object(o.useCallback)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);return Object(o.useEffect)((function(){var e=function(){cancelAnimationFrame(r.current),r.current=requestAnimationFrame((function(){window.scrollY>=1800?n():a()}))};return window.addEventListener("scroll",e),function(){r.current&&cancelAnimationFrame(r.current),window.removeEventListener("scroll",e)}}),[]),t?Object(c.jsx)(gi,Object(i.__assign)({onClick:s,isMobile:Object(g.q)()},{children:Object(c.jsx)(_.a,{type:"publish"},void 0)}),void 0):null})),n("li8k")),mi=n("lGXO"),yi=(n("42uY"),n("pu3o")),vi=n.n(yi),hi=Object(m.a)("div",{target:"ebas32i0"})({a:{color:y.b.LabelSecondary(),"&:active":{color:y.b.BlueStandard()}},".ant-pagination-item":{backgroundColor:y.b.Layer3(),borderColor:y.b.Border(),color:y.b.LabelSecondary(),a:{color:y.b.LabelSecondary()},"&-active":{background:y.b.Layer3(),borderColor:y.b.BlueStandard(),a:{color:y.b.BlueStandard()}}},".ant-pagination-prev, .ant-pagination-next":{a:{backgroundColor:y.b.Paper(),color:y.b.LabelSecondary(),borderColor:y.b.Border()},"&:hover a,":{color:y.b.LabelSecondary(),borderColor:y.b.Border()},":hover .ant-pagination-item-link":{color:y.b.BlueStandard(),borderColor:y.b.BlueStandard()}},".ant-pagination-jump-next, .ant-pagination-jump-prev":{".ant-pagination-item-link-icon":{color:y.b.BlueStandard()},".ant-pagination-item-ellipsis":{color:y.b.LabelSecondary()}}},(function(e){return{margin:e.isMobile?"16px":"0px"}}),"label:PaginationWrap;"),xi=Object(o.memo)((function(e){var t=Object(Vt.j)(),n=t.pathname,a=Object(o.useMemo)((function(){var e=t.search;return vi.a.parse(e,{ignoreQueryPrefix:!0})}),[t]),r=Object(o.useCallback)((function(e){e.preventDefault()}),[]),s=Object(o.useCallback)((function(e,t,o){if("page"===t){var s=""+n+vi.a.stringify(Object(i.__assign)(Object(i.__assign)({},a),{page:e}),{addQueryPrefix:!0});return Object(c.jsx)(ue.a,Object(i.__assign)({to:s,onClick:r},{children:e}),void 0)}return o}),[r,n,a]);return Object(c.jsx)(hi,Object(i.__assign)({isMobile:Object(g.q)()},{children:Object(c.jsx)(mi.a,Object(i.__assign)({showSizeChanger:!1,itemRender:s},e),void 0)}),void 0)})),ki=Object(m.a)("div",{target:"e1yh9uwl0"})({width:"100%",minHeight:599,marginTop:"20px",display:"flex",justifyContent:"center",flexDirection:"column"},"label:Wrapper;"),Si=Object(m.a)("h3",{target:"e1yh9uwl1"})({fontSize:"16px",color:y.a.grey(7),textAlign:"center",marginTop:"-52px"},"label:Title;"),Ci=Object(m.a)("p",{target:"e1yh9uwl2"})({fontSize:"12px",color:y.a.grey(5),marginTop:"12px",textAlign:"center"},"label:Description;"),wi=Object(m.a)("div",{target:"e1yh9uwl3"})({width:"100%",height:299},"label:ImgWapper;"),Ai=function(e){var t=e.slug;return Object(c.jsxs)(ki,Object(i.__assign)({id:t},{children:[Object(c.jsx)(wi,{children:Object(c.jsx)(u.a,{type:"img",size:"lg",description:""},void 0)},void 0),Object(c.jsx)(Si,{children:"\u54a6\uff1f\u5185\u5bb9\u4e0d\u89c1\u5566\uff1f"},void 0),Object(c.jsx)(Ci,{children:"\u56e0\u5185\u5bb9\u8fdd\u53cd\u300a\u4e92\u8054\u7f51\u7528\u6237\u516c\u4f17\u8d26\u53f7\u4fe1\u606f\u670d\u52a1\u7ba1\u7406\u89c4\u5b9a\u300b\u6216\u793e\u533a\u89c4\u8303 \u65e0\u6cd5\u5c55\u793a\uff0c\u656c\u8bf7\u8c05\u89e3\u3002"},void 0)]}),void 0)},Ti=function(){return Object(c.jsxs)(ki,{children:[Object(c.jsx)(wi,{children:Object(c.jsx)(u.a,{type:"img",size:"lg",description:""},void 0)},void 0),Object(c.jsx)(Si,{children:"\u5185\u5bb9\u6b63\u5728\u5236\u4f5c\u4e2d"},void 0),Object(c.jsx)(Ci,{children:"\u8bf7\u7a0d\u540e\u67e5\u770b"},void 0)]},void 0)},Ii=function(e){var t=e.des;return Object(c.jsxs)(ki,{children:[Object(c.jsx)(wi,{children:Object(c.jsx)(u.a,{type:"img",size:"lg",description:""},void 0)},void 0),Object(c.jsx)(Si,{children:t},void 0)]},void 0)}},rWOt:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/contest.45224b15.png"},trll:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/all.5554d13e.png"},"u5/7":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie}));var a=n("D57K"),i=n("jg1C"),c=n("K/af"),o=n("ERkP"),r=n.n(o),s=n("7nmT"),d=n.n(s),u=n("VL4A"),l=n("FbPB"),b=n("qz+f"),p=n("wbrp"),j=n("TMWK"),O=n("WwoV"),f=Object(j.a)(O.a,{target:"e1wgxdfl0"})({fontSize:"13px",svg:{marginRight:"8px"}},"label:StyledCheckbox;");function g(){var e=Object(a.__read)(Object(c.a)(p.c),2),t=e[0],n=t.anonymous,o=t.uuid,s=e[1].setAnonymous,d=r.a.useMemo((function(){return n}),[])&&Boolean(o);return Object(i.jsx)(f,Object(a.__assign)({disabled:d,checked:n,onCheckedChange:s},{children:"\u533f\u540d"}),void 0)}var _,m=n("/NrN"),y=n("VxrX"),v=Object(o.memo)((function(){var e=Object(a.__read)(Object(c.a)(p.c),2)[1],t=Object(o.useCallback)((function(){e.hideEditor(),y.a.discuss.discussAnswerEditorCancelButtonClicked()}),[e]);return Object(i.jsx)(m.a,Object(a.__assign)({size:"sm",onClick:t},{children:"\u53d6\u6d88"}),void 0)})),h=n("v31z"),x=Object(o.memo)((function(){var e=Object(a.__read)(Object(c.a)(p.c),2),t=e[0],n=e[1];return Object(i.jsx)(h.a,Object(a.__assign)({onClick:n.toggleFullscreen,icon:t.isFullscreen?"fullscreen-exit":"fullscreen",type:"transparent",size:"sm"},{children:t.isFullscreen?"\u9000\u51fa\u5168\u5c4f":"\u5168\u5c4f"}),void 0)})),k=n("fgAA"),S=n("pqRN"),C=n("CkJS"),w=Object(j.a)("div",{target:"e1nkoa980"})({marginBottom:"10px"},"label:Container;"),A=Object(j.a)("div",{target:"e1nkoa981"})({flex:"1 1 0px"},"label:PlaceHolder;"),T=Object(j.a)("i",{target:"e1nkoa982"})({width:"1px",height:"14px",margin:"0 10px",background:k.a.grey(2)},"label:DividingLine;"),I=Object(j.a)("div",{target:"e1nkoa983"})({display:"flex",alignItems:"center",padding:"0 15px",borderBottom:"1px solid "+k.a.grey(2)},"label:Row;"),D=Object(j.a)(I,{target:"e1nkoa984"})({height:"60px","> *:not(:last-child)":{marginRight:"15px"}},"label:FirstRow;"),F=Object(j.a)(I,{target:"e1nkoa985"})({height:"40px"},"label:SecondRow;"),R=Object(j.a)("div",{target:"e1nkoa986"})(C.a.heading.h4,Object(a.__assign)(Object(a.__assign)({},S.l),{lineHeight:"22px",color:k.b.BaseGrey5()}),"label:Reply;"),P=Object(j.a)("span",{target:"e1nkoa987"})({color:k.b.BaseGrey6()},"label:UserName;"),q=n("r3KU"),E=n("HnWI"),L=n("AouM"),M=n("Jg5f"),N=n("HTDA"),z=n("360P"),B=n("sOcD");!function(e){e[e.Publish=0]="Publish",e[e.Mock=1]="Mock"}(_||(_={}));var Q=function(e){var t=Object(a.__read)(Object(c.a)(p.c),1)[0],n=Object(a.__read)(Object(c.a)(p.e),1)[0],i=Object(a.__read)(Object(c.a)(N.a),1)[0].currentOfficialAccount;return Object(o.useCallback)((function(){return new E.a((function(c){var o=new AbortController,r=Object(z.a)(t.content,o.signal,n.whitelist).pipe(Object(L.a)(B.a),Object(M.a)((function(n){var c,o=n.content,r=n.mentionedUserSlugs,s=n.thumbnail,d=n.summary;return{data:Object(a.__assign)({content:o,summary:d,mentionedUserSlugs:r,thumbnail:s,questionId:t.question.uuid,postAnonymously:t.anonymous,replyTo:t.replyToAnswerId},e===_.Mock&&{officialAccountSlug:null!==(c=null===i||void 0===i?void 0:i.userSlug)&&void 0!==c?c:""})}}))).subscribe(c);return function(){o.abort(),r.unsubscribe()}}))}),[t,n,i,e])},W=n("fgzu"),H=n("+Aeu");function U(){var e=Object(a.__read)(Object(c.a)(H.a),1)[0];return Object(o.useCallback)((function(){return!!e.content||(W.a.error("\u8ba8\u8bba\u5185\u5bb9\u4e0d\u53ef\u4e3a\u7a7a\uff01"),!1)}),[e])}function G(){var e=Object(a.__read)(Object(c.a)(p.c),2)[1].mock,t=Q(_.Mock),n=U(),o=r.a.useCallback((function(){n()&&e(t())}),[e,t,n]);return Object(i.jsx)(q.a,{onConfirm:o,mockMode:q.b.Publish},void 0)}var V=Object(o.memo)((function(){var e=Object(a.__read)(Object(c.a)(p.c),2),t=e[0],n=e[1],r=t.mode===p.b.Preview,s=Object(o.useCallback)((function(){n.switchMode(r?p.b.Edit:p.b.Preview)}),[r,n]);return Object(i.jsx)(h.a,Object(a.__assign)({type:"transparent",size:"sm",icon:r?"edit":"eye",onClick:s},{children:r?"\u7f16\u8f91":"\u9884\u89c8"}),void 0)})),K=n("YUuc"),$=Object(o.memo)((function(){var e=Object(a.__read)(Object(c.a)(p.c),2),t=e[0],n=e[1],r=Object(a.__read)(Object(c.a)(p.e),2)[1];Object(o.useEffect)(r.refresh,[]);var s=Q(_.Publish),d=U(),u=Object(o.useCallback)((function(){d()&&(n.publish(s()),y.a.discuss.discussPublishAnswer())}),[n,s,d]);return Object(i.jsx)(m.a,Object(a.__assign)({kind:"primary",size:"sm",prefixIcon:Object(i.jsx)(K.a,{},void 0),onClick:u,loading:t.isSubmitting},{children:"\u56de\u590d\u8ba8\u8bba"}),void 0)})),Y=n("G0kv"),X=n("pN2L"),J=n("xqpu"),Z=n("1QlS"),ee=n("nPqx"),te=n("7oNG"),ne=n("yaUI"),ae=n("9Vqi"),ie=n("5XeP"),ce=n("y9R/"),oe=Object(o.memo)((function(){var e=Object(o.useContext)(J.d),t=Object(a.__read)(Object(c.a)(p.c),2),n=t[0],r=t[1],s=Object(a.__read)(Object(c.a)(p.e),2),d=s[0],u=s[1],l=Object(a.__read)(Object(Z.a)(!1),3),b=l[0],j=l[1],O=l[2];Object(o.useEffect)(u.refresh,[]);var f=Object(o.useCallback)((function(){return new E.a((function(e){var t=new AbortController,i=Object(z.a)(n.content,t.signal,d.whitelist).pipe(Object(L.a)((function(e){var t=Object(te.a)(e),n=t.pipe(Object(L.a)((function(e){return Object(ne.a)(e)}))),a=n.pipe(Object(M.a)((function(e){return Object(ae.a)(e)}))),i=Object(ie.a)(t),c=n.pipe(Object(M.a)((function(e){return Object(ce.a)(e)})));return Object(Y.b)(Object(X.a)(e),a,i,c)})),Object(M.a)((function(e){var t=Object(a.__read)(e,4);return{data:{content:t[0],mentionedUserSlugs:t[1],thumbnail:t[2],summary:t[3],answerId:n.uuid,postAnonymously:n.anonymous}}}))).subscribe(e);return function(){t.abort(),i.unsubscribe()}}))}),[n,d]),g=U(),_=Object(o.useCallback)((function(){O(),g()&&(r.update(f()),y.a.discuss.discussUpdateAnswer())}),[r,f,g]),m=Object(o.useCallback)((function(){!n.isPicked||e.isAdmin?_():j()}),[n.uuid,n.isPicked,_,e]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(h.a,Object(a.__assign)({type:"primary",icon:"paper-plane-o",size:"sm",onClick:m,loading:n.isSubmitting},{children:"\u66f4\u65b0\u8ba8\u8bba"}),void 0),Object(i.jsx)(ee.a,Object(a.__assign)({onClose:O,onOk:_,visible:b},{children:"\u60a8\u6b63\u5728\u7f16\u8f91\u7cbe\u9009\u5185\u5bb9\uff0c\u91cd\u65b0\u53d1\u5e03\u540e\u5c06\u4f1a\u88ab\u53d6\u6d88\u7cbe\u9009\uff0c\u518d\u6b21\u5165\u9009\u5c06\u4e0d\u4f1a\u83b7\u79ef\u5206\u5956\u52b1\uff0c\u662f\u5426\u786e\u8ba4\u7ee7\u7eed\uff1f"}),void 0)]},void 0)})),re=Object(o.memo)((function(e){var t=e.replyToAuthorName,n=e.onTriggerShortcut,o=Object(a.__read)(Object(c.a)(p.c),1)[0];return Object(i.jsxs)(w,{children:[Object(i.jsxs)(D,{children:[t?Object(i.jsxs)(R,{children:["\u56de\u590d ",Object(i.jsxs)(P,{children:["@",t]},void 0)]},void 0):Object(i.jsx)(v,{},void 0),Object(i.jsx)(A,{},void 0),Object(i.jsx)(g,{},void 0),t&&Object(i.jsx)(v,{},void 0),Object(i.jsx)(G,{},void 0),o.uuid?Object(i.jsx)(oe,{},void 0):Object(i.jsx)($,{},void 0)]},void 0),Object(i.jsxs)(F,{children:[Object(i.jsx)(b.c,{onTrigger:n},void 0),Object(i.jsx)(A,{},void 0),!o.isFullscreen&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(V,{},void 0),Object(i.jsx)(T,{},void 0)]},void 0),Object(i.jsx)(x,{},void 0)]},void 0)]},void 0)})),se=n("S6Il"),de=Object(o.memo)(Object(o.forwardRef)((function(e,t){var n=Object(a.__read)(Object(c.a)(H.a),2),r=n[0],s=n[1],d=Object(o.useCallback)((function(e){return s.save({content:e})}),[s]);return Object(i.jsx)(se.a,{ref:t,content:r.content,onContentChange:d,onSetup:b.e},void 0)}))),ue=n("Nyd1"),le=n("rJKo"),be=n("IDXw"),pe=n("lDJ/"),je=n("T/5y"),Oe=Object(j.a)("div",{target:"esd88zm0"})(je.a.layer1,{position:"fixed",left:"0px",right:"0px",bottom:"0px",boxShadow:"0 -1px 10px 0 "+k.a.fix.grey(9,.08),display:"flex",flexDirection:"column",zIndex:1001},(function(e){var t=e.isFullscreen,n=e.isShow,a=e.isPending;return{transitionProperty:"transform, opacity, height",transitionDuration:".3s","> *":{pointerEvents:a?"none":"auto"},pointerEvents:n?"auto":"none",opacity:n?1:0,transform:"translateY("+(n?0:100)+"%)",height:t?"100vh":"50vh",cursor:a?"wait":"auto"}}),"label:Container;"),fe=Object(j.a)("div",{target:"esd88zm1"})({background:k.a.grey(0),display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},(function(e){var t=e.isPending;return{cursor:t?"wait":"auto","> *":{pointerEvents:t?"none":"auto"}}}),"label:BasicContainer;"),ge=Object(j.a)(fe,{target:"esd88zm2"})({position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px"},"label:FullscreenContainer;"),_e=(Object(le.b)(k.a.grey(9)).setAlpha(.08),be.n,Object(j.a)(ue.Container,{target:"esd88zm5"})({flex:"1 1 0px"},"label:ResizerContainer;")),me=Object(j.a)(ue.Section,{target:"esd88zm6"})({display:"flex",flexDirection:"column"},"label:ResizerSection;"),ye=Object(j.a)(ue.Bar,{target:"esd88zm7"})({zIndex:1,background:k.a.grey(1),transition:"background .3s","&:hover":{background:k.a.grey(7)}},"label:ResizerBar;"),ve=Object(j.a)(pe.a,{target:"esd88zm8"})({flex:"1 1 0px",overflow:"scroll",position:"relative"},"label:StyledRenderedMarkdown;"),he=n("7a+J"),xe=Object(j.a)("div",{target:"ekcu0xv0"})(je.a.layer1,he.a.level1,{position:"absolute",right:"10px",bottom:"10px",fontSize:"12px",lineHeight:"33px",userSelect:"none"},(function(e){return{transition:"transform .6s",transform:"translateX("+(e.isShow?0:200)+"%)"}}),"label:Container;"),ke=Object(j.a)("span",{target:"ekcu0xv1"})({margin:"0 5px 0 12px",color:k.a.grey(6)},"label:Tips;"),Se=Object(j.a)("button",{target:"ekcu0xv2"})({border:"none",outline:"none",position:"relative",background:"transparent",color:k.a.grey(5),transition:"color .3s, background .3s",cursor:"pointer","&:hover":{color:k.a.grey(7)},"&:not(:first-of-type)::before":{content:'""',position:"absolute",top:"50%",left:"0px",transform:"translate(-50%, -50%)",width:"1px",height:"10px",background:k.a.grey(2)}},"label:Button;"),Ce=Object(o.memo)((function(){var e=Object(a.__read)(Object(c.a)(p.c),2),t=e[0],n=e[1];return Object(i.jsxs)(xe,Object(a.__assign)({isShow:t.isShowLocalDraftTips},{children:[Object(i.jsx)(ke,{children:"\u5f53\u524d\u5185\u5bb9\u5df2\u4ece\u60a8\u7684\u672c\u5730\u4fdd\u5b58\u4e2d\u6062\u590d"},void 0),Object(i.jsx)(Se,Object(a.__assign)({onClick:n.resetEditor},{children:"\u6e05\u7a7a"}),void 0),Object(i.jsx)(Se,Object(a.__assign)({onClick:n.hideLocalDraftTips},{children:"\u5173\u95ed"}),void 0)]}),void 0)})),we=n("lXyA"),Ae=n.n(we)()((function(){var e=document.createElement("div");return e.classList.add("discuss-discussion-editor-container"),document.body.appendChild(e),e})),Te={left:10,right:10};function Ie(){var e=Object(a.__read)(Object(c.a)(p.c),2),t=e[0],n=e[1],r=Object(o.useRef)(null),s=Object(b.g)(r),j=t.isSubmitting||t.isRestoring;Object(o.useEffect)((function(){j&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}),[j]);var O=Object(o.useRef)(null),f=Object(o.useMemo)((function(){return{portalContainerRef:O}}),[O]);if(Object(u.a)(t.isFullscreen,O),Object(o.useEffect)((function(){return n.hideEditor}),[n]),!t.isShow)return null;var g=Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(re,{replyToAuthorName:t.replyToAuthorName,onTriggerShortcut:s},void 0),Object(i.jsxs)(_e,{children:[Object(i.jsx)(me,Object(a.__assign)({minSize:360},{children:Object(i.jsx)(de,{ref:r},void 0)}),void 0),Object(i.jsx)(ye,{size:1,expandInteractiveArea:Te},void 0),Object(i.jsx)(me,Object(a.__assign)({minSize:360},{children:Object(i.jsx)(ve,{children:t.content},void 0)}),void 0)]},void 0),Object(i.jsx)(Ce,{},void 0)]},void 0);return t.isFullscreen?d.a.createPortal(Object(i.jsx)(l.b.Provider,Object(a.__assign)({value:f},{children:Object(i.jsx)(ge,Object(a.__assign)({ref:O,isPending:j},{children:g}),void 0)}),void 0),Ae()):Object(i.jsx)(l.b.Provider,Object(a.__assign)({value:f},{children:Object(i.jsx)(Oe,Object(a.__assign)({ref:O,isPending:j,isFullscreen:t.isFullscreen,isShow:t.isShow},{children:g}),void 0)}),void 0)}},uQtW:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return O})),n.d(t,"a",(function(){return f}));var a=n("D57K"),i=n("TMWK"),c=n("fgAA"),o=n("ildc"),r=(n("lDJ/"),n("F2zA")),s=n("/NrN"),d=n("r2qc"),u=Object(i.a)("div",{target:"e1heygfa0"})((function(e){var t=e.maxWidth;return Object(a.__assign)({flex:"1 1 auto",height:"100%"},Object(o.q)()?{width:"100%"}:{maxWidth:t+"px"})}),"label:Wrapper;"),l=Object(i.a)("div",{target:"e1heygfa1"})({display:"flex",flexDirection:"column",position:"relative"},"label:ContentWrapper;"),b=Object(i.a)("div",{target:"e1heygfa2"})({position:"absolute",top:"-42px",right:"113px"},"label:PositionedSearch;"),p=Object(i.a)(s.a,{target:"e1heygfa3"})({position:"absolute",top:"-42px",right:0,borderRadius:"16px"},"label:PositionedButton;"),j=Object(i.a)("div",{target:"e1heygfa4"})({position:"relative",width:"100%"},"label:DiscussWrapper;"),O=Object(i.a)(d.v,{target:"e1heygfa5"})({position:"absolute",top:"7px",right:"15px"},"label:StyledSearch;"),f=(c.a.grey(0),c.a.grey(2),Object(i.a)("div",{target:"e1heygfa9"})({width:"100%",height:"550px"},"label:CommonWrapper;"));r.c},utcx:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/notes.0e1effb1.png"},vb2G:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return f}));var a=n("D57K"),i=n("TMWK"),c=n("daAW"),o=n("fgAA"),r=n("pqRN"),s=n("/fpG"),d=(o.a.grey(2),o.a.grey(0),Object(i.a)("div",{target:"e11kxm2p1"})({overflow:"hidden",display:"flex",alignItems:"center"},"label:ContentWrapper;")),u=(Object(i.a)(s.a,{target:"e11kxm2p2"})({flexShrink:0,flexGrow:0,width:"40px",height:"40px",borderRadius:"100%",border:0,background:o.a.grey(2),marginRight:"15px",cursor:"pointer"},"label:Avatar;").withComponent("div"),Object(i.a)("div",{target:"e11kxm2p3"})({width:"4px",height:"4px",borderRadius:"100%",background:o.a.grey(3)},"label:Dot;")),l=Object(i.a)("div",{target:"e11kxm2p4"})(Object(a.__assign)({fontSize:"14px",lineHeight:"22px",fontWeight:500,color:o.a.grey(9)},r.l),"label:Title;"),b=Object(i.a)("div",{target:"e11kxm2p5"})(Object(a.__assign)({maxWidth:"50px",marginRight:"5px",color:o.a.grey(5),cursor:"pointer",":hover":{textDecoration:"underline",color:o.a.grey(8)}},r.l),"label:Name;"),p=Object(i.a)("div",{target:"e11kxm2p6"})({display:"flex",alignItems:"center",fontSize:"12px",color:o.a.grey(5),"> div:not(:last-of-type)":{flex:"0 0 auto",marginRight:"10px"}},"label:DetailWrapper;"),j=Object(i.a)("img",{target:"e11kxm2p7"})({flexShrink:0,flexGrow:0,width:"70px",height:"50px",marginRight:"15px",objectFit:"cover",borderRadius:"3px"},"label:Cover;"),O=Object(i.a)("div",{target:"e11kxm2p8"})({overflow:"hidden"},"label:DescWrapper;"),f=Object(i.a)(c.a,{target:"e11kxm2p9"})({display:"flex",color:o.a.grey(6)},"label:BackTab;")},wbrp:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return D})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return ce})),n.d(t,"d",(function(){return ye})),n.d(t,"h",(function(){return ke}));var a,i=n("D57K"),c=n("5Nzd"),o=n("u3dr"),r=n("2wT7"),s=n("9EWH"),d=n("HnWI"),u=n("AouM"),l=n("Jg5f"),b=n("W/Ou"),p=n("RtDN"),j=n("B07F"),O=n("d294"),f=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={isRefreshing:!1,whitelist:[]},n}var n,a,r,f,g;return Object(i.__extends)(t,e),t.prototype.refresh=function(e){var t=this;return e.pipe(Object(u.a)((function(){return t.client.query({query:O.a}).pipe(Object(l.a)((function(e){var n=e.data;return t.getActions()._setWhitelist(n.columnsExternalImgHostWhitelist)})),Object(b.a)(t.getActions()._setIsRefreshing(!0)),Object(p.a)(t.getActions()._setIsRefreshing(!1)))})))},t.prototype._setWhitelist=function(e,t){e.whitelist=t},t.prototype._setIsRefreshing=function(e,t){e.isRefreshing=t},Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object]),Object(i.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"refresh",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof s.Draft&&s.Draft)?r:Object,Array]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setWhitelist",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof s.Draft&&s.Draft)?f:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setIsRefreshing",null),t=Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof j.a&&j.a)?g:Object])],t)}(r.a),g=n("3riI"),_=n("d9YI"),m=n("pN2L"),y=n("eb+u"),v=n("z5yO"),h=n("G2Mx"),x=n("IMYO"),k=n("4HYP"),S=n("roMe");!function(e){e.ExpandReply="ExpandReply"}(a||(a={}));var C,w=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={afterScrollEffects:[],scrollIntoViewAnswerId:null},n.fetchAnswerPageInfo=function(e,t){return function(a){return a.pipe(Object(y.a)(e),Object(u.a)((function(a){var c=a,o=Object(i.__read)(c,2),r=o[0],s=o[1].orderBy,d=r.effects,u=Object(i.__rest)(r,["effects"]);return Object(g.b)([e.pipe(Object(l.a)((function(e){return e.pageSize})),Object(v.a)((function(e){return!!e})),Object(h.a)(1)),n.client.query({query:S.a,variables:Object(i.__assign)(Object(i.__assign)({},u),{orderBy:s}),fetchPolicy:"no-cache"}).pipe(Object(x.a)((function(){return _.a})),Object(l.a)((function(e){return e.data.qaAnswerPageInfo})))]).pipe(Object(k.b)((function(e){var a=Object(i.__read)(e,2),c=a[0],o=a[1],r=Math.ceil((o+1)/c);return Object(m.a)(t(r),n.getActions().setAfterScrollEffects(d),n.getActions().setScrollIntoViewAnswerId(u.answerId))})))})))}},n}var n,a,r;return Object(i.__extends)(t,e),t.prototype.setAfterScrollEffects=function(e,t){e.afterScrollEffects=t},t.prototype.setScrollIntoViewAnswerId=function(e,t){e.scrollIntoViewAnswerId=t},Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof s.Draft&&s.Draft)?n:Object,Array]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setAfterScrollEffects",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof s.Draft&&s.Draft)?a:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setScrollIntoViewAnswerId",null),t=Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof j.a&&j.a)?r:Object])],t)}(r.a),A=n("OXN9"),T=n("34li"),I=n("W4BP"),D=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={replies:[],loading:!0,totalNum:0,pageNum:1},n}var n,a,r,b,p,O;return Object(i.__extends)(t,e),t.prototype.setPageNum=function(e,t){e.pageNum=t},t.prototype.setReplies=function(e,t){var n=t.totalNum,a=t.nodes;e.replies=Object(I.b)(a.map((function(e){return Object(I.f)(e)}))),e.totalNum=n,e.loading=!1},t.prototype.fetchReplies=function(e,t){var n=this;return e.pipe(Object(y.a)(t),Object(u.a)((function(e){var t=Object(i.__read)(e,2),a=t[0],c=t[1].pageNum;return n.client.watchQuery({query:A.a,variables:Object(i.__assign)(Object(i.__assign)({},a),{orderBy:T.Yb.Latest,pageSize:5,pageNum:c-1})}).pipe(Object(x.a)((function(){return _.a})),Object(l.a)((function(e){var t=e.data;return n.getActions().setReplies(t.qaReplies)})))})))},Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof s.Draft&&s.Draft)?n:Object,Number]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setPageNum",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof s.Draft&&s.Draft)?a:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setReplies",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof d.a&&d.a)?r:Object,"function"===typeof(b="undefined"!==typeof d.a&&d.a)?b:Object]),Object(i.__metadata)("design:returntype","function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object)],t.prototype,"fetchReplies",null),t=Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof j.a&&j.a)?O:Object])],t)}(r.a),F=n("/ebn"),R=n("H8sf"),P=n.n(R),q=n("//nZ"),E=n.n(q),L=n("3dHC"),M=n.n(L),N=n("iJR/"),z=n("U3QC"),B=n("3n3h"),Q=n("icD7"),W=n("Pu0A"),H=n.n(W),U=n("xdqw"),G=n("wUZp"),V=n("I6BV"),K=n("fGMb"),$=n("WSJ0"),Y=n("DFG/"),X=n("eQ0Q"),J=n("qhMO"),Z=n("0OXR"),ee=n("L6nh"),te=n("A83I");!function(e){e.Edit="Edit",e.Preview="Preview"}(C||(C={}));var ne=["content"],ae=Object(U.b)("discuss-answer-editor"),ie=function(e){return"draft-"+e},ce=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=oe(null),n}var n,a,r,O,f,g,v,h,x,S,C,w,A,T,D,R,q,L,W,U,ce,re,se,de,ue,le,be,pe,je,Oe,fe,ge,_e,me,ye,ve,he,xe;return Object(i.__extends)(t,e),t.prototype.save=function(e,t){var n=this;return e.pipe(Object(y.a)(t),Object(z.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],a=t[1];if(null===a.uuid&&a.question){var c=P()(E()(a,ne),n);ae.set(ie(a.question.uuid),c)}})),Object(l.a)((function(e){var t=Object(i.__read)(e,1)[0];return n.getActions()._save(t)})))},t.prototype._save=function(e,t){var n=Object(i.__assign)(Object(i.__assign)({},e),t),a=!H()(n,e),c=e.isShowLocalDraftTips&&!a;return Object(i.__assign)(Object(i.__assign)({},n),{hasChanged:a,isShowLocalDraftTips:c})},t.prototype.setContent=function(e,t){e.content=t},t.prototype.setDraft=function(e,t){var n=t.content,a=t.questionUuid;ae.set(ie(a),{content:n}),e.content=n},t.prototype.setAnonymous=function(e,t){e.anonymous=t},t.prototype.setReplyToAnswerId=function(e,t){e.replyToAnswerId=t},t.prototype.setReplyToAuthorName=function(e,t){e.replyToAuthorName=t},t.prototype.setAfterPublishEffect=function(e,t){e.afterPublishEffect=t},t.prototype.switchMode=function(e,t){e.mode=t},t.prototype.toggleFullscreen=function(e){e.isFullscreen=!e.isFullscreen},t.prototype.hideLocalDraftTips=function(e){e.isShowLocalDraftTips=!1},t.prototype.resetEditor=function(e){var t=this;return e.pipe(Object(k.b)((function(){return Object(m.a)(t.getActions()._reset(),t.getActions()._removeDraft())})))},t.prototype._removeDraft=function(e,t){return e.pipe(Object(y.a)(t),Object(z.a)((function(e){var t=Object(i.__read)(e,2)[1].question;t&&ae.remove(ie(t.uuid))})),Object(B.a)(_.a))},t.prototype._reset=function(e){return Object(i.__assign)(Object(i.__assign)({},oe(e.question)),{isShow:!0})},t.prototype.hideEditor=function(e){e.isShow=!1,e.replyToAnswerId=null,e.replyToAuthorName=null,e.afterPublishEffect=null},t.prototype.showEditor=function(e){var t=this;return e.pipe(Object(u.a)((function(e){return t.client.query({query:V.a,variables:{uuid:e}}).pipe(Object(u.a)((function(e){var n=e.data;return n.qaQuestion?Object(m.a)(t.getActions()._showEditor(n.qaQuestion)):_.a})),Object(b.a)(t.getActions()._setIsRestoring(!0)),Object(p.a)(t.getActions()._setIsRestoring(!1)))})))},t.prototype._showEditor=function(e,t){var n=(ae.get(ie(t.uuid))||{}).content,a=void 0===n?"":n;return Object(i.__assign)(Object(i.__assign)({},oe(t)),{isShow:!0,isShowLocalDraftTips:!!a,content:a,replyToAnswerId:e.replyToAnswerId,replyToAuthorName:e.replyToAuthorName,afterPublishEffect:e.afterPublishEffect})},t.prototype.restoreEditor=function(e){var t=this;return e.pipe(Object(u.a)((function(e){return t.client.query({query:K.a,variables:{uuid:e}}).pipe(Object(u.a)((function(e){var n=e.data;return n&&n.qaAnswer?Object(m.a)(t.getActions()._restore(Object(I.f)(n.qaAnswer))):_.a})),Object(G.a)("\u6062\u590d\u7f16\u8f91\u5185\u5bb9\u5931\u8d25"),Object(b.a)(t.getActions()._setIsRestoring(!0)),Object(p.a)(t.getActions()._setIsRestoring(!1)))})))},t.prototype._restore=function(e,t){var n,a,c,o;return Object(i.__assign)(Object(i.__assign)({},oe(t.parent||null)),{isShow:!0,content:t.content,uuid:t.uuid,isPicked:t.picked,anonymous:t.isAnonymous,replyToAnswerId:null!==(a=null===(n=t.replyTo)||void 0===n?void 0:n.uuid)&&void 0!==a?a:null,replyToAuthorName:null!==(o=null===(c=t.replyTo)||void 0===c?void 0:c.author.name)&&void 0!==o?o:null,afterPublishEffect:e.afterPublishEffect})},t.prototype._setIsRestoring=function(e,t){e.isRestoring=t},t.prototype.publish=function(e,t){return this._publish({trigger$:e,state$:t,mutation:$.a})},t.prototype.mock=function(e,t){return this._publish({trigger$:e,state$:t,mutation:Y.a})},t.prototype.update=function(e){var t=this;return e.pipe(Object(u.a)((function(e){return e.pipe(Object(u.a)((function(e){return t.client.mutate({variables:e,mutation:X.a}).pipe(Object(G.a)("\u66f4\u65b0\u8ba8\u8bba\u5931\u8d25"),Object(l.a)((function(e){var t=e.data;return t&&t.qaEditAnswer})),Object(u.a)((function(e){return e&&e.answer?Object(m.a)(t.getActions().hideEditor()):_.a})),Object(b.a)(t.getActions()._setIsSubmitting(!0)),Object(p.a)(t.getActions()._setIsSubmitting(!1)))})))})))},t.prototype._setIsSubmitting=function(e,t){e.isSubmitting=t},t.prototype.addAnswerNodeReplyCount=function(e){var t=this;return e.pipe(Object(z.a)((function(e){var n="QAAnswerNode:"+e;try{var a=t.client.readFragment({id:n,fragmentName:"qaAnswer",fragment:J.a});a&&t.client.writeFragment({id:n,fragment:J.a,fragmentName:"qaAnswer",data:Object(i.__assign)(Object(i.__assign)({},a),{totalRepliesNum:a.totalRepliesNum+1})})}catch(e){}})),Object(Q.a)())},t.prototype._publish=function(e){var t=this,n=e.trigger$,a=e.state$,c=e.mutation;return n.pipe(Object(u.a)((function(e){return e.pipe(Object(u.a)((function(e){return t.client.mutate({variables:e,mutation:c,update:Object(I.a)(/qaAnswerListV2|qaReplies/),refetchQueries:M()([Object(F.n)(Z.a)])}).pipe(Object(G.a)("\u53d1\u5e03\u8ba8\u8bba\u5931\u8d25"),Object(l.a)((function(e){var t=e.data;if(t)return"qaPublishAnswer"in t?t.qaPublishAnswer:"qaOfficialPublishAnswer"in t?t.qaOfficialPublishAnswer:void 0})),Object(y.a)(a),Object(z.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],a=t[1].afterPublishEffect;(null===n||void 0===n?void 0:n.answer)&&(null===a||void 0===a||a(n.answer.uuid))})),Object(u.a)((function(n){var a=Object(i.__read)(n,1)[0];if(a&&a.answer){var c=[t.getActions().hideEditor(),t.getActions()._removeDraft()];return e.data.replyTo&&c.push(t.getActions().addAnswerNodeReplyCount(e.data.replyTo)),Object(N.a)(c)}return _.a})),Object(b.a)(t.getActions()._setIsSubmitting(!0)),Object(p.a)(t.getActions()._setIsSubmitting(!1)))})))})))},Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object,"function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object]),Object(i.__metadata)("design:returntype","function"===typeof(r="undefined"!==typeof d.a&&d.a)?r:Object)],t.prototype,"save",null),Object(i.__decorate)([Object(o.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(O="undefined"!==typeof SaveInput&&SaveInput)?O:Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"_save",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof s.Draft&&s.Draft)?f:Object,String]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setContent",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof s.Draft&&s.Draft)?g:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setDraft",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(v="undefined"!==typeof s.Draft&&s.Draft)?v:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setAnonymous",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(h="undefined"!==typeof s.Draft&&s.Draft)?h:Object,String]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setReplyToAnswerId",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(x="undefined"!==typeof s.Draft&&s.Draft)?x:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setReplyToAuthorName",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof s.Draft&&s.Draft)?S:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setAfterPublishEffect",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(C="undefined"!==typeof s.Draft&&s.Draft)?C:Object,String]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"switchMode",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof s.Draft&&s.Draft)?w:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleFullscreen",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(A="undefined"!==typeof s.Draft&&s.Draft)?A:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"hideLocalDraftTips",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(T="undefined"!==typeof d.a&&d.a)?T:Object]),Object(i.__metadata)("design:returntype","function"===typeof(D="undefined"!==typeof d.a&&d.a)?D:Object)],t.prototype,"resetEditor",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(R="undefined"!==typeof d.a&&d.a)?R:Object,"function"===typeof(q="undefined"!==typeof d.a&&d.a)?q:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_removeDraft",null),Object(i.__decorate)([Object(o.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"_reset",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(L="undefined"!==typeof s.Draft&&s.Draft)?L:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"hideEditor",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(W="undefined"!==typeof d.a&&d.a)?W:Object]),Object(i.__metadata)("design:returntype","function"===typeof(U="undefined"!==typeof d.a&&d.a)?U:Object)],t.prototype,"showEditor",null),Object(i.__decorate)([Object(o.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(ce="undefined"!==typeof ee.QaQuestionDetail&&ee.QaQuestionDetail.QaQuestion)?ce:Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"_showEditor",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(re="undefined"!==typeof d.a&&d.a)?re:Object]),Object(i.__metadata)("design:returntype","function"===typeof(se="undefined"!==typeof d.a&&d.a)?se:Object)],t.prototype,"restoreEditor",null),Object(i.__decorate)([Object(o.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(de="undefined"!==typeof s.Draft&&s.Draft)?de:Object,"function"===typeof(ue="undefined"!==typeof te.Answer&&te.Answer)?ue:Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"_restore",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(le="undefined"!==typeof s.Draft&&s.Draft)?le:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setIsRestoring",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(be="undefined"!==typeof d.a&&d.a)?be:Object,"function"===typeof(pe="undefined"!==typeof d.a&&d.a)?pe:Object]),Object(i.__metadata)("design:returntype","function"===typeof(je="undefined"!==typeof d.a&&d.a)?je:Object)],t.prototype,"publish",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(Oe="undefined"!==typeof d.a&&d.a)?Oe:Object,"function"===typeof(fe="undefined"!==typeof d.a&&d.a)?fe:Object]),Object(i.__metadata)("design:returntype","function"===typeof(ge="undefined"!==typeof d.a&&d.a)?ge:Object)],t.prototype,"mock",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(_e="undefined"!==typeof d.a&&d.a)?_e:Object]),Object(i.__metadata)("design:returntype","function"===typeof(me="undefined"!==typeof d.a&&d.a)?me:Object)],t.prototype,"update",null),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ye="undefined"!==typeof s.Draft&&s.Draft)?ye:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_setIsSubmitting",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ve="undefined"!==typeof d.a&&d.a)?ve:Object]),Object(i.__metadata)("design:returntype","function"===typeof(he="undefined"!==typeof d.a&&d.a)?he:Object)],t.prototype,"addAnswerNodeReplyCount",null),t=Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(xe="undefined"!==typeof j.a&&j.a)?xe:Object])],t)}(r.a);function oe(e){return{isShow:!1,isFullscreen:!1,isSubmitting:!1,isRestoring:!1,hasChanged:!1,isShowLocalDraftTips:!1,mode:C.Edit,question:e,content:"",uuid:null,isPicked:!1,anonymous:!1,replyToAnswerId:null,replyToAuthorName:null,afterPublishEffect:null}}var re=n("DuHN"),se=(n("IJu9"),n("rzNM")),de=n("mlcS"),ue=n("ynm0"),le=n("pNJ9"),be=n("mbTx"),pe=n("3J0q"),je=n("ASxh"),Oe=n("6Hwb"),fe=n("jocQ"),ge=n("rvHU"),_e=n("8S98"),me=n("VxrX"),ye=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={timespan:0},n}var n,a,r,u,l,b,p,O,f,g,y,v,h,x,S,C,w,A,T;return Object(i.__extends)(t,e),t.prototype.setTimeSpan=function(e){e.timespan=+new Date},t.prototype.toggleSunk=function(e){var t=this;return e.pipe(Object(se.a)((function(e){return t.client.mutate({mutation:de.a,variables:e,update:function(e,t){var n,a=t.data;ve(e,null===(n=null===a||void 0===a?void 0:a.qaToggleSunk)||void 0===n?void 0:n.questionAnswer)},fetchPolicy:"no-cache"}).pipe(Object(G.a)(e.sunk?"\u4e0b\u6c89\u5931\u8d25":"\u53d6\u6d88\u4e0b\u6c89\u5931\u8d25"),Object(z.a)((function(){re.b.success(e.sunk?"\u5e16\u5b50\u5df2\u4e0b\u6c89":"\u5e16\u5b50\u5df2\u53d6\u6d88\u4e0b\u6c89")})),Object(k.b)((function(){return Object(m.a)(t.getActions().setTimeSpan())})))})))},t.prototype.togglePinAnswerInQuestion=function(e){var t=this;return e.pipe(Object(se.a)((function(e){return t.client.mutate({mutation:ue.a,variables:e,update:function(e,t){var n,a=t.data;ve(e,null===(n=null===a||void 0===a?void 0:a.qaTogglePinAnswerInQuestion)||void 0===n?void 0:n.answer)},fetchPolicy:"no-cache"}).pipe(Object(G.a)(e.pinned?"\u677f\u5757\u5185\u7f6e\u9876\u5931\u8d25":"\u53d6\u6d88\u677f\u5757\u5185\u7f6e\u9876\u5931\u8d25"),Object(z.a)((function(){e.pinned?(re.b.success("\u5df2\u8bbe\u7f6e\u677f\u5757\u5185\u7f6e\u9876"),me.a.discuss.discussPinAnswerInQuestion(e.answerId)):(re.b.success("\u5df2\u53d6\u6d88\u677f\u5757\u5185\u7f6e\u9876"),me.a.discuss.discussCancelPinAnswerInQuestion(e.answerId))})),Object(k.b)((function(){return Object(m.a)(t.getActions().setTimeSpan())})))})))},t.prototype.deleteAnswer=function(e){var t=this;return e.pipe(Object(se.a)((function(e){var n=e.answerId;return t.client.mutate({mutation:le.a,variables:{uuid:n},update:function(e,t){var n,a=t.data;ve(e,null===(n=null===a||void 0===a?void 0:a.qaDeleteAnswer)||void 0===n?void 0:n.answer)},fetchPolicy:"no-cache"}).pipe(Object(G.a)("\u5220\u9664\u8ba8\u8bba\u5931\u8d25"),Object(z.a)((function(){re.b.success("\u5df2\u5220\u9664\u8ba8\u8bba"),me.a.discuss.discussDeleteArticle(n)})),Object(k.b)((function(){return Object(m.a)(t.getActions().setTimeSpan())})))})))},t.prototype.managementDeleteAnswer=function(e){var t=this;return e.pipe(Object(se.a)((function(e){var n=e.answerId;return t.client.mutate({mutation:be.a,variables:{uuid:n},fallbackErrorMessageForUnknownError:"\u5220\u9664\u8ba8\u8bba\u5931\u8d25",update:function(e,t){var n,a=t.data;ve(e,null===(n=null===a||void 0===a?void 0:a.qaManagementDeleteAnswer)||void 0===n?void 0:n.answer)},fetchPolicy:"no-cache"}).pipe(Object(z.a)((function(){re.b.success("\u5df2\u5220\u9664\u8ba8\u8bba"),me.a.discuss.discussDeleteArticle(n)})),Object(k.b)((function(){return Object(m.a)(t.getActions().setTimeSpan())})))})))},t.prototype.togglePickedAnswer=function(e){var t=this;return e.pipe(Object(se.a)((function(e){return t.client.mutate({mutation:pe.a,variables:e,update:function(e,t){var n,a=t.data;ve(e,null===(n=null===a||void 0===a?void 0:a.qaSetAnswerAsEditorsPick)||void 0===n?void 0:n.answer)},fetchPolicy:"no-cache"}).pipe(Object(G.a)(e.value?"\u8bbe\u4e3a\u7cbe\u9009\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u7cbe\u9009\u5931\u8d25"),Object(z.a)((function(){e.value?(re.b.success("\u5df2\u8bbe\u4e3a\u7cbe\u9009"),me.a.discuss.discussAnswerSetPicked(e.uuid)):(re.b.success("\u5df2\u53d6\u6d88\u7cbe\u9009"),me.a.discuss.discussAnswerCancelSetPicked(e.uuid))})),Object(k.b)((function(){return Object(m.a)(t.getActions().setTimeSpan())})))})))},t.prototype.toggleAnswerReaction=function(e){var t=this;return e.pipe(Object(se.a)((function(e){var n=e.articleId,a=e.reactionType,i=a?je.a:Oe.a,c=a?{articleId:n,reactionType:a}:{articleId:n},o=a?"\u6dfb\u52a0\u8ba8\u8bba\u53cd\u54cd\u5931\u8d25":"\u53d6\u6d88\u8ba8\u8bba\u53cd\u54cd\u5931\u8d25";return t.client.mutate({mutation:i,variables:c,fetchPolicy:"no-cache"}).pipe(Object(G.a)(o),Object(z.a)((function(){a?me.a.discuss.discussAnswerAddReaction(n):me.a.discuss.discussAnswerRemoveReaction(n)})),Object(k.b)((function(){return _.a})))})))},t.prototype.toggleAnswerFavorite=function(e){var t=this;return e.pipe(Object(se.a)((function(e){var n=e.answerId,a=e.favored,i=a?fe.a:ge.a,c=a?"\u6536\u85cf\u8ba8\u8bba\u5931\u8d25":"\u53d6\u6d88\u6536\u85cf\u8ba8\u8bba\u5931\u8d25";return t.client.mutate({mutation:i,variables:{answerId:n},fetchPolicy:"no-cache"}).pipe(Object(G.a)(c),Object(z.a)((function(){a?(re.b.success("\u5df2\u6536\u85cf\u8ba8\u8bba"),me.a.discuss.discussAnswerAddFavorite(n)):(re.b.success("\u5df2\u53d6\u6d88\u6536\u85cf\u8ba8\u8bba"),me.a.discuss.discussAnswerRemoveFavorite(n))})),Object(k.b)((function(){return Object(m.a)(t.getActions().setTimeSpan())})))})))},Object(i.__decorate)([Object(o.a)(),Object(i.__metadata)("design:type","function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object)],t.prototype,"dispose$",void 0),Object(i.__decorate)([Object(o.a)(),Object(i.__metadata)("design:type","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"disposeByToken$",void 0),Object(i.__decorate)([Object(o.a)(),Object(i.__metadata)("design:type","function"===typeof(r="undefined"!==typeof d.a&&d.a)?r:Object)],t.prototype,"disposeSharedAnswer$",void 0),Object(i.__decorate)([Object(o.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof s.Draft&&s.Draft)?u:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setTimeSpan",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof d.a&&d.a)?l:Object]),Object(i.__metadata)("design:returntype","function"===typeof(b="undefined"!==typeof d.a&&d.a)?b:Object)],t.prototype,"toggleSunk",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof d.a&&d.a)?p:Object]),Object(i.__metadata)("design:returntype","function"===typeof(O="undefined"!==typeof d.a&&d.a)?O:Object)],t.prototype,"togglePinAnswerInQuestion",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof d.a&&d.a)?f:Object]),Object(i.__metadata)("design:returntype","function"===typeof(g="undefined"!==typeof d.a&&d.a)?g:Object)],t.prototype,"deleteAnswer",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof d.a&&d.a)?y:Object]),Object(i.__metadata)("design:returntype","function"===typeof(v="undefined"!==typeof d.a&&d.a)?v:Object)],t.prototype,"managementDeleteAnswer",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(h="undefined"!==typeof d.a&&d.a)?h:Object]),Object(i.__metadata)("design:returntype","function"===typeof(x="undefined"!==typeof d.a&&d.a)?x:Object)],t.prototype,"togglePickedAnswer",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof d.a&&d.a)?S:Object]),Object(i.__metadata)("design:returntype","function"===typeof(C="undefined"!==typeof d.a&&d.a)?C:Object)],t.prototype,"toggleAnswerReaction",null),Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof d.a&&d.a)?w:Object]),Object(i.__metadata)("design:returntype","function"===typeof(A="undefined"!==typeof d.a&&d.a)?A:Object)],t.prototype,"toggleAnswerFavorite",null),t=Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(T="undefined"!==typeof j.a&&j.a)?T:Object])],t)}(r.a);function ve(e,t){if(t){var n="LeetbookPickedDiscussionNode:"+t.uuid,a=e.readFragment({id:n,fragment:_e.a,fragmentName:"leetbookPickedDiscussion"});a&&e.writeFragment({id:n,fragment:_e.a,fragmentName:"leetbookPickedDiscussion",data:Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},a),t),{__typename:"LeetbookPickedDiscussionNode"})})}}var he=n("fgzu"),xe=n("f9L7"),ke=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={},n}var n,a,r;return Object(i.__extends)(t,e),t.prototype.setFeaturedRequest=function(e){var t=this;return e.pipe(Object(se.a)((function(e){return t.client.mutate({mutation:xe.a,variables:e}).pipe(Object(G.a)("\u7533\u8bf7\u63d0\u4ea4\u5931\u8d25"),Object(z.a)((function(){return he.a.success("\u7533\u8bf7\u63d0\u4ea4\u6210\u529f")})),Object(k.b)((function(){return _.a})))})))},Object(i.__decorate)([Object(o.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof d.a&&d.a)?n:Object]),Object(i.__metadata)("design:returntype","function"===typeof(a="undefined"!==typeof d.a&&d.a)?a:Object)],t.prototype,"setFeaturedRequest",null),t=Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof j.a&&j.a)?r:Object])],t)}(r.a)},yoUK:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var a=n("D57K"),i=n("jg1C"),c=n("3I8i"),o=(n("IJu9"),n("K/af")),r=n("MwrP"),s=n.n(r),d=n("ERkP"),u=n.n(d),l=n("zCf4"),b=n("daAW"),p=n("YnR9"),j=n("ZRwv"),O=n("1QlS"),f=n("mQQu"),g=n("v43y"),_=n("ttV/"),m=n("JFCy"),y=n("ildc"),v=n("l1SX"),h=n("Pigy"),x=n("Blax"),k=n("2pK+"),S=n("+Aeu"),C=n("+75L"),w=n("nXSc"),A=n("jWBs"),T=n("9KnD"),I=n("A+MG"),D=n("34li"),F=n("VxrX"),R=n("r2qc"),P=n("+0ST"),q=n("mH2o"),E=n("jta8"),L=n("GlVj"),M=u.a.memo((function(e){var t=Object(L.a)(e);return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(R.b,Object(a.__assign)({},t,{onClickComment:e.onClickComment,wrapperIsLayerBg:!0}),void 0)},void 0)})),N=n("yqT4"),z=p.a.main.paths,B=function(){var e=window.location.href.match(/\/article\/[^/]+\/comments\/(\d+)/);return e&&e[1]},Q=function(){var e,t=Object(l.i)(),n=Object(l.k)().articleId,r=B(),L=Object(a.__read)(Object(o.a)(q.b),2),Q=L[0],W=L[1],H=Object(a.__read)(Object(o.a)(j.a),1)[0].globalData,U=Object(a.__read)(Object(o.a)(q.c),2)[1].dispose$,G=Object(A.a)().getUsernameConfigs,V=Q.detail,K=Q.loading,$=Q.status,Y=Q.userSlug,X=V||{},J=X.topicId,Z=X.lastCommentCreatedAtInSec,ee=X.title,te=X.cover,ne=X.content,ae=X.viewCount,ie=X.createdAt,ce=X.updatedAt,oe=X.relatedTags,re=X.subject,se=X.nextArticle,de=X.pinnedGlobally,ue=X.pinned,le=X.picked,be=X.official,pe=X.summary,je=X.author,Oe=X.ipRegion,fe=u.a.useMemo((function(){var e=[];return(ue||de)&&e.push({name:"\u7f6e\u9876",slug:"sticky",kind:"blue",clickable:!1}),be&&e.push({name:"\u5b98\u65b9",slug:"official",kind:"yellow",clickable:!1}),le&&e.push({name:"\u7cbe\u9009",slug:"picked",kind:"green",clickable:!1}),e.concat(oe)}),[ue,de,be,le,oe]),ge=Object(a.__read)(Object(d.useState)(!1),2),_e=ge[0],me=ge[1],ye=Object(a.__read)(Object(O.a)(!!r),3),ve=ye[0],he=ye[2],xe=Object(d.useCallback)((function(e){ve&&e>160&&me(!0)}),[ve]);Object(d.useEffect)((function(){var e;if($&&![D.o.Deleted,D.o.Removed,D.o.Offline].includes($)&&(![D.o.Pending,D.o.Prepublish,D.o.Checking].includes($)||Y===(null===(e=null===H||void 0===H?void 0:H.userStatus)||void 0===e?void 0:e.userSlug)))return W.getDetail(n),function(){W.resetStore(),W.dispose$(),U()}}),[$]),Object(d.useEffect)((function(){return W.getDetailStatus(n),function(){W.resetStore(),W.dispose$(),U()}}),[n]),Object(d.useEffect)((function(){Object(f.b)(),window.scrollTo({top:0})}),[]),Object(d.useEffect)((function(){var e=null===je||void 0===je?void 0:je.slug;G([e])}),[null===je||void 0===je?void 0:je.slug,G]);var ke=Object(d.useCallback)((function(e){var n=e.slug,a=e.tagType;F.a.discuss.discussClickTag(n),a&&t.push(Object(g.a)({tagType:a,slug:n}))}),[t]),Se=Object(d.useMemo)((function(){return{cancelComment:function(){return F.a.discuss.discussArticleCancelComment(n)},deleteComment:function(e){return F.a.discuss.discussArticleDeleteComment(n,e)},cancelDeleteComment:function(e){return F.a.discuss.discussArticleCancelDeleteComment(n,e)},confirmDeleteComment:function(e){return F.a.discuss.discussArticleConfirmDeleteComment(n,e)},submitComment:function(e,t){return F.a.discuss.discussArticleSubmitComment(e,t,n)}}}),[n]),Ce=Object(d.useCallback)((function(){F.a.discuss.discussClickNextArticle()}),[]),we=Object(_.a)([V],(function(e){var t=Object(a.__read)(e,1)[0];return Object(S.j)(t.author.name,z.discuss.articleDetail({articleId:n}))})),Ae=Object(d.useCallback)((function(){var e=document.getElementById("comment-box-ele");null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"}),c.a.timeline().add({targets:e,duration:3600,delay:300,begin:function(){null===e||void 0===e||e.classList.add(I.e)},complete:function(){null===e||void 0===e||e.classList.remove(I.e)}})}),[]);return K||!$?Object(i.jsx)(N.b,{children:Object(i.jsx)(v.a,{height:"100%"},void 0)},void 0):$===D.o.Offline?Object(i.jsx)(R.o,{slug:n},void 0):[D.o.Pending,D.o.Prepublish,D.o.Checking].includes($)&&Y!==(null===(e=null===H||void 0===H?void 0:H.userStatus)||void 0===e?void 0:e.userSlug)?Object(i.jsx)(R.s,{},void 0):s()(V)?Object(i.jsx)(N.b,{children:Object(i.jsx)(h.a,{type:"img",size:m.c,description:"\u6587\u7ae0\u4e0d\u5b58\u5728"},void 0)},void 0):V.status===D.o.Deleted?Object(i.jsx)(l.b,{to:z.discuss.home({subjectSlug:C.l})},void 0):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(T.a,{url:"https://leetcode.cn"+z.discuss.articleDetail({articleId:n}),title:ee,image:te,description:pe.replace(/\s+/g," "),keywords:oe.map((function(e){return e.name})),pubDate:ie,upDate:ce||ie,lrDate:Z?new Date(1e3*Z).toISOString():void 0},void 0),Object(y.q)()?Object(i.jsx)(P.b,Object(a.__assign)({},V,{articleId:n}),void 0):Object(i.jsxs)(N.c,{children:[Object(i.jsx)(N.i,{type:"article",detailTitle:ee,currentSubject:re},void 0),Object(i.jsxs)(x.a,{children:[te&&Object(i.jsx)(N.a,{imgUrl:te},void 0),Object(i.jsx)(R.j,{title:ee,author:je,createdAt:ie,updatedAt:ce,viewNum:ae,ipRegion:Oe},void 0),Object(i.jsxs)(E.h,Object(a.__assign)({collapsed:ve,maxHeight:215},{children:[Object(i.jsx)(k.a,Object(a.__assign)({onChange:xe},{children:Object(i.jsx)(N.j,Object(a.__assign)({onCopy:we,rootFontSize:16},{children:ne}),void 0)}),void 0),_e&&Object(i.jsx)(E.m,Object(a.__assign)({onClick:he},{children:"\u70b9\u51fb\u67e5\u770b\u5b8c\u6574\u5185\u5bb9"}),void 0)]}),void 0),Object(i.jsx)(M,Object(a.__assign)({uuid:n},V,{onClickComment:Ae}),void 0),Object(i.jsx)(R.d,{tags:fe,onTagClick:ke},void 0),Object(i.jsxs)(N.f,{children:[se&&se.uuid&&Object(i.jsx)(b.a,Object(a.__assign)({to:z.discuss.articleDetail({articleId:se.uuid}),onClick:Ce},{children:Object(i.jsx)(N.d,{children:"\u4e0b\u4e00\u7bc7: "+se.title},void 0)}),void 0),Object(i.jsx)(w.a,Object(a.__assign)({content:"\xa9 \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709"},{children:Object(i.jsx)(N.g,{children:"\xa9 \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709"},void 0)}),void 0)]},void 0)]},void 0),J&&Object(i.jsx)(R.l,{id:J,backPath:p.a.main.paths.discuss.articleDetail({articleId:n}),sharedCommentId:B(),tracker:Se},void 0)]},void 0)]},void 0)}},yqT4:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return y}));var a=n("D57K"),i=n("TMWK"),c=n("fgAA"),o=n("pqRN"),r=n("lDJ/"),s=n("T/5y"),d=n("TuLi"),u=n("r2qc"),l=Object(i.a)("div",{target:"e113kpeu0"})((function(e){var t=e.imgUrl;return{backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"cover",backgroundImage:'url("'+encodeURI(t)+'")',height:"200px",width:"700px",marginTop:"20px"}}),"label:Cover;"),b=Object(i.a)("div",{target:"e113kpeu1"})({marginTop:"20px",marginBottom:"30px",minHeight:"20px",fontSize:"12px",position:"relative"},"label:Row;"),p=Object(i.a)("div",{target:"e113kpeu2"})(Object(a.__assign)({color:c.a.grey(5),maxWidth:"200px"},o.l),"label:NextTitle;"),j=Object(i.a)("div",{target:"e113kpeu3"})({color:c.a.grey(5),position:"absolute",top:0,right:0},"label:Statement;"),O=Object(i.a)("div",{target:"e113kpeu4"})({width:"700px"},"label:DetailWrapper;"),f=Object(i.a)("div",{target:"e113kpeu5"})(s.a.layer1,{padding:"7px 15px",marginTop:"20px",paddingTop:"27px",borderTop:"1px solid "+c.b.Border()},"label:OperationWrapper;"),g=Object(i.a)(u.k,{target:"e113kpeu6"})({border:0,padding:0,height:"100%",marginTop:"10px"},"label:StyledDetailHeader;"),_=Object(i.a)(r.a,{target:"e113kpeu7"})({marginTop:"25px",padding:0,".highlight pre, pre":{fontSize:14}},"label:StyledMarkdown;"),m=Object(i.a)("div",{target:"e113kpeu8"})({width:"100%",height:"550px"},"label:DefaultWrapper;"),y=Object(i.a)(d.a,{target:"e113kpeu9"})({margin:"40px auto 40px"},"label:StyledArticleReward;")},yxrP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n("TMWK"),i=n("daAW"),c=n("fgAA"),o=n("hMUt"),r=n("Po8h"),s=Object(a.a)(r.d,{target:"e1d9sgfx0"})({margin:"0 8px",transition:"none"},"label:CompactOperationButton;"),d=Object(a.a)(s,{target:"e1d9sgfx1"})((function(e){return{margin:"0 8px",transition:"none",color:e.isFavorited?c.b.BrandOrange():c.b.LabelTertiary(),"&:hover > svg":{color:c.b.BrandOrange()},"&:hover > span":{color:c.b.BrandOrange()}}}),"label:CompactOperationOrangeButton;"),u=Object(a.a)(i.a,{target:"e1d9sgfx2"})({color:c.b.BaseGrey6(),display:"inline-flex",alignItems:"center",margin:"0 8px",svg:{marginRight:"4px"},"&:hover, &:active":{color:c.b.BlueStandard()}},"label:OperationLink;"),l=Object(a.a)(o.b,{target:"e1d9sgfx3"})({marginLeft:"auto",marginRight:"16px",lineHeight:"22px"},"label:QuestionReplyButton;")},zF28:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return S}));var a=n("D57K"),i=n("K/af"),c=n("H8sf"),o=n.n(c),r=n("ERkP"),s=n("zCf4"),d=n("YnR9"),u=n("xqpu"),l=n("UqMZ"),b=n("34li"),p=n("VxrX"),j=n("wbrp"),O=d.a.main.paths,f=function(e,t,n){var i=e.slug,c=e.uuid,o=e.author,r=e.reactionType,s=e.reactionsV2,d=e.favored,u=e.picked,j=e.parent,f=e.articleType,g=e.identifier,_=e.resourceType,m=e.pinned,y=e.sunk,v=e.canEdit,h=e.favoriteCount,x=e.status,k=o&&o.slug,S=n.userSlug===k;return{reactionV2:Object(a.__assign)({articleId:c,onReact:function(e){var n=e.reactedWith,a=e.articleId,i=e.prevReactedWith,c=i&&n===i?void 0:n;t.toggleAnswerReaction({articleId:a,reactionType:c})},reactedWith:r},s&&s.length?{countMap:new Map(s.map((function(e){return[e.reactionType,e.count]})))}:{}),favor:{favored:d,favoriteCount:h,toggleFavorite:l.a.ensureSignedIn((function(){t.toggleAnswerFavorite({answerId:c,favored:!d})}),{user:n})},share:{link:"https://leetcode.cn"+O.discuss.viewShare({discussId:j.uuid,viewId:c}),onClick:function(){return p.a.discuss.discussShareAnswer(c)}},extraButton:{uuid:c,canEdit:v,isAuthor:S,type:f,resourceId:g,resourceType:_,status:x,requestToFeatured:function(){t.setFeaturedRequest({slug:i,resourceType:b.eb.Reply})},onDelete:function(){return n.isAdmin?t.managementDeleteAnswer({questionId:j.uuid,answerId:c}):t.deleteAnswer({questionId:j.uuid,answerId:c})},pin:{text:"\u8ba8\u8bba\u5185\u7f6e\u9876",pinnedInSubject:m,togglePinnedInSubject:function(){return t.togglePinAnswerInQuestion({answerId:c,pinned:!m})}},sink:{sunk:y,toggleSunk:function(){return t.toggleSunk({uuid:c,sunk:!y})}},selection:{picked:u,togglePicked:function(){return t.togglePickedAnswer({uuid:c,value:!u})}}}}},g=function(e){var t=Object(s.i)(),n=Object(a.__read)(Object(i.a)(j.d),2)[1],c=Object(a.__read)(Object(i.a)(j.h),2)[1].setFeaturedRequest,o=Object(r.useContext)(u.d),d=f(e,Object(a.__assign)(Object(a.__assign)({},n),{setFeaturedRequest:c}),o),l=e.uuid,b=e.parent,p={reply:{count:e.totalRepliesNum,onReply:function(){return t.push(O.discuss.viewCommentShare({discussId:b.uuid,viewId:l}))}}};return Object(r.useMemo)((function(){return Object(a.__assign)(Object(a.__assign)({},d),p)}),[e,o])},_=function(e){var t=e.answer,n=e.onEdit,c=e.onReply,s=e.isReplyExpanded,d=Object(a.__read)(Object(i.a)(j.d),2)[1],l=Object(a.__read)(Object(i.a)(j.h),2)[1].setFeaturedRequest,b=Object(r.useContext)(u.d),p=f(t,Object(a.__assign)(Object(a.__assign)({},d),{setFeaturedRequest:l}),b),O={extraButton:{onEdit:n},reply:c&&{isExpanded:s,count:t.totalRepliesNum,onReply:c}};return Object(r.useMemo)((function(){return o()({},p,O)}),[t,n,c,b])};function m(){var e=Object(a.__read)(Object(i.a)(j.c),2),t=e[0].isShow,n=e[1];return Object(r.useCallback)((function(e){t?n.hideEditor():n.restoreEditor(e)}),[t,n])}var y=n("ehcH");function v(e){var t=Object(a.__read)(Object(i.a)(j.c),2),n=t[0].isShow,c=t[1],o=Object(r.useContext)(u.d),s=Object(y.b)();return Object(r.useCallback)((function(t,a,i){l.a.ensurePhoneVerified(s((function(){n?c.hideEditor():requestAnimationFrame((function(){c.showEditor(e),c.setReplyToAnswerId(t),c.setReplyToAuthorName(a),c.setAfterPublishEffect(i)}))})),{user:o})()}),[s,n,c,e,o])}function h(e){var t=e.qaQuestionUuid,n=e.fetchAnswerPageInfo,c=e.onReply,o=Object(a.__read)(Object(i.a)(j.c),2),s=o[0].isShow,d=o[1],b=Object(r.useContext)(u.d),p=Object(y.b)();return l.a.ensurePhoneVerified(p((function(){null===c||void 0===c||c(),s?d.hideEditor():requestAnimationFrame((function(){d.setAfterPublishEffect((function(e){n({answerId:e,effects:[]})})),d.setReplyToAuthorName(null),d.setDraft({questionUuid:t,content:""}),d.showEditor(t)}))})),{user:b})}var x=n("jg1C"),k=n("+SGW");function S(){var e=Object(r.useRef)(null),t=Object(r.useCallback)((function(){e.current&&Object(k.default)(e.current,{block:"center"})}),[e]);return[Object(x.jsx)("div",{ref:e},void 0),t]}},"zS4/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n("6q4e"),i=n("TMWK"),c=n("6LfN"),o=Object(i.a)("div",{target:"e1wdmlsf0"})({position:"relative",width:"100%"},"label:ContentWrapper;"),r=Object(i.a)("div",{shouldForwardProp:a.a,target:"e1wdmlsf1"})((function(e){return e.isLoading?{zIndex:1}:{zIndex:-1}}),{position:"absolute",top:0,right:0,bottom:0,left:0},"label:LoadingWrapper;"),s=Object(i.a)("div",{shouldForwardProp:a.a,target:"e1wdmlsf2"})((function(e){return e.isLoading?{opacity:.5,filter:"blur(0.5px)",pointerEvents:"none",userSelect:"none",overflow:"hidden",transition:"opacity 0.3s"}:{}}),"label:RowWrapper;"),d=Object(i.a)("div",{target:"e1wdmlsf3"})({height:"68px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"center"},"label:LoadWrapper;"),u=Object(i.a)("div",{target:"e1wdmlsf4"})({width:"100%",height:"550px"},"label:DefaultWrapper;"),l=Object(i.a)("div",{target:"e1wdmlsf5"})({width:"100%",minHeight:"550px","> *:first-child":{borderRadius:"3px 3px 0 0"},"> *:last-child":{borderRadius:"0 0 3px 3px"},"> *:not(:first-child)":c.a.level2((function(e){return{borderTop:"1px solid "+e}}))},"label:ListWrapper;")}}]);