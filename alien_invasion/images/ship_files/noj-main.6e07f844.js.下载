(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[84],{"4YUL":function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var n,i=a("D57K"),r=a("DuHN"),o=(a("IJu9"),a("pE6G")),c=a("cLgN"),s=a("nUi0"),u=a("0Spe"),d=a("FWdR"),l=a("q/oC"),p=a("SpHq"),b=a("pN2L"),j=a("gQst"),g=a("HnWI"),_=a("rzNM"),O=a("mhnT"),f=a("U3QC"),m=a("4HYP"),y=a("z5yO"),h=a("Jg5f"),v=a("eb+u"),A=a("AouM"),S=a("R+ki"),x=a("W/Ou"),w=a("B07F"),L=a("w+fZ"),E=a("l8fx"),k=a("wUZp"),P=a("P6sJ"),F=a("GGvj"),C=a("U1OO"),D=a("jjbn"),T=a("bf6q"),I=a("q2Xj");!function(e){e.Form="form",e.Success="success"}(n||(n={}));var q=function(e){function t(t,a,i){var r=e.call(this)||this;return r.client=t,r.logger=a,r.axios=i,r.defaultState={contest:{hasRegistered:!1,sponsors:[],contests:[],titleSlug:"",loading:!0,description:"",rules:"",awards:"",disclosure:"",detailUrl:"",registrationClosingTime:0,subtitle:"",titleCn:"",startTime:0},collegeList:{list:[],loading:!0},signUpModal:{signUpStep:n.Form,selectedCollege:null,visible:!1},popularityList:{list:[],sharedCollegeName:null,searchStr:"",searchedList:[],loading:!1,upvotedIds:new Set},rankList:{list:[],loading:!1}},r}var a,p,q,R,M,N,U,W,z,B,H,Q,Y,G,V,J,K,Z;return Object(i.__extends)(t,e),t.prototype.getContest=function(e){var t=this;return e.pipe(Object(_.a)((function(e){return t.client.query({query:P.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(O.a)(t.dispose$),Object(f.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get contest error",{errors:a})})),Object(m.b)((function(a){var n=a.data;return Object(b.a)(t.createAction("finish")({data:n}),t.createActionFrom(t.getCollegeList)(e),t.createActionFrom(t.updateSignUpStepWithRegisterStatus)(n.contestGroup.hasRegistered))})),Object(k.a)("get contest http error"))})))},t.prototype.getCollegeList=function(e,t){var a=this,n=e.pipe(Object(_.a)((function(e){return a.client.query({query:F.a,variables:{contestGroupSlug:e},fetchPolicy:"cache-first"}).pipe(Object(f.a)((function(e){var t=e.errors;t&&(a.logger.error("fetch college list error ",{errors:t}),r.b.error("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5"))})),Object(y.a)((function(e){return!e.errors})),Object(h.a)((function(e){return e.data.allSchoolInfoUrl})))})),Object(O.a)(this.dispose$)),o=t.pipe(Object(h.a)((function(e){return e.userStatus})));return n.pipe(Object(v.a)(o),Object(_.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1];return a.axios.get(n,{withCredentials:!(!r||!r.isAdmin)})})),Object(m.b)((function(e){return Object(b.a)(a.createAction("finish")(e),a.createActionFrom(a.getPopularityList)(e))})))},t.prototype.getPopularityList=function(e,t){var a=this,n=t.pipe(Object(h.a)((function(e){return e.collegeContest.contest.titleSlug})));return e.pipe(Object(v.a)(n),Object(A.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],r=t[1];return a.client.query({query:C.a,variables:{contestGroupSlug:r},fetchPolicy:"network-only"}).pipe(Object(f.a)((function(e){var t=e.errors;a.logger.if(!!t).error("get popularity list error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return a.createAction("finish")({collegeList:n,data:t.contestGroupSchoolStats})})),Object(k.a)("get popularity list http error"))})))},t.prototype.searchPopularityList=function(e){return Object(j.a)(e.pipe(Object(h.a)(this.createAction("setSearchStr"))),e.pipe(Object(S.a)(500),Object(h.a)(this.createAction("search")))).pipe(Object(O.a)(this.dispose$))},t.prototype.setPopularityOrderBySharedCollege=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{sharedCollegeName:a})})},t.prototype.updateLogo=function(e){var t=this;return e.pipe(Object(_.a)((function(e){var a=e.id,n=e.logo;return t.client.mutate({mutation:D.a,variables:{schoolId:a,url:n}}).pipe(Object(f.a)((function(e){var a=e.errors;t.logger.if(!!a).error("upload college logo error",{errors:a})})),Object(k.a)("upload college logo http error"),Object(h.a)((function(){return t.createAction("finish")({id:a,logo:n})})))})))},t.prototype.confirmSchoolLogo=function(e){var t=this;return e.pipe(Object(_.a)((function(e){return t.client.mutate({mutation:T.a,variables:{schoolId:e}}).pipe(Object(f.a)((function(e){var a=e.errors;t.logger.if(!!a).error("confirm college logo error",{errors:a})})),Object(k.a)("confirm college logo http error"),Object(h.a)((function(){return t.createAction("finish")(e)})))})))},t.prototype.upvoteSchool=function(e,t){var a=this,n=t.pipe(Object(h.a)((function(e){return e.collegeContest.contest.titleSlug})));return e.pipe(Object(v.a)(n),Object(_.a)((function(e){var t=Object(i.__read)(e,2),n=t[0],o=t[1];return a.client.mutate({mutation:I.a,variables:{schoolId:n,contestGroupSlug:o}}).pipe(Object(f.a)((function(e){var t=e.errors;a.logger.if(!!t).error("confirm college logo error",{errors:t})})),Object(f.a)((function(e){var t=e.data;t.contestUserUpvoteSchool.msg&&r.b.info(t.contestUserUpvoteSchool.msg)})),Object(y.a)((function(e){var t=e.data;return!e.errors&&!t.contestUserUpvoteSchool.error})),Object(h.a)((function(e){return e.data.contestUserUpvoteSchool.msg?a.createAction("exist")(n):a.createAction("finish")(n)})),Object(k.a)("confirm college logo http error"))})))},t.prototype.showSignUpModal=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{visible:!0})})},t.prototype.hideSignUpModal=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{visible:!1})})},t.prototype.setSignUpModalSelectedCollege=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{selectedCollege:t.payload||null})})},t.prototype.updateSignUpStepWithRegisterStatus=function(e,t){return t.payload?Object(i.__assign)(Object(i.__assign)({},e),{signUpModal:Object(i.__assign)(Object(i.__assign)({},e.signUpModal),{signUpStep:n.Success,loading:!1})}):e},t.prototype.getRankList=function(e){var t=this;return e.pipe(Object(_.a)((function(e){return t.axios.get("/contest/api/contest_group/"+e+"/ranking?pagination=1").pipe(Object(h.a)((function(e){var a=e.submissions,n=e.total_rank,i=n?n.slice(0,20).map((function(e){var t=e.rank,n=e.username,i=e.school_name,r=e.score,o=e.total_time_used;return{rank:t,name:n,school:i,count:a?Object.keys(a[t]).length:0,score:r,usedTime:Math.round(o)}})):[];return t.createAction("finish")({list:i})})),Object(x.a)(t.createAction("loading")()),Object(k.a)("\u83b7\u53d6\u6392\u540d\u5217\u8868\u5931\u8d25"))})))},Object(i.__decorate)([Object(c.a)(),Object(i.__metadata)("design:type","function"===typeof(a="undefined"!==typeof g.a&&g.a)?a:Object)],t.prototype,"dispose$",void 0),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;if(!a.data)return e;var n=a.data.contestGroup,r=n.contests;return Object(i.__assign)(Object(i.__assign)({},e),{contest:Object(i.__assign)(Object(i.__assign)({},n),{contests:Object(i.__spread)(r).sort((function(e,t){return e.startTime-t.startTime})),loading:!1})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof g.a&&g.a)?p:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getContest",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return a?Object(i.__assign)(Object(i.__assign)({},e),{collegeList:{list:a,loading:!1}}):e}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(q="undefined"!==typeof g.a&&g.a)?q:Object,"function"===typeof(R="undefined"!==typeof u.a&&u.a)?R:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getCollegeList",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a,n=t.payload,r=n.collegeList,o=n.data,c=new Map(Object(i.__spread)(o).map((function(e){return[e.schoolId,Object(i.__assign)({},e)]}))),s=r.filter((function(e){var t=e.id;return c.has(t)})).map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),c.get(e.id))})).sort((function(e,t){return t.upvoteCount-e.upvoteCount})).map((function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{order:t+1})})),u=e.popularityList.sharedCollegeName,d=u?s.filter((function(e){return e.name!==u||(a=e,!1)})):s;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{loading:!1,list:Object(i.__spread)(a?[a]:[],d)})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(M="undefined"!==typeof g.a&&g.a)?M:Object,"function"===typeof(N="undefined"!==typeof u.a&&u.a)?N:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getPopularityList",null),Object(i.__decorate)([Object(s.a)({setSearchStr:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{searchStr:a||"",loading:!0})})},search:function(e,t){var a=t.payload;return a?Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{searchedList:e.popularityList.list.filter((function(e){return e.name.includes(a)})),loading:!1})}):Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{searchedList:[],loading:!1})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(U="undefined"!==typeof g.a&&g.a)?U:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"searchPopularityList",null),Object(i.__decorate)([Object(d.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(W="undefined"!==typeof o.Action&&o.Action)?W:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setPopularityOrderBySharedCollege",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{list:e.popularityList.list.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{logo:a.logo}):e})),searchedList:e.popularityList.searchedList.length?e.popularityList.searchedList.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{logo:a.logo}):e})):[]})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof g.a&&g.a)?z:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"updateLogo",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{list:e.popularityList.list.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{logo:e.logoUserLatestUpload,logoUserLatestUpload:""}):e})),searchedList:e.popularityList.searchedList.length?e.popularityList.searchedList.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{logo:e.logoUserLatestUpload,logoUserLatestUpload:""}):e})):[]})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof g.a&&g.a)?B:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"confirmSchoolLogo",null),Object(i.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload,n=new Set(Object(i.__spread)(e.popularityList.upvotedIds,[a]));return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{list:e.popularityList.list.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{upvoteCount:e.upvoteCount+1}):e})),upvotedIds:n})})},exist:function(e,t){var a=t.payload,n=new Set(Object(i.__spread)(e.popularityList.upvotedIds,[a]));return Object(i.__assign)(Object(i.__assign)({},e),{popularityList:Object(i.__assign)(Object(i.__assign)({},e.popularityList),{upvotedIds:n})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof g.a&&g.a)?H:Object,"function"===typeof(Q="undefined"!==typeof u.a&&u.a)?Q:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"upvoteSchool",null),Object(i.__decorate)([Object(d.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"showSignUpModal",null),Object(i.__decorate)([Object(d.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"hideSignUpModal",null),Object(i.__decorate)([Object(d.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(Y="undefined"!==typeof o.Action&&o.Action)?Y:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setSignUpModalSelectedCollege",null),Object(i.__decorate)([Object(d.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(G="undefined"!==typeof o.Action&&o.Action)?G:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"updateSignUpStepWithRegisterStatus",null),Object(i.__decorate)([Object(s.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{rankList:Object(i.__assign)(Object(i.__assign)({},e.rankList),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{rankList:{list:a.list,loading:!1}})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(V="undefined"!==typeof g.a&&g.a)?V:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getRankList",null),t=Object(i.__decorate)([Object(l.a)("CollegeContest"),Object(i.__metadata)("design:paramtypes",["function"===typeof(J="undefined"!==typeof w.a&&w.a)?J:Object,"function"===typeof(K="undefined"!==typeof L.a&&L.a)?K:Object,"function"===typeof(Z="undefined"!==typeof E.a&&E.a)?Z:Object])],t)}(p.a)},"5J51":function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n={};a.r(n),a.d(n,"desktopMinWidth",(function(){return j})),a.d(n,"desktopMaxWidth",(function(){return g})),a.d(n,"mobileMinWidth",(function(){return _})),a.d(n,"mobileMaxWidth",(function(){return O}));var i={};a.r(i),a.d(i,"mobileDisplay",(function(){return f})),a.d(i,"desktopDisplay",(function(){return m}));var r,o,c,s=a("D57K"),u=a("jg1C"),d=a("TMWK"),l=a("ERkP"),p=a("DWJo"),b=a.n(p),j="1032px",g="1220px",_="320px",O="600px",f="@media (max-width: "+n.mobileMaxWidth+")",m="@media (max-width: "+n.desktopMaxWidth+")",y=a("eCyH"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.render=function(){return window.location.pathname.startsWith("/problemset/")?(setTimeout((function(){return window.location.reload()}),500),null):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(y.a,{},void 0),Object(u.jsxs)(v,{children:[Object(u.jsx)(A,{src:b.a},void 0),Object(u.jsx)(S,{children:Object(u.jsxs)(x,{children:[Object(u.jsx)("h2",{children:"\u9875\u9762\u4e0d\u5b58\u5728"},void 0),Object(u.jsx)("p",{children:"\u62b1\u6b49\uff01\u6211\u4eec\u627e\u4e0d\u5230\u60a8\u60f3\u8bbf\u95ee\u7684\u9875\u9762..."},void 0)]},void 0)},void 0)]},void 0)]},void 0)},t}(l.PureComponent),v=Object(d.a)("div",{target:"ehzuaf30"})(((r={display:"flex",flexDirection:"row",justifyContent:"center",maxWidth:n.desktopMaxWidth,margin:"200px auto"})[i.mobileDisplay]={margin:"40 20",flexDirection:"column"},r),"label:Wrapper;"),A=Object(d.a)("img",{target:"ehzuaf31"})(((o={width:270,height:"auto",display:"block",marginRight:20,alignSelf:"center"})[i.mobileDisplay]={width:"100%",marginRight:0},o),"label:NotFoundImg;"),S=Object(d.a)("div",{target:"ehzuaf32"})(((c={display:"flex"})[i.mobileDisplay]={width:"100%",marginTop:20},c),"label:NotFoundInfo;"),x=Object(d.a)("div",{target:"ehzuaf33"})({alignSelf:"center",button:{marginTop:20}},"label:VerticalMiddleDiv;")},"5PYC":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/leetcode-bottom.055257c1.png"},"7gRm":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/success.bb3c1269.svg"},"8g9W":function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a("D57K"),i=a("pE6G"),r=a("cLgN"),o=a("nUi0"),c=a("0Spe"),s=a("FWdR"),u=a("q/oC"),d=a("SpHq"),l=a("HnWI"),p=a("z5yO"),b=a("Q7Gm"),j=a("eb+u"),g=a("AouM"),_=a("U3QC"),O=a("Jg5f"),f=a("W/Ou"),m=a("rzNM"),y=a("R+ki"),h=a("B07F"),v=a("w+fZ"),A=a("wUZp"),S=a("ejgJ"),x=a("YrHu"),w=a("oFzR"),L=a("cl3B"),E=a("nLNW"),k=a("mzra"),P=a("eKGS"),F=a("gAJM"),C=a("+syZ"),D=a("NON7"),T=10,I=function(e){function t(t,a){var n=e.call(this)||this;return n.client=t,n.logger=a,n.defaultState={articleList:{articles:[],totalNum:0,pageNo:1,pageSize:T,loading:!0},draftList:{drafts:[],loading:!0,totalNum:0,pageNo:1,pageSize:T},searchedArticleList:{keyword:"",articles:[],totalNum:0,pageNo:1,pageSize:T,loading:!0},draftDeletingStatus:{loading:!1,ok:null}},n}var a,d,I,q,R,M,N,U,W,z,B,H,Q,Y,G,V,J,K;return Object(n.__extends)(t,e),t.prototype.getArticleList=function(e,t){var a=this,i=t.pipe(Object(p.a)((function(e){return!!e.userStatus})),Object(b.a)("userStatus","userSlug"));return e.pipe(Object(j.a)(i),Object(g.a)((function(e){var t=Object(n.__read)(e,2),i=t[0],r=t[1];return a.client.query({query:S.a,variables:{userSlug:r,skip:i?i.skip:0,first:i?i.first:T,query:i?i.query:""},fetchPolicy:"network-only"}).pipe(Object(_.a)((function(e){var t=e.errors;a.logger.if(!!t).error("fetch article list error",{errors:t})})),Object(O.a)(a.createAction("finish")),Object(A.a)("fetch article http error"),Object(f.a)(a.createAction("loading")()))})))},t.prototype.searchArticles=function(e,t){var a=this,i=t.pipe(Object(p.a)((function(e){return!!e.userStatus})),Object(b.a)("userStatus","userSlug"));return e.pipe(Object(j.a)(i),Object(g.a)((function(e){var t=Object(n.__read)(e,2),i=t[0],r=i.skip,o=void 0===r?0:r,c=i.first,s=void 0===c?T:c,u=i.query,d=void 0===u?"":u,l=t[1];return a.client.query({query:S.a,variables:{userSlug:l,skip:o,first:s,query:d},fetchPolicy:"network-only"}).pipe(Object(_.a)((function(e){var t=e.errors;a.logger.if(!!t).error("fetch article list error",{errors:t})})),Object(O.a)(a.createAction("finish")),Object(A.a)("fetch article http error"),Object(f.a)(a.createAction("loading")(d)))})))},t.prototype.setSearchedArticlesKeyword=function(e,t){var a=t.payload;return""===a.keyword?Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:{keyword:"",articles:[],totalNum:0,pageNo:1,pageSize:T,loading:!0}}):Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{keyword:a.keyword})})},t.prototype.setPageInfo=function(e,t){var a=t.payload;return"drafts"===a.tabViewType?Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{pageNo:a.page,pageSize:a.pageSize})}):e.searchedArticleList.keyword?Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{pageNo:a.page,pageSize:a.pageSize})}):Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{pageNo:a.page,pageSize:a.pageSize})})},t.prototype.getDraftList=function(e){var t=this;return e.pipe(Object(g.a)((function(e){return t.client.query({query:x.a,variables:{skip:e?e.skip:0,first:e?e.first:T},fetchPolicy:"network-only"}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch draft list error",{errors:a})})),Object(A.a)("fetch draft http error"),Object(O.a)(t.createAction("finish")),Object(f.a)(t.createAction("loading")()))})))},t.prototype.deleteDraft=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var a=e.slug;return t.client.mutate({mutation:w.a,variables:{slug:a}}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("delete error",{errors:a})})),Object(A.a)("delete draft http error"),Object(O.a)(t.createAction("finish")),Object(f.a)(t.createAction("loading")()))})))},t.prototype.resetDraftDeletingStatus=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!1,ok:null}})},t.prototype.upvoteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:L.a,variables:{articleSlug:e}}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("upvote an article error",{errors:a})})),Object(O.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("upvote an article http error"))})))},t.prototype.cancelUpvoteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:E.a,variables:{articleSlug:e}}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("cancel upvote an article error",{errors:a})})),Object(O.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("cancel upvote an article http error"))})))},t.prototype.addFavoriteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:k.a,variables:{data:{articleSlug:e}}}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("mark an article as favorite error",{errors:a})})),Object(O.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("mark an article as favorite http error"))})))},t.prototype.removeFavoriteArticle=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:P.a,variables:{data:{articleSlug:e}}}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("unmark an article as favorite error",{errors:a})})),Object(O.a)((function(){return t.createActionFrom(t.getArticle)(e)})),Object(A.a)("unmark an article as favorite http error"))})))},t.prototype.getArticle=function(e){var t=this;return e.pipe(Object(m.a)((function(e){return t.client.query({query:F.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get an article error",{errors:a})})),Object(A.a)("get an article http error"),Object(O.a)(t.createAction("update")))})))},t.prototype.addReaction=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){var a=e.articleSlug,n=e.articleId,i=e.reactionType;return t.client.mutate({mutation:C.a,variables:{articleId:n,reactionType:i}}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("add or update reaction error",{errors:a})})),Object(A.a)("add or update reaction http error"),Object(O.a)((function(){return t.createActionFrom(t.getArticle)(a)})))})))},t.prototype.removeReaction=function(e){var t=this;return e.pipe(Object(y.a)(300),Object(m.a)((function(e){var a=e.articleSlug,n=e.articleId;return t.client.mutate({mutation:D.a,variables:{articleId:n}}).pipe(Object(_.a)((function(e){var a=e.errors;t.logger.if(!!a).error("remove reaction error",{errors:a})})),Object(A.a)("remove reaction http error"),Object(O.a)((function(){return t.createActionFrom(t.getArticle)(a)})))})))},Object(n.__decorate)([Object(r.a)(),Object(n.__metadata)("design:type","function"===typeof(a="undefined"!==typeof l.a&&l.a)?a:Object)],t.prototype,"disposeSearch$",void 0),Object(n.__decorate)([Object(o.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{totalNum:0,loading:!0})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{articles:[],totalNum:0,loading:!1})});var i=a.data.solutionArticles.edges.map((function(e){return e.node}));return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{articles:i,totalNum:a.data.solutionArticles.totalNum,loading:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof l.a&&l.a)?d:Object,"function"===typeof(I="undefined"!==typeof c.a&&c.a)?I:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getArticleList",null),Object(n.__decorate)([Object(o.a)({loading:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{totalNum:0,keyword:a,loading:!0})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{articles:[],totalNum:0,loading:!1})});var i=a.data.solutionArticles.edges.map((function(e){return e.node}));return Object(n.__assign)(Object(n.__assign)({},e),{searchedArticleList:Object(n.__assign)(Object(n.__assign)({},e.searchedArticleList),{articles:i,totalNum:a.data.solutionArticles.totalNum,loading:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(q="undefined"!==typeof l.a&&l.a)?q:Object,"function"===typeof(R="undefined"!==typeof c.a&&c.a)?R:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"searchArticles",null),Object(n.__decorate)([Object(s.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object,"function"===typeof(M="undefined"!==typeof i.Action&&i.Action)?M:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setSearchedArticlesKeyword",null),Object(n.__decorate)([Object(s.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object,"function"===typeof(N="undefined"!==typeof i.Action&&i.Action)?N:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setPageInfo",null),Object(n.__decorate)([Object(o.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{loading:!0})})},finish:function(e,t){var a=t.payload;return a.errors?Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{drafts:[],loading:!1,totalNum:0})}):Object(n.__assign)(Object(n.__assign)({},e),{draftList:Object(n.__assign)(Object(n.__assign)({},e.draftList),{drafts:a.data.solutionDrafts.edges.map((function(e){return e.node})),loading:!1,totalNum:a.data.solutionDrafts.totalNum})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(U="undefined"!==typeof l.a&&l.a)?U:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getDraftList",null),Object(n.__decorate)([Object(o.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!0,ok:null}})},finish:function(e,t){var a=t.payload;return a.errors||a.data&&a.data.deleteArticle.error?Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!1,ok:!1}}):Object(n.__assign)(Object(n.__assign)({},e),{draftDeletingStatus:{loading:!1,ok:!0}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(W="undefined"!==typeof l.a&&l.a)?W:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"deleteDraft",null),Object(n.__decorate)([Object(s.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"resetDraftDeletingStatus",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof l.a&&l.a)?z:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"upvoteArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof l.a&&l.a)?B:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"cancelUpvoteArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof l.a&&l.a)?H:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"addFavoriteArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(Q="undefined"!==typeof l.a&&l.a)?Q:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"removeFavoriteArticle",null),Object(n.__decorate)([Object(o.a)({update:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{articleList:Object(n.__assign)(Object(n.__assign)({},e.articleList),{articles:e.articleList.articles.map((function(e){return e.slug===a.data.solutionArticle.slug?a.data.solutionArticle:e}))})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(Y="undefined"!==typeof l.a&&l.a)?Y:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getArticle",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(G="undefined"!==typeof l.a&&l.a)?G:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"addReaction",null),Object(n.__decorate)([Object(o.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(V="undefined"!==typeof l.a&&l.a)?V:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"removeReaction",null),t=Object(n.__decorate)([Object(u.a)("ArticleList"),Object(n.__metadata)("design:paramtypes",["function"===typeof(J="undefined"!==typeof h.a&&h.a)?J:Object,"function"===typeof(K="undefined"!==typeof v.a&&v.a)?K:Object])],t)}(d.a)},DWJo:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/404_face.f3f9717f.png"},OESz:function(e,t,a){"use strict";a.d(t,"b",(function(){return O})),a.d(t,"a",(function(){return f}));var n=a("lXyA"),i=a.n(n),r=a("ERkP"),o=a.n(r),c=a("0cIN"),s=a("Cc9O"),u=a("iJR/"),d=a("U3QC"),l=a("4S5C"),p=a("z5yO"),b=a("G2Mx"),j=a("12aA"),g=a("tg+i"),_=i()((function(){var e=Object(c.a)(2e3).pipe(Object(d.a)((function(){return console.warn("loading timeout")}))),t=g.a.pipe(Object(l.a)((function(e,t){return e+t})),Object(p.a)((function(e){return 0===e})));return Object(s.a)(t,e).pipe(Object(b.a)(1),Object(j.a)(null)).toPromise()})),O=function(e,t){o.a.useEffect((function(){var t=Object(u.a)(_()).subscribe(e);return function(){return t.unsubscribe()}}),t)},f=function(){_().then((function(){var e=document.querySelector("#initial-loading"),t=document.querySelector("#initial-loading-style");window.prerenderReady=!0,e&&t&&(e.setAttribute("data-is-hide","true"),e.addEventListener("transitionend",(function(){e.parentNode.removeChild(e),t.parentNode.removeChild(t)})))}))}},X4a2:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var n=a("YnR9"),i=n.a.main.PATH,r=n.a.main.paths;n.a.legacy.PATH},Z3gL:function(e,t,a){e.exports={wrapper:"wrapper__1LqY",bg:"bg__32T7",logoWrapper:"logoWrapper__1fu_",logo:"logo__2sVI",footer:"footer__2qQR"}},as1A:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("D57K"),i=a("9EWH"),r=a("nUi0"),o=a("q/oC"),c=a("SpHq"),s=a("pN2L"),u=a("HnWI"),d=a("rzNM"),l=a("Jg5f"),p=a("W/Ou"),b=a("R+ki"),j=a("AouM"),g=a("IMYO"),_=a("wUZp"),O=a("B07F"),f=a("/BBW"),m=a("hDkH"),y=a("9Jtd"),h=a("YgSO"),v=function(e){function t(t){var a=e.call(this)||this;return a.client=t,a.defaultState={unifiedNotification:{loading:!0,configs:[]},updateLoading:!1,privacyContact:{loading:!0,status:!1}},a}var a,c,v,A,S;return Object(n.__extends)(t,e),t.prototype.fetchUnifiedNotificationSetting=function(e){var t=this;return e.pipe(Object(d.a)((function(){return t.client.query({query:f.a,fetchPolicy:"network-only"}).pipe(Object(_.a)("\u83b7\u53d6\u901a\u77e5\u8bbe\u7f6e\u5931\u8d25",!0),Object(l.a)(t.createAction("finish")),Object(p.a)(t.createAction("loading")()))})))},t.prototype.updateUnifiedNotificationSetting=function(e){var t=this;return e.pipe(Object(b.a)(500),Object(j.a)((function(e){return t.client.mutate({mutation:m.a,variables:e,fallbackErrorMessageForUnknownError:"\u66f4\u6539\u901a\u77e5\u8bbe\u7f6e\u5931\u8d25"}).pipe(Object(l.a)((function(a){var n,i=a.data;return t.createAction("finish")({ok:!!(null===(n=i.updateUnifiedNotificationSettings)||void 0===n?void 0:n.result),variables:e})})),Object(p.a)(t.createAction("loading")()),Object(g.a)((function(){return Object(s.a)(t.createAction("error")())})))})))},t.prototype.getPrivacySetting=function(e){var t=this;return e.pipe(Object(d.a)((function(){return t.client.query({query:y.a,fetchPolicy:"network-only"}).pipe(Object(_.a)("\u83b7\u53d6\u9690\u79c1\u8bbe\u7f6e\u5931\u8d25",!0),Object(l.a)(t.createAction("finish")),Object(p.a)(t.createAction("loading")()))})))},t.prototype.togglePrivacyContact=function(e){var t=this;return e.pipe(Object(d.a)((function(e){return t.client.mutate({mutation:h.a,variables:{fieldName:"contact",value:e?0:1}}).pipe(Object(_.a)("\u66f4\u6539\u9690\u79c1\u8bbe\u7f6e\u5931\u8d25"),Object(l.a)(t.createAction("finish")),Object(p.a)(t.createAction("updating")(e)))})))},Object(n.__decorate)([Object(r.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{unifiedNotification:Object(n.__assign)(Object(n.__assign)({},e.unifiedNotification),{loading:!0})})},finish:function(e,t){var a,i=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{unifiedNotification:{loading:!1,configs:null===(a=i.data.notificationUnifiedSettings)||void 0===a?void 0:a.settings}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof u.a&&u.a)?a:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"fetchUnifiedNotificationSetting",null),Object(n.__decorate)([Object(r.a)({finish:function(e,t){var a=t.payload,r=a.ok,o=a.variables;if(r){var c=Object(i.b)(e.unifiedNotification.configs,(function(e){var t=e.find((function(e){return e.identifier===o.configs[0].identifier}));t&&(t.enabledChannels=o.configs[0].enabledChannels)}));return Object(n.__assign)(Object(n.__assign)({},e),{updateLoading:!1,unifiedNotification:Object(n.__assign)(Object(n.__assign)({},e.unifiedNotification),{configs:c})})}return e},loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updateLoading:!0})},error:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updateLoading:!1})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof u.a&&u.a)?c:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"updateUnifiedNotificationSetting",null),Object(n.__decorate)([Object(r.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:Object(n.__assign)(Object(n.__assign)({},e.privacyContact),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:{loading:!1,status:a.data.user.profile.privacyContact}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(v="undefined"!==typeof u.a&&u.a)?v:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getPrivacySetting",null),Object(n.__decorate)([Object(r.a)({updating:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:Object(n.__assign)(Object(n.__assign)({},e.privacyContact),{status:!a})})},finish:function(e,t){var a=t.payload.data.updateProfile;return a&&a.ok?e:Object(n.__assign)(Object(n.__assign)({},e),{privacyContact:Object(n.__assign)(Object(n.__assign)({},e.privacyContact),{status:!e.privacyContact.status})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(A="undefined"!==typeof u.a&&u.a)?A:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"togglePrivacyContact",null),t=Object(n.__decorate)([Object(o.a)("notificationSetting"),Object(n.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof O.a&&O.a)?S:Object])],t)}(c.a)},c17E:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"h",(function(){return j})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return g})),a.d(t,"f",(function(){return _})),a.d(t,"g",(function(){return O})),a.d(t,"i",(function(){return f})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return y}));var n,i,r,o,c,s,u,d,l=a("fgAA"),p=a("34li");!function(e){e.Accepted="\u5df2\u901a\u8fc7\u9898\u76ee",e.Failed="\u63d0\u4ea4\u672a\u901a\u8fc7\u9898\u76ee",e.Untouched="\u672a\u5f00\u59cb\u9898\u76ee"}(d||(d={}));var b,j=[[d.Accepted],[d.Failed],[d.Untouched]];!function(e){e.EASY="\u7b80\u5355",e.MEDIUM="\u4e2d\u7b49",e.HARD="\u56f0\u96be"}(b||(b={}));var g=((n={})[d.Failed]=((i={sum:l.a.red(5,.6)})[b.EASY]=l.a.red(5,.3),i[b.MEDIUM]=l.a.red(5,.6),i[b.HARD]=l.a.red(5,.9),i),n[d.Accepted]=((r={sum:l.a.green(5,.6)})[b.EASY]=l.a.green(5,.3),r[b.MEDIUM]=l.a.green(5,.6),r[b.HARD]=l.a.green(5,.9),r),n[d.Untouched]=((o={sum:l.a.grey(7,.6)})[b.EASY]=l.a.grey(7,.3),o[b.MEDIUM]=l.a.grey(7,.6),o[b.HARD]=l.a.grey(7,.9),o),n),_={lastSubmittedAt:p.yc.LastSubmittedAt,translatedTitle:p.yc.QuestionFrontendId,numSubmitted:p.yc.NumSubmitted},O={descend:p.zc.Descending,ascend:p.zc.Ascending},f=((c={})[d.Accepted]=p.Bc.Accepted,c[d.Failed]=p.Bc.Failed,c[d.Untouched]=p.Bc.Untouched,c),m=((s={})[b.EASY]=p.Q.Easy,s[b.MEDIUM]=p.Q.Medium,s[b.HARD]=p.Q.Hard,s[p.Q.Easy]=b.EASY,s[p.Q.Medium]=b.MEDIUM,s[p.Q.Hard]=b.HARD,s),y=((u={})[p.Q.Easy]=l.a.green(5),u[p.Q.Medium]=l.a.yellow(5),u[p.Q.Hard]=l.a.red(5),u)},e7Ho:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("11Hm"),i=Object(n.a)()},eSY7:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a("D57K"),i=a("nUi0"),r=a("q/oC"),o=a("SpHq"),c=a("HnWI"),s=a("rzNM"),u=a("Jg5f"),d=a("W/Ou"),l=a("wUZp"),p=a("B07F"),b=a("7Rih"),j=a("qNii"),g=function(e){function t(t){var a=e.call(this)||this;return a.client=t,a.defaultState={optedIn:{loading:!0,status:!0}},a}var a,o,g;return Object(n.__extends)(t,e),t.prototype.getBetaParticipation=function(e){var t=this;return e.pipe(Object(s.a)((function(){return t.client.query({query:b.a,fetchPolicy:"network-only"}).pipe(Object(l.a)("\u83b7\u53d6\u4f53\u9a8c\u8ba1\u5212\u8bbe\u7f6e\u5931\u8d25"),Object(u.a)(t.createAction("finish")),Object(d.a)(t.createAction("loading")()))})))},t.prototype.toggleBetaParticipation=function(e){var t=this;return e.pipe(Object(s.a)((function(e){return t.client.mutate({mutation:j.a,variables:{optIn:!e}}).pipe(Object(l.a)("\u66f4\u6539\u4f53\u9a8c\u8ba1\u5212\u5931\u8d25",!0),Object(u.a)(t.createAction("finish")),Object(d.a)(t.createAction("updating")(e)))})))},Object(n.__decorate)([Object(i.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{optedIn:Object(n.__assign)(Object(n.__assign)({},e.optedIn),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{optedIn:{loading:!1,status:a.data.userStatus.optedIn}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof c.a&&c.a)?a:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getBetaParticipation",null),Object(n.__decorate)([Object(i.a)({updating:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{optedIn:Object(n.__assign)(Object(n.__assign)({},e.optedIn),{status:!a})})},finish:function(e,t){var a=t.payload.data.updateBetaParticipation;return a&&a.ok?e:Object(n.__assign)(Object(n.__assign)({},e),{optedIn:Object(n.__assign)(Object(n.__assign)({},e.optedIn),{status:!e.optedIn.status})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof c.a&&c.a)?o:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleBetaParticipation",null),t=Object(n.__decorate)([Object(r.a)("labSetting"),Object(n.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof p.a&&p.a)?g:Object])],t)}(o.a)},hlut:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var n=a("D57K"),i=a("pu3o"),r=a.n(i),o=a("pE6G"),c=a("FWdR"),s=a("nUi0"),u=a("q/oC"),d=a("SpHq"),l=a("cQOC"),p=a("pN2L"),b=a("d9YI"),j=a("HnWI"),g=a("AouM"),_=a("Jg5f"),O=a("W/Ou"),f=a("rzNM"),m=a("U3QC"),y=a("IMYO"),h=a("wUZp"),v=a("0zhb"),A=a("B07F"),S=a("w+fZ"),x=a("l8fx"),w=a("34li"),L=a("pAGl"),E=a("5Iq4"),k=a("0b5n"),P=a("V/Iy"),F=a("Pceu"),C=a("1oQP"),D=a("1JcH"),T=a("MzPZ"),I=a("LAP3"),q=a("PATG");function R(e,t,a){if(!Array.isArray(e)||!e.length)return e;var n=e.findIndex((function(e){return e.email===t}));return Object(q.a)(e,n,a)}a("nDih");var M=a("3PBV"),N=a.n(M);var U=function(e){function t(t,a,i){var r=e.call(this)||this;return r.client=t,r.logger=a,r.axios=i,r.defaultState={user:{loading:!0,username:"",emails:[],socialAccounts:[],phone:"",countryCode:"",usAccount:{synced:!1,transferStatus:w.Pc.Created},profile:{userSlug:""}},updatingUsername:{editing:!1,loading:!1,error:null},updatingEmails:Object(n.__assign)(Object(n.__assign)({},{editing:!1,loading:!1,error:null}),{updatingPrimary:!1}),updatingPhone:{editing:!1,loading:!1,error:null}},r}var a,i,d,q,M,U,W,z,B,H,Q,Y,G,V;return Object(n.__extends)(t,e),t.prototype.toggleUsernameEditor=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingUsername:{editing:!e.updatingUsername.editing,loading:!1,error:null}})},t.prototype.getUserSetting=function(e){var t=this;return e.pipe(Object(g.a)((function(){return Object(l.a)([t.client.query({query:L.a,fetchPolicy:"no-cache"}).pipe(Object(h.a)("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25",!0),Object(_.a)((function(e){return e.data.user}))),t.client.query({query:E.a,fetchPolicy:"no-cache"}).pipe(Object(h.a)("\u83b7\u53d6\u7f8e\u56fd\u7ad9\u8d26\u53f7\u4fe1\u606f\u5931\u8d25",!0),Object(_.a)((function(e){return e.data.userStatus})))]).pipe(Object(_.a)(t.createAction("finish")),Object(O.a)(t.createAction("loading")()))})))},t.prototype.updateUsername=function(e){var t=this;return e.pipe(Object(f.a)((function(e){return t.client.mutate({mutation:k.a,variables:{username:e}}).pipe(Object(h.a)("\u4fee\u6539\u7528\u6237 ID \u5931\u8d25"),Object(_.a)(t.createAction("finish")),Object(O.a)(t.createAction("updating")()))})))},t.prototype.toggleEmailEditor=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:Object(n.__assign)(Object(n.__assign)({},e.updatingEmails),{editing:!e.updatingEmails.editing})})},t.prototype.createEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.email,n=e.callback;return function(e){return!N()({email:e},{email:{email:!0}})}(a)?t.client.mutate({mutation:P.a,variables:{email:a}}).pipe(Object(h.a)("\u6dfb\u52a0\u90ae\u7bb1\u5931\u8d25"),Object(m.a)((function(e){var t=e.data;t&&t.createEmail&&t.createEmail.ok&&n()})),Object(_.a)(t.createAction("finish")),Object(O.a)(t.createAction("creating")())):Object(p.a)(t.createAction("setEmailWrong")())})))},t.prototype.setPrimaryEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.email,n=e.id;return t.client.mutate({mutation:F.a,variables:{emailId:n}}).pipe(Object(h.a)("\u8bbe\u7f6e\u4e3b\u90ae\u7bb1\u5931\u8d25",!0),Object(_.a)((function(e){var n=e.data;return t.createAction("finish")({email:a,ok:n&&n.updateEmailPrimary&&n.updateEmailPrimary.ok})})),Object(O.a)(t.createAction("updating")()))})))},t.prototype.deleteEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.email,n=e.id;return t.client.mutate({mutation:C.a,variables:{emailId:n}}).pipe(Object(h.a)("\u5220\u9664\u90ae\u7bb1\u5931\u8d25",!0),Object(_.a)((function(e){var n=e.data;return t.createAction("finish")({email:a,deleted:n&&n.deleteEmail&&n.deleteEmail.ok})})),Object(O.a)(t.createAction("deleting")(a)))})))},t.prototype.setVerificationEmailSentState=function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:R(e.user.emails,a.email,{verificationMailSent:a.state,verificationMailEverSent:!0})})})},t.prototype.sendVerificationEmail=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.email,n=e.id,i=e.callback;return t.client.mutate({mutation:D.a,variables:{emailId:n}}).pipe(Object(h.a)("\u53d1\u9001\u90ae\u7bb1\u9a8c\u8bc1\u5931\u8d25",!0),Object(_.a)((function(e){var n=e.data;return n&&n.sendVerificationEmail&&n.sendVerificationEmail.ok?(i(),t.createActionFrom(t.setVerificationEmailSentState)({email:a,state:!0})):t.createAction("error")()})))})))},t.prototype.togglePhoneEditor=function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingPhone:{editing:!e.updatingPhone.editing,loading:!1,error:null}})},t.prototype.sendVerificationSMS=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.input,n=e.callback;return t.axios.post("/api/send_verification_sms/",{data:r.a.stringify(a),headers:{"X-CSRFToken":Object(v.a)()}}).pipe(Object(m.a)((function(){n({ok:!0,error:null})})),Object(y.a)((function(e){return e.response&&e.response.data&&(n({ok:!1,error:e.response.data.Message}),t.logger.error("\u53d1\u9001\u9a8c\u8bc1\u7801\u5931\u8d25",{error:e.response.data.Message})),b.a})),Object(_.a)(t.createAction("finish")))})))},t.prototype.updatePhone=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.input,n=e.callback;return t.axios.post("/api/phone_update/",{data:a,contentType:"application/json",headers:{"X-CSRFToken":Object(v.a)()}}).pipe(Object(m.a)((function(e){e.success&&n({ok:!0,error:null})})),Object(y.a)((function(e){return e.response&&e.response.data&&(t.logger.error("\u66f4\u6539\u624b\u673a\u53f7\u5931\u8d25",{error:e.response.data.error}),n({ok:!1,error:e.response.data.error,code:e.response.status})),b.a})),Object(_.a)((function(){return t.createAction("finish")({countryCode:a.country_code2||"86",phone:a.phone2})})))})))},t.prototype.validateCode=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.input,n=e.callback;return t.client.mutate({mutation:T.a,variables:a}).pipe(Object(h.a)("\u624b\u673a\u9a8c\u8bc1\u7801\u9a8c\u8bc1\u5931\u8d25",!0),Object(m.a)((function(e){var t=e.data;t&&t.validatePhoneCode&&n&&n(t.validatePhoneCode)})),Object(_.a)(t.createAction("finish")))})))},t.prototype.disconnectSocialAccount=function(e){var t=this;return e.pipe(Object(f.a)((function(e){var a=e.provider,n=e.onError;return t.client.mutate({mutation:I.a,variables:{provider:a}}).pipe(Object(h.a)("\u89e3\u9664\u793e\u4ea4\u8d26\u53f7\u5173\u8054\u5931\u8d25"),Object(_.a)((function(e){var i=e.data;if(i&&i.deleteSocial)return!i.deleteSocial.ok&&n(i.deleteSocial.error),t.createAction("finish")({provider:a,ok:i.deleteSocial.ok})})))})))},Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleUsernameEditor",null),Object(n.__decorate)([Object(s.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{loading:!0})})},finish:function(e,t){var a,i=t.payload,r=Object(n.__read)(i,2),o=r[0],c=r[1];return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e.user),null!==o&&void 0!==o?o:{}),{phone:null===o||void 0===o?void 0:o.displayPhone,emails:null===o||void 0===o?void 0:o.displayEmails,usAccount:Object(n.__assign)(Object(n.__assign)({},e.user.usAccount),null!==(a=null===c||void 0===c?void 0:c.usAccount)&&void 0!==a?a:{}),loading:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof j.a&&j.a)?a:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getUserSetting",null),Object(n.__decorate)([Object(s.a)({updating:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingUsername:{loading:!0,error:null,editing:!0}})},finish:function(e,t){var a=t.payload.data.updateUsername;return a&&a.ok?Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{username:a.username}),updatingUsername:{loading:!1,error:null,editing:!1}}):Object(n.__assign)(Object(n.__assign)({},e),{updatingUsername:{loading:!1,error:a.error||a.warning,editing:!0}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof j.a&&j.a)?i:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"updateUsername",null),Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleEmailEditor",null),Object(n.__decorate)([Object(s.a)({setEmailWrong:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:{loading:!1,editing:!0,error:"\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef"}})},creating:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:{loading:!0,editing:!0,error:null}})},finish:function(e,t){var a=t.payload.data.createEmail;return a&&a.ok?Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:e.user.emails.concat(Object(n.__assign)(Object(n.__assign)({},a.email),{verificationMailEverSent:!0,verificationMailSent:!0,newEmail:!0}))}),updatingEmails:{loading:!1,error:null,editing:!0}}):Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:{loading:!1,error:a.error,editing:!0}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof j.a&&j.a)?d:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"createEmail",null),Object(n.__decorate)([Object(s.a)({updating:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{updatingEmails:Object(n.__assign)(Object(n.__assign)({},e.updatingEmails),{updatingPrimary:!0})})},finish:function(e,t){var a=t.payload,i=e.user.emails;if(a.ok){var r=i.find((function(e){return e.primary}));r&&(i=R(i,r.email,{primary:!1})),i=R(i,a.email,{primary:!0})}return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:i}),updatingEmails:Object(n.__assign)(Object(n.__assign)({},e.updatingEmails),{updatingPrimary:!1})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(q="undefined"!==typeof j.a&&j.a)?q:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setPrimaryEmail",null),Object(n.__decorate)([Object(s.a)({deleting:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:R(e.user.emails,a,{deleting:!0})})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{emails:R(e.user.emails,a.email,a.deleted?void 0:{deleting:!1})})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(M="undefined"!==typeof j.a&&j.a)?M:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"deleteEmail",null),Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object,"function"===typeof(U="undefined"!==typeof o.Action&&o.Action)?U:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"setVerificationEmailSentState",null),Object(n.__decorate)([Object(s.a)({error:function(e){return e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(W="undefined"!==typeof j.a&&j.a)?W:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"sendVerificationEmail",null),Object(n.__decorate)([Object(c.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",[Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"togglePhoneEditor",null),Object(n.__decorate)([Object(s.a)({finish:function(e){return e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(z="undefined"!==typeof j.a&&j.a)?z:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"sendVerificationSMS",null),Object(n.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{countryCode:a.countryCode,phone:a.phone}),updatingPhone:{error:null,loading:!1}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(B="undefined"!==typeof j.a&&j.a)?B:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"updatePhone",null),Object(n.__decorate)([Object(s.a)({finish:function(e){return e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(H="undefined"!==typeof j.a&&j.a)?H:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"validateCode",null),Object(n.__decorate)([Object(s.a)({finish:function(e,t){var a=t.payload;return a.ok?Object(n.__assign)(Object(n.__assign)({},e),{user:Object(n.__assign)(Object(n.__assign)({},e.user),{socialAccounts:e.user.socialAccounts.filter((function(e){return e!==a.provider}))})}):e}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(Q="undefined"!==typeof j.a&&j.a)?Q:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"disconnectSocialAccount",null),t=Object(n.__decorate)([Object(u.a)("accountSetting"),Object(n.__metadata)("design:paramtypes",["function"===typeof(Y="undefined"!==typeof A.a&&A.a)?Y:Object,"function"===typeof(G="undefined"!==typeof S.a&&S.a)?G:Object,"function"===typeof(V="undefined"!==typeof x.a&&x.a)?V:Object])],t)}(d.a)},pLYI:function(e,t,a){"use strict";a.r(t);var n,i=a("D57K"),r=a("jg1C"),o=(a("Hi6G"),a("edC2"),a("DT1n"),a("Iuju"),a("xQOt"),a("qzOT"),a("5Zow"),a("9AbT"),a("M8rD"),a("5Nzd")),c=a("7xuC"),s=(a("S+Hq"),a("q7mc")),u=a.n(s),d=a("d2jy"),l=a("K/af"),p=a("I5TG"),b=a("BQ33"),j=a.n(b),g=a("9EWH"),_=(a("YVYN"),a("ERkP")),O=a.n(_),f=a("gwLK"),m=a("7nmT"),y=a.n(m),h=a("x+QU"),v=a.n(h),A=a("wR8M"),S=a("uDfI"),x=a("fgAA"),w=a("zO7S"),L=a("gd5h"),E=a("SrEh"),k=a("7K/1"),P=a("AZgR"),F=a("Qj05"),C=a("q7Y+"),D=a("1kga"),T=a("haH4"),I=(a("kDNs"),a("Mp0c"),a("f7k3")),q=a("pu3o"),R=a.n(q),M=a("zCf4"),N=a("9OUN"),U=a("sYqU"),W=a("/i2p"),z=a("w+fZ"),B=a("7naZ"),H=a("xqpu"),Q=a("jIGg"),Y=a("Mm5S"),G=a("5J51"),V=a("X4a2"),J=a("dTXi"),K=a("KQty"),Z=a("fisi"),$=a("9KnD"),X=a("RYJp"),ee=a("QnRR"),te=a("ildc"),ae=a("Bamy"),ne=a("kI3w"),ie=a("7T/4"),re=a("TMWK"),oe=Object(re.a)("div",{target:"ejahpg10"})({display:"flex",flexDirection:"column",flex:"1 1 auto",width:"100%","&::before":{content:'" "',flex:"0.618 0 30px"},"&::after":{content:'" "',flex:"1 0 30px"}},"label:SignInPageRoot;"),ce=Object(re.a)("div",{target:"ejahpg11"})(((n={width:"384px",borderRadius:"21px",background:x.a.grey(0),boxShadow:"0px 1px 2px "+x.b.fixed.Black(.1)+", 0px 10px 22px "+x.b.fixed.Black(.16),border:"1px solid "+x.a.grey(3),margin:"0 auto"})[x.c]={background:x.b.Layer2(),boxShadow:"0px 1px 2px "+x.b.fixed.Black(.3)+", 0px 12px 24px "+x.b.fixed.Black(.72)+";"},n),"label:SignInBox;"),se="fake-host",ue=[se,/leetcode-cn\.com$/,/lingkou\.xyz$/],de=function(e){var t=new RegExp("https://c-pay.lingkou.com/premium-payment/?");return e&&t.test(String(e))},le=function(e){var t=new RegExp("/accounts/login/?");return e&&t.test(String(e))};function pe(e){var t=function(){var e=R.a.parse(window.location.search.substr(1)),t=e.next,a=Object(i.__rest)(e,["next"]),n=Object(M.i)(),r="string"===typeof t?decodeURIComponent(t):"",o=!1;function c(){r="/",o=!0}try{var s;s=r.startsWith("/")?new URL("https://fake-host"+r):new URL(r),ue.some((function(e){return"string"===typeof e?e===s.hostname:e.test(s.hostname)}))||c()}catch(e){c()}return O.a.useEffect((function(){o&&n.replace({search:R.a.stringify(Object(i.__assign)(Object(i.__assign)({},a),{next:r}))})}),[a,r,n,o]),r}();return be(t),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($.a,{title:"\u767b\u5f55/\u6ce8\u518c"},void 0),Object(r.jsx)(oe,{children:Object(r.jsx)(ce,{children:Object(r.jsx)(ae.a,Object(i.__assign)({next:t},e),void 0)},void 0)},void 0)]},void 0)}function be(e){var t=Object(_.useRef)(!1),a=Object(_.useMemo)((function(){return Object(ie.c)(e)}),[e]),n=Object(ne.d)(a).getTokenAndGotoPremiumPay,i=Object(_.useContext)(H.d).isSignedIn;Object(_.useEffect)((function(){i&&!t.current&&(n(),t.current=!0)}),[i,n])}var je=Object(re.a)("div",{target:"e1gs14p60"})({padding:"66px 15px"},"label:SignInContainer;");function ge(e){var t=R.a.parse(window.location.search.substr(1)).next,a=void 0===t?"/problems":t;return be(String(a)),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J.a,{},void 0),Object(r.jsx)(je,{children:Object(r.jsx)(ae.a,Object(i.__assign)({next:a},e),void 0)},void 0)]},void 0)}function _e(e){return Object(te.q)()?Object(r.jsx)(ge,Object(i.__assign)({},e),void 0):Object(r.jsx)(pe,Object(i.__assign)({},e),void 0)}var Oe=a("6Ltx");function fe(){return Object(te.t)()?(window.location.href=Object(Oe.c)(V.a.accounts.wechatLoginSuccess),null):Object(r.jsx)(M.b,{to:V.a.accounts.login},void 0)}var me=a("YnR9"),ye=a("6iRN"),he=a("rzRZ"),ve=a("/NrN"),Ae=Object(re.a)("div",{target:"e1c43mam0"})({height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"96px",padding:"96px 36px 0 36px",backgroundColor:x.b.White()},"label:Container;"),Se=Object(re.a)("h1",{target:"e1c43mam1"})({margin:"0",fontWeight:600,fontSize:"20px",lineHeight:"28px",textAlign:"center",color:x.a.grey(8),marginTop:"16px",marginBottom:"16px"},"label:Title;"),xe=Object(re.a)("p",{target:"e1c43mam2"})({margin:0,fontSize:"14px",lineHeight:"24px",textAlign:"center",color:x.b.lc_text_secondary()},"label:Description;"),we=Object(re.a)("span",{target:"e1c43mam3"})({color:x.b.lc_text_primary(),fontWeight:500},"label:DescriptionSpan;"),Le=Object(re.a)(ve.a,{target:"e1c43mam4"})({height:"48px",width:"100%",backgroundColor:x.b.lc_fill_01(),color:x.b.lc_text_primary(),boxShadow:"none",marginTop:"64px",borderRadius:"8px","> span":{fontSize:"16px",fontWeight:600},":active:not(:disabled), :focus:not(:disabled), :hover:not(:disabled)":{backgroundColor:x.b.lc_fill_01(),color:x.b.lc_text_primary(),boxShadow:"none",border:"none"}},"label:ConfirmButton;"),Ee=a("7gRm"),ke=a.n(Ee),Pe=function(){var e=Object(he.a)();return Object(r.jsxs)(we,{children:["@",null===e||void 0===e?void 0:e.realName]},void 0)};function Fe(){return Object(r.jsxs)(Ae,{children:[Object(r.jsx)(ye.a,{src:ke.a,style:{width:40,height:40}},void 0),Object(r.jsx)(Se,{children:"\u5173\u8054\u6210\u529f"},void 0),Object(r.jsxs)(xe,{children:["\u60a8\u5df2\u6210\u529f\u5173\u8054\u300c\u529b\u6263\u300d\u8d26\u53f7 ",Object(r.jsx)(Pe,{},void 0)]},void 0),Object(r.jsx)(xe,{children:"\u76f8\u5173\u4fe1\u606f\u5c06\u4f1a\u5728\u7b2c\u4e00\u65f6\u95f4\u63a8\u9001\u7ed9\u4f60"},void 0),Object(r.jsx)(xe,{children:"\u5728\u6b64\u671f\u95f4\u8bf7\u4e0d\u8981\u53d6\u6d88\u5173\u6ce8"},void 0),Object(r.jsx)(Le,Object(i.__assign)({kind:"default",size:"lg",href:me.a.legacy.PATH.problems.defaultList},{children:"\u597d\u7684"}),void 0)]},void 0)}var Ce,De=a("Acoi"),Te=(a("F0+H"),a("fgzu")),Ie=a("v31z"),qe=a("nPqx"),Re=a("005E"),Me=a("aA0Y"),Ne=a("5PYC"),Ue=a.n(Ne),We=a("Z3gL"),ze=a.n(We),Be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={text:"\u7528\u6237\u540d\u5fc5\u987b\u4e3a3~30\u4f4d\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u6a2a\u7ebf\u6216\u4e0b\u5212\u7ebf\u7ec4\u5408\uff0c\u4e0d\u53ef\u542b\u6709\u4e2d\u6587\u53ca\u7279\u6b8a\u5b57\u7b26\uff0c\u4e14\u4e0d\u53ef\u4ee5\u6a2a\u7ebf\u5f00\u5934\u3002",type:"warning",input:"",disabled:!0,loading:!1},t.client=o.b.getInstanceByToken(L.c.provide),t.$input=O.a.createRef(),t.handleSwitch=function(){window.location.href="/accounts/logout/"},t.handleError=function(e){t.setState({type:"error",text:e})},t.handleSuccess=function(){window.location.href="/"},t.handleConfirm=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:this.setState({loading:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.client.mutate({mutation:Me.a,variables:{username:this.state.input}})];case 2:return e=a.sent(),this.setState({loading:!1}),e.data&&e.data.updateInvalidUsername&&(e.data.updateInvalidUsername.ok?this.handleSuccess():this.handleError(e.data.updateInvalidUsername.error)),[3,4];case 3:return t=a.sent(),Te.a.error("\u4fee\u6539\u7528\u6237\u540d\u5931\u8d25"),o.b.getInstance(z.a).error("\u4fee\u6539\u7528\u6237\u540d\u5931\u8d25",{errors:t}),[3,4];case 4:return[2]}}))}))},t.onKeyUp=function(e){var a=e.currentTarget.value;t.setState({input:a,disabled:!a||!a.length})},t.renderConfirmFooter=function(){return Object(r.jsxs)("div",Object(i.__assign)({className:ze.a.footer},{children:[Object(r.jsx)(Ie.a,Object(i.__assign)({type:"info",onClick:t.handleSwitch},{children:"\u5207\u6362\u8d26\u53f7"}),void 0),Object(r.jsx)(Ie.a,Object(i.__assign)({type:"primary",onClick:t.handleConfirm,disabled:t.state.disabled||t.state.loading},{children:t.state.loading?"\u66f4\u65b0\u4e2d":"\u5b8c\u6210"}),void 0)]}),void 0)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return Object(r.jsxs)("div",Object(i.__assign)({className:ze.a.wrapper},{children:[Object(r.jsxs)("div",Object(i.__assign)({className:ze.a.bg},{children:[Object(r.jsx)("span",{},void 0),Object(r.jsx)("span",{},void 0),Object(r.jsx)("span",{},void 0),Object(r.jsx)("span",{},void 0),Object(r.jsx)("span",{},void 0)]}),void 0),Object(r.jsxs)(qe.a,Object(i.__assign)({visible:!0,maskClosable:!1,closeIconVisible:!1,onClose:this.handleSwitch,cancelText:"\u5207\u6362\u8d26\u53f7",onOk:this.handleConfirm,okText:this.state.loading?"\u66f4\u65b0\u4e2d":"\u5b8c\u6210",disableOk:this.state.disabled||this.state.loading},{children:[Object(r.jsx)("div",Object(i.__assign)({className:ze.a.logoWrapper},{children:Object(r.jsx)("img",{src:Ue.a,alt:"LeetCode",className:ze.a.logo},void 0)}),void 0),Object(r.jsx)("p",{children:"\u4e3a\u4e86\u7ed9\u60a8\u5e26\u6765\u66f4\u4f18\u8d28\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u7f51\u7ad9\u5df2\u5b8c\u6210\u5347\u7ea7\u3002\u4e3a\u786e\u4fdd\u60a8\u7684\u6b63\u5e38\u4f7f\u7528\uff0c\u8bf7\u4fee\u6539\u7528\u6237\u540d\u3002"},void 0),Object(r.jsx)(Re.a,{style:{width:"100%",marginBottom:"10px"},placeholder:"\u65b0\u7528\u6237\u540d",innerRef:this.$input,onKeyUp:this.onKeyUp},void 0),Object(r.jsx)(De.a,{type:this.state.type,message:this.state.text},void 0)]}),void 0)]}),void 0)},t}(_.PureComponent),He=a("+7wZ"),Qe=a("Qtwq"),Ye=function(e){var t=e.isSignedIn,a=e.isPhoneVerified,n=Object(Qe.a)("enableBindPhoneWeb").data;return Object(_.useEffect)((function(){t&&!a&&n&&He.a.signInForce()}),[t,a,n]),null},Ge=a("l1SX"),Ve=v()({loader:function(){return a.e(35).then(a.bind(null,"9VcX"))},loading:function(){return Object(r.jsx)(Ge.a,{},void 0)},webpack:function(){return["9VcX"]},modules:["brand"]}),Je=function(){return Object(r.jsx)(Ge.a,{},void 0)},Ke=v()({loader:function(){return Promise.all([a.e(1),a.e(38)]).then(a.bind(null,"twdI"))},loading:Je,webpack:function(){return["twdI"]},modules:["delete-account-submit"]}),Ze=v()({loader:function(){return a.e(37).then(a.bind(null,"7SSH"))},loading:Je,webpack:function(){return["7SSH"]},modules:["delete-account-pending"]}),$e=a("OESz"),Xe=a("uZih"),et=a.n(Xe),tt=a("7Pma"),at=a("Nw0q"),nt=a("sFz0"),it=a("4HYP"),rt=a("Jg5f"),ot=a("tDg9"),ct=Object(tt.a)("FETCH_GLOBAL_DATA"),st=Object(tt.a)("FETCH_GLOBAL_DATA_SUCCESS"),ut=function(e){return e.pipe(Object(at.a)(""+ct),Object(it.a)((function(){return Object(nt.a)(ot.b).fetch()})),Object(rt.a)(st))},dt=function(e,t){return void 0===e&&(e=null),t.type===""+st?Object(i.__assign)(Object(i.__assign)({},e),et()(t.payload,"userStatus")):e},lt=function(e,t){return void 0===e&&(e=null),t.type===""+st?Object(i.__assign)(Object(i.__assign)({},e),t.payload.userStatus):e},pt=a("fP75"),bt=a("iLOe"),jt=a("WwGZ"),gt=Object(I.b)({"#lc-header":{zIndex:1,paddingLeft:"calc(100vw - 100%)"},"#lc-content":{paddingLeft:"calc(100vw - 100%)","@media (max-width: 679px)":{marginTop:"50px"}},"#lc-footer":{zIndex:-1},body:Object(I.b)(jt.a.layer0,{fontFamily:bt.b,fontSize:"14px",lineHeight:1.42857143,color:x.a.grey(8)}),a:{"&, &:active, &:hover, &:focus":{color:x.a.blue(5),textDecoration:"none"}},"h1, h2, h3, h4, h5":{color:x.a.grey(8),padding:0,margin:0},".ant-popover-inner-content":{padding:"7px 10px"},"html, body":{height:"100%",overflow:"auto"},"#app":{minHeight:"100%",display:"flex",flexDirection:"column"},"body ::selection":{color:"initial",background:x.b.Blue1()},".overflow-hidden":{overflow:"hidden"}},"label:baseGlobalStyle;"),_t=Object(I.b)(pt.a,gt,"label:globalStyle;"),Ot=Object(re.a)("div",{target:"e1925exm0"})({position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto",width:"300px",height:"150px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},"label:Crash;"),ft=Object(re.a)("div",{target:"e1925exm1"})({flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:0},"label:HomeWrapper;"),mt=Object(re.a)("div",{target:"e1925exm2"})({flex:"1 1 auto",display:"flex",flexDirection:"column",zIndex:0},"label:ContentWrapper;"),yt=function(e){var t=e.error;return t&&console.error(t),Object(r.jsx)(Ge.a,{isBlocking:!0,delayTimeToUpdateLoadingCountInMs:500},void 0)},ht=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(0),a.e(48)]).then(a.bind(null,"YlUF"))},loading:yt,webpack:function(){return["YlUF"]},modules:["main-college-contest"]}),vt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(0),a.e(21),a.e(26),a.e(68)]).then(a.bind(null,"65rt"))},loading:yt,webpack:function(){return["65rt"]},modules:["main-season-contest"]}),At=v()({loader:function(){return Promise.all([a.e(2),a.e(0),a.e(44)]).then(a.bind(null,"eh6c"))},loading:yt,webpack:function(){return["eh6c"]},modules:["main-admin"]}),St=v()({loader:function(){return a.e(64).then(a.bind(null,"xe3o"))},loading:yt,webpack:function(){return["xe3o"]},modules:["main-premium"]}),xt=v()({loader:function(){return Promise.all([a.e(15),a.e(1),a.e(2),a.e(5),a.e(6),a.e(0),a.e(10),a.e(18),a.e(16),a.e(17),a.e(49)]).then(a.bind(null,"+DqD"))},loading:yt,webpack:function(){return["+DqD"]},modules:["main-company-questions"]}),wt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(9),a.e(30),a.e(0),a.e(63)]).then(a.bind(null,"Vvx0"))},loading:yt,webpack:function(){return["Vvx0"]},modules:["main-notification"]}),Lt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(5),a.e(6),a.e(0),a.e(7),a.e(17),a.e(59)]).then(a.bind(null,"0TLB"))},loading:yt,webpack:function(){return["0TLB"]},modules:["main-mock-interview"]}),Et=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(13),a.e(3),a.e(9),a.e(14),a.e(0),a.e(7),a.e(8),a.e(11),a.e(12),a.e(20),a.e(19),a.e(60)]).then(a.bind(null,"xZxd"))},loading:yt,webpack:function(){return["xZxd"]},modules:["main-mock-interview-question-detail"]}),kt=[V.a.progress.home,V.a.order.home,V.a.order.detail,V.a.coupons,V.a.profile.part,V.a.session.home,V.a.collection.home],Pt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(28),a.e(30),a.e(0),a.e(27),a.e(77)]).then(a.bind(null,"tw/K"))},loading:yt,webpack:function(){return["tw/K"]},modules:["main-user-center"]}),Ft=v()({loader:function(){return Promise.all([a.e(2),a.e(31),a.e(0),a.e(23),a.e(45)]).then(a.bind(null,"I1xa"))},loading:yt,webpack:function(){return["I1xa"]},modules:["main-article-list"]}),Ct=v()({loader:function(){return Promise.all([a.e(15),a.e(1),a.e(2),a.e(5),a.e(6),a.e(0),a.e(10),a.e(18),a.e(16),a.e(73)]).then(a.bind(null,"moW9"))},loading:yt,webpack:function(){return["moW9"]},modules:["main-tag"]}),Dt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(5),a.e(6),a.e(0),a.e(10),a.e(16),a.e(75)]).then(a.bind(null,"4xIU"))},loading:yt,webpack:function(){return["4xIU"]},modules:["main-topic"]}),Tt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(13),a.e(3),a.e(9),a.e(14),a.e(0),a.e(7),a.e(8),a.e(11),a.e(12),a.e(20),a.e(57)]).then(a.bind(null,"x7XV"))},loading:yt,webpack:function(){return["x7XV"]},modules:["main-library"]}),It=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(0),a.e(58)]).then(a.bind(null,"S/zb"))},loading:yt,webpack:function(){return["S/zb"]},modules:["main-management"]}),qt=v()({loader:function(){return a.e(69).then(a.bind(null,"QFFS"))},loading:yt,webpack:function(){return["QFFS"]},modules:["main-share"]}),Rt=v()({loader:function(){return Promise.all([a.e(2),a.e(54)]).then(a.bind(null,"77Mt"))},loading:yt,webpack:function(){return["77Mt"]},modules:["main-jobs"]}),Mt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(3),a.e(31),a.e(0),a.e(7),a.e(8),a.e(12),a.e(19),a.e(23),a.e(25),a.e(66)]).then(a.bind(null,"G6+5"))},loading:yt,webpack:function(){return["G6+5"]},modules:["main-question-detail"]}),Nt=v()({loader:function(){return a.e(76).then(a.bind(null,"n5dK"))},loading:yt,webpack:function(){return["n5dK"]},modules:["main-transfer-phone"]}),Ut=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(13),a.e(3),a.e(9),a.e(14),a.e(0),a.e(7),a.e(8),a.e(11),a.e(12),a.e(19),a.e(27),a.e(25),a.e(55)]).then(a.bind(null,"4nXD"))},loading:yt,webpack:function(){return["4nXD"]},modules:["main-leetbook"]}),Wt=(v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(56)]).then(a.bind(null,"4f0X"))},loading:yt,webpack:function(){return["4f0X"]},modules:["main-leetbook-editor"]}),Ce=v()({loader:function(){return Promise.all([a.e(1),a.e(5),a.e(6),a.e(0),a.e(53)]).then(a.bind(null,"OMWD"))},loading:yt}),function(){return Object(_.useEffect)((function(){Ce.preload()}),[]),Object(r.jsx)(Ce,{},void 0)});var zt,Bt,Ht,Qt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(28),a.e(0),a.e(8),a.e(72)]).then(a.bind(null,"RPBA"))},loading:yt,webpack:function(){return["RPBA"]},modules:["main-submission-detail"]}),Yt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(28),a.e(0),a.e(8),a.e(72)]).then(a.bind(null,"RPBA"))},loading:yt,webpack:function(){return["RPBA"]},modules:["main-submission-detail"]}),Gt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(65)]).then(a.bind(null,"gWL0"))},loading:yt,webpack:function(){return["gWL0"]},modules:["main-premium-edu-auth"]}),Vt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(65)]).then(a.bind(null,"gsx5"))},loading:yt,webpack:function(){return["gsx5"]},modules:["main-premium-edu-auth"]}),Jt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(65)]).then(a.bind(null,"DmoS"))},loading:yt,webpack:function(){return["DmoS"]},modules:["main-premium-edu-auth"]}),Kt=v()({loader:function(){return a.e(51).then(a.bind(null,"1bhN"))},loading:yt,webpack:function(){return["1bhN"]},modules:["main-ee-auth"]}),Zt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(5),a.e(6),a.e(0),a.e(10),a.e(18),a.e(52)]).then(a.bind(null,"uUgt"))},loading:yt,webpack:function(){return["uUgt"]},modules:["main-featured-problemset"]}),$t=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(3),a.e(5),a.e(6),a.e(29),a.e(0),a.e(26),a.e(24),a.e(50)]).then(a.bind(null,"SQrS"))},loading:yt,webpack:function(){return["SQrS"]},modules:["main-contact"]}),Xt=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(3),a.e(5),a.e(6),a.e(29),a.e(0),a.e(26),a.e(24),a.e(50)]).then(a.bind(null,"UfWe"))},loading:yt,webpack:function(){return["UfWe"]},modules:["main-contact"]}),ea=v()({loader:function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(3),a.e(5),a.e(6),a.e(29),a.e(0),a.e(26),a.e(24),a.e(50)]).then(a.bind(null,"rmCc"))},loading:yt,webpack:function(){return["rmCc"]},modules:["main-contact"]}),ta=v()({loader:function(){return Promise.all([a.e(2),a.e(0),a.e(67)]).then(a.bind(null,"a4dT"))},loading:yt,webpack:function(){return["a4dT"]},modules:["main-rewards"]}),aa=v()({loader:function(){return Promise.all([a.e(2),a.e(0),a.e(61)]).then(a.bind(null,"21GJ"))},loading:yt,webpack:function(){return["21GJ"]},modules:["main-my-account"]}),na=v()({loader:function(){return a.e(88).then(a.bind(null,"We/f"))},loading:function(){return Object(r.jsx)(Ge.a,{},void 0)},webpack:function(){return["We/f"]},modules:["premium-survey"]}),ia=a("5AeM"),ra=a("GOyE"),oa=a("rBFF"),ca=Object(re.a)("div",{target:"e1ay1bph0"})({display:"flex",alignItems:"center",width:"100%",height:"50px",background:x.a.grey(0),paddingLeft:"140px"},"label:Navbar;"),sa=Object(re.a)("div",{target:"e1ay1bph1"})({img:{height:"22px"}},"label:LogoContainer;"),ua=Object(re.a)("div",{target:"e1ay1bph2"})({display:"flex",flexDirection:"column",alignItems:"center",marginTop:"45px"},"label:Wrapper;"),da=Object(re.a)("div",{target:"e1ay1bph3"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:WrapperLogin;"),la=((zt={width:"384px",borderRadius:"21px",background:x.a.grey(0),boxShadow:"0px 1px 2px "+x.b.fixed.Black(.1)+", 0px 10px 22px "+x.b.fixed.Black(.16),margin:"0 auto",marginTop:"40px"})[x.c]={background:x.b.Layer2(),boxShadow:"0px 1px 2px "+x.b.fixed.Black(.3)+", 0px 12px 24px "+x.b.fixed.Black(.72)+";"},Object(re.a)("span",{target:"e1ay1bph5"})({width:"1px",height:"13px",background:x.b.BaseGrey5(),margin:"0px 16px"},"label:Separator;")),pa=Object(re.a)(oa.a,{target:"e1ay1bph6"})({width:"50px",height:"50px",color:x.b.Danger(),marginBottom:"20px"},"label:StyledIconAlertCircleFill;"),ba=function(){var e="/export/user-info/"+R.a.parse(decodeURIComponent(location.search).split("?")[1]).export_uuid;return Object(_.useEffect)((function(){window.location.href=e}),[e]),Object(r.jsx)(r.Fragment,{children:Object(te.q)()?Object(r.jsxs)(ua,{children:[Object(r.jsx)(pa,{},void 0),"\u8be5\u94fe\u63a5\u4ec5\u9650\u684c\u9762\u7aef\uff08PC/Mac\uff09\u8bbf\u95ee"]},void 0):Object(r.jsx)(da,{children:Object(r.jsxs)(ca,{children:[Object(r.jsx)(sa,{children:Object(r.jsx)(ra.a,{light:ia.c,dark:ia.f,alt:"logo"},void 0)},void 0),Object(r.jsx)(la,{},void 0),"\u4e2a\u4eba\u4fe1\u606f\u5bfc\u51fa"]},void 0)},void 0)},void 0)},ja=a("B3IS"),ga=Object(re.a)("div",{target:"e1heeijb0"})({display:"flex",alignItems:"center",width:"100%",height:"50px",background:x.a.grey(0),paddingLeft:"140px"},"label:Navbar;"),_a=Object(re.a)("div",{target:"e1heeijb1"})({img:{height:"22px"}},"label:LogoContainer;"),Oa=Object(re.a)("div",{target:"e1heeijb2"})({display:"flex",flexDirection:"column",alignItems:"center",marginTop:"45px"},"label:Wrapper;"),fa=Object(re.a)("div",{target:"e1heeijb3"})(((Bt={width:"384px",borderRadius:"21px",background:x.a.grey(0),boxShadow:"0px 1px 2px "+x.b.fixed.Black(.1)+", 0px 10px 22px "+x.b.fixed.Black(.16),margin:"0 auto"})[x.c]={background:x.b.Layer2(),boxShadow:"0px 1px 2px "+x.b.fixed.Black(.3)+", 0px 12px 24px "+x.b.fixed.Black(.72)+";"},Bt),"label:SignInBox;"),ma=Object(re.a)("span",{target:"e1heeijb4"})({width:"1px",height:"13px",background:x.b.BaseGrey5(),margin:"0px 16px"},"label:Separator;"),ya=Object(re.a)(oa.a,{target:"e1heeijb5"})({width:"50px",height:"50px",color:x.b.Danger(),marginBottom:"20px"},"label:StyledIconAlertCircleFill;"),ha=function(){var e="/user-info-export-empty/"+location.search,t=Object(i.__read)(Object(l.a)(ie.b),2)[1];return Object(_.useEffect)((function(){t.updateNext(e)}),[e,t]),Object(r.jsx)(r.Fragment,{children:Object(te.q)()?Object(r.jsxs)(Oa,{children:[Object(r.jsx)(ya,{},void 0),"\u8be5\u94fe\u63a5\u4ec5\u9650\u684c\u9762\u7aef\uff08PC/Mac\uff09\u8bbf\u95ee"]},void 0):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ga,{children:[Object(r.jsx)(_a,{children:Object(r.jsx)(ra.a,{light:ia.c,dark:ia.f,alt:"logo"},void 0)},void 0),Object(r.jsx)(ma,{},void 0),"\u4e2a\u4eba\u4fe1\u606f\u5bfc\u51fa"]},void 0),Object(r.jsx)(fa,{children:Object(r.jsx)(ja.a,{codeOnly:!0},void 0)},void 0),Object(r.jsx)("div",{children:" "},void 0)]},void 0)},void 0)},va=a("DuHN"),Aa=(a("IJu9"),a("EdJC")),Sa=a("RUPt"),xa=a("eXxp"),wa=a("ghkj"),La=a("tlPs"),Ea=a("q3zd"),ka=a("58eU"),Pa=Object(re.a)("div",{target:"e3hrze50"})({maxWidth:"400px",width:"100%",minHeight:"308px",margin:"50px auto",background:x.b.Layer1(),padding:"32px",borderRadius:10,boxShadow:"0 0 1px 2px #f3f3f3"},"label:Container;"),Fa=Object(re.a)("h2",{target:"e3hrze51"})({textAlign:"center",marginBottom:"12px"},"label:H2;"),Ca=Object(re.a)("div",{target:"e3hrze52"})({textAlign:"center",margin:"30px 0",p:{marginTop:"12px"}},"label:Content;"),Da=Object(re.a)("span",{target:"e3hrze53"})({color:x.b.BlueStandard()},"label:NickNameSpan;"),Ta=Object(re.a)(ve.a,{target:"e3hrze54"})(((Ht={margin:"8px 0 16px 0",background:"#242528",borderRadius:"8px",lineHeight:"24px",transition:"background 0.3s",fontWeight:500,":hover":{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15)), #242528 !important"},":focus":{border:"none !important",padding:"8px 12px !important"}})[x.c]={background:x.b.BrandOrange(),color:x.b.Paper(),":hover":{color:x.b.Paper(),background:"linear-gradient(0deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2)), #FFA116 !important"}},Ht),"label:StyledButton;"),Ia=Object(re.a)("div",{target:"e3hrze55"})({position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},"label:FullCenter;"),qa=a("FA2Z"),Ra=a("Dgaw"),Ma=a("y9rd"),Na=a("LE5r"),Ua=function(e,t,a,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var r,o,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,L.d.mutate({variables:{data:{phone:e,code:t,countryCode:a,resetPhoneCode:n}},mutation:Na.a})];case 1:return r=i.sent(),(null===(c=null===(o=null===r||void 0===r?void 0:r.data)||void 0===o?void 0:o.transferPhoneV2)||void 0===c?void 0:c.ok)?[2,!0]:(Ma.a.danger("\u624b\u673a\u53f7\u6362\u7ed1\u5931\u8d25"),[2,!1]);case 2:return i.sent(),Ma.a.danger("\u7ed1\u5b9a\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u6216\u8054\u7cfb\u5ba2\u670d"),[2,!1];case 3:return[2]}}))}))};function Wa(){var e=this,t=R.a.parse(decodeURIComponent(location.search),{ignoreQueryPrefix:!0}).code,a=Object(i.__read)(Object(_.useState)(!1),2),n=a[0],o=a[1],c=Object(i.__read)(Object(_.useState)(!1),2),s=c[0],u=c[1],d=Object(i.__read)(Object(_.useState)(""),2),p=d[0],b=d[1],j=Object(i.__read)(Object(l.a)(La.b,{scope:wa.a.SignInWithPhone}),1)[0],g=function(e){return Object(Aa.a)("auth-check-code",(function(){return L.d.query({variables:{code:e},query:ka.a,context:{uri:L.h}}).then((function(e){var t=e.data;return null===t||void 0===t?void 0:t.authResetPhoneByEmailVerify}))}),{enabled:!0})}(t),O=g.data,f=g.isFetching,m=Object(_.useCallback)((function(a,n,r){return Object(i.__awaiter)(e,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,Ua(a,n,r,t)];case 1:return e.sent()&&(o(!0),qa.a.hide()),[2]}}))}))}),[]),y=function(){return Object(i.__awaiter)(e,void 0,void 0,(function(){var e,a,n,r,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!j.fields.phone||!j.fields.phoneCode)return[2,va.b.info("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u548c\u9a8c\u8bc1\u7801")];u(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Object(Sa.a)("/api/phone_reset/?code="+t,{data:{phone:j.fields.phone,code:j.fields.phoneCode,country_code:Object(Ea.a)(j.countryName)},method:"post",headers:{"content-type":"application/json"}}).then((function(e){return e.data}))];case 2:return(null===(e=i.sent())||void 0===e?void 0:e.success)?(o(!0),u(!1)):(b("\u624b\u673a\u53f7\u7ed1\u5b9a\u5931\u8d25"),u(!1)),[3,4];case 3:return a=i.sent(),400===(n=null!==(r=a.response)&&void 0!==r?r:{}).status||403===n.status?b(n.data.error):409===n.status?qa.a.open(j.fields.phone,null!==(c=null===O||void 0===O?void 0:O.username)&&void 0!==c?c:"",n.data.real_name,j.fields.phoneCode,Object(Ea.a)(j.countryName),m):b("\u624b\u673a\u53f7\u6362\u7ed1\u5931\u8d25"),u(!1),[3,4];case 4:return[2]}}))}))};if(f)return Object(r.jsx)(Ia,{children:Object(r.jsx)(Ge.a,{},void 0)},void 0);if(O&&!O.ok)return Object(r.jsxs)(Pa,{children:[Object(r.jsx)(Fa,{children:"\u7ed1\u5b9a\u65b0\u624b\u673a\u53f7"},void 0),Object(r.jsx)("p",{children:"\u5f53\u524d\u94fe\u63a5\u5df2\u5931\u6548\uff0c\u53ef\u80fd\u662f\u7531\u4e8e\u4ee5\u4e0b\u539f\u56e0\u6240\u81f4"},void 0),Object(r.jsx)("p",{children:"1. \u4f60\u5df2\u7ecf\u4f7f\u7528\u8fc7\u6b64\u94fe\u63a5\u66f4\u6362\u8d26\u53f7\u7ed1\u5b9a\u624b\u673a"},void 0),Object(r.jsx)("p",{children:"2. \u4f60\u5728\u6536\u5230\u90ae\u4ef6\u7684 72 \u5c0f\u65f6\u5185\u672a\u80fd\u5b8c\u6210\u7ed1\u5b9a"},void 0),Object(r.jsx)("p",{children:"3. \u5df2\u751f\u6210\u65b0\u94fe\u63a5\uff0c\u6b64\u94fe\u63a5\u5df2\u5931\u6548"},void 0)]},void 0);return n?Object(r.jsxs)(Pa,{children:[Object(r.jsx)(Fa,{children:"\u7ed1\u5b9a\u65b0\u624b\u673a\u53f7"},void 0),Object(r.jsxs)(Ca,{children:[Object(r.jsx)(Ra.d,{fontSize:58,style:{color:"#01B328"}},void 0),Object(r.jsx)("p",{children:"\u7ed1\u5b9a\u6210\u529f"},void 0)]},void 0),Object(r.jsx)(Ta,Object(i.__assign)({type:"submit",kind:"primary",width:"100%",size:"lg",onClick:function(){window.location.href=V.a.accounts.logout+"?next="+V.a.accounts.login}},{children:"\u767b\u5f55\u529b\u6263"}),void 0)]},void 0):Object(r.jsxs)(Pa,{children:[Object(r.jsx)(Fa,{children:"\u7ed1\u5b9a\u65b0\u624b\u673a\u53f7"},void 0),Object(r.jsxs)("p",{children:["\u4f60\u7684\u529b\u6263\u8d26\u53f7 ",Object(r.jsx)(Da,{children:null===O||void 0===O?void 0:O.username},void 0)," \u5df2\u901a\u8fc7\u7533\u8bc9\uff0c\u8bf7\u6362\u7ed1\u65b0\u624b\u673a"]},void 0),Object(r.jsx)(xa.a,{scope:wa.a.SignInWithPhone,isSubmitting:s,onEnter:y,placeholderText:"\u8f93\u5165\u8d26\u53f7\u7ed1\u5b9a\u624b\u673a"},void 0),p&&Object(r.jsx)("p",Object(i.__assign)({style:{color:"red"}},{children:p}),void 0),Object(r.jsx)(Ta,Object(i.__assign)({type:"submit",kind:"primary",width:"100%",size:"lg",loading:s,onClick:y},{children:"\u786e\u8ba4"}),void 0)]},void 0)}var za=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:!1,crashId:"",hasReportedTiming:!1},t.renderGenericView=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J.a,{id:"lc-header"},void 0),Object(r.jsx)(mt,Object(i.__assign)({id:"lc-content"},{children:Object(r.jsxs)(M.e,{children:[Object(r.jsx)(M.c,{exact:!0,path:V.a.profile.articles,component:t.renderArticleList},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.algorithmCamp,component:ea},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.profile.rewards,component:ta},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.profile.myAccount,component:aa},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.notes,component:Xt},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.noteDetail,component:Xt},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.accounts.login,component:t.renderSignIn},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.accounts.authenticationLogin,component:t.renderSignInAuthentication},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.accounts.phoneReset,component:t.renderPhoneReset},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.accounts.signup,render:t.renderSignIn},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.contact.home,component:$t},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.profile.deleteAccount.submit,component:Ke},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.profile.transferPhone,component:Nt},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.premium.survey,component:na},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.premium.eduAuth,component:Gt},void 0),Object(r.jsx)(M.c,{exact:!0,path:[V.a.accounts.eeAuth,V.a.accounts.eeLogin],component:Kt},void 0),Object(r.jsx)(M.c,{path:V.a.premium.home,component:St},void 0),Object(r.jsx)(M.c,{path:V.a.discuss.home,component:Q.b},void 0),Object(r.jsx)(M.c,{path:kt,component:Pt},void 0),Object(r.jsx)(M.c,{path:V.a.admin.home,component:t.renderAdminRoute},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.company.home,component:Lt},void 0),Object(r.jsx)(M.c,{path:V.a.company.mockInterviewPages,component:Lt},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.company.apply,component:Vt},void 0),Object(r.jsx)(M.c,{path:V.a.company.questions,render:t.renderCompanyQuestions},void 0),Object(r.jsx)(M.c,{path:[V.a.jobsClient.home,V.a.jobsClient.homeAlias],component:Rt},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.notifications.home,component:wt},void 0),Object(r.jsx)(M.c,{path:V.a.tags.home,component:Ct},void 0),Object(r.jsx)(M.c,{path:V.a.topic.home,component:Dt},void 0),Object(r.jsx)(M.c,{path:V.a.featuredProblemset.home,component:Zt},void 0),Object(r.jsx)(M.c,{path:V.a.brand.home,component:Ve},void 0),Object(r.jsx)(M.c,{path:V.a.promoChannel.leetbook,component:Jt},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.home,component:Wt},void 0),Object(r.jsx)(M.c,{component:G.a},void 0)]},void 0)}),void 0),Object(r.jsx)(K.a,{id:"lc-footer",utmSource:"main-footer"},void 0)]},void 0)},t.renderAdminRoute=function(){return t.props.userStatus&&t.props.userStatus.isAdmin?Object(r.jsx)(At,{},void 0):Object(r.jsx)(G.a,{},void 0)},t.renderWechatConnectModal=function(){return Object(r.jsx)(Z.a,{visible:!0},void 0)},t.renderArticleList=function(){return Object(r.jsx)(Ft,{},void 0)},t.renderSignIn=function(){var e=R.a.parse(location.search,{ignoreQueryPrefix:!0}).next,a=de(String(e)),n=le(String(e));if(t.isSignedIn){if(n)return window.location.href=String(U.cb.home),null;if(!a)return window.location.href=String(e),null}return Object(r.jsx)(_e,{},void 0)},t.renderSignInAuthentication=function(){var e=R.a.parse(location.search,{ignoreQueryPrefix:!0}).next,a=de(String(e)),n=le(String(e));if(t.isSignedIn){if(n)return window.location.href=String(U.cb.home),null;if(!a)return window.location.href=String(e),null}return Object(r.jsx)(_e,{formAuth:!0},void 0)},t.renderPhoneReset=function(){return Object(r.jsx)(Wa,{},void 0)},t.renderCompanyQuestions=function(e){return e.match.params.companySlug&&Object(r.jsx)(xt,Object(i.__assign)({},e),void 0)},t}return Object(i.__extends)(t,e),t.getDerivedStateFromError=function(e){var t=Object(W.a)(e);return o.b.getInstance(z.a).fatal(e,{crashId:t}),{error:!0,crashId:t}},Object.defineProperty(t.prototype,"isSignedIn",{get:function(){return this.props.userStatus&&this.props.userStatus.isSignedIn},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.props.fetchGlobalData(),Object($e.a)();try{var e=o.b.getInstance(z.a);Object(B.a)().then((function(t){e.info("timing",t)})).catch((function(t){e.error(t)}))}catch(e){console.error(e)}},t.prototype.render=function(){var e=this;return this.state.error?Object(r.jsxs)(Ot,{children:[Object(r.jsx)("h4",{children:"Ooops, page crashed"},void 0),Object(r.jsx)("h4",{children:Object(r.jsxs)("code",{children:["Crash ID: ",this.state.crashId]},void 0)},void 0),Object(r.jsx)("br",{},void 0)]},void 0):Object(r.jsx)(H.b,{children:Object(r.jsx)(H.a,{children:function(t){var a,n;return Object(r.jsxs)(ee.a,Object(i.__assign)({user:t},{children:[Object(r.jsx)($.a,{linkOptions:[{rel:"search",href:"https://static.leetcode.cn/cn-mono-assets/production/assets/open-search.96060e8d.xml",type:"application/opensearchdescription+xml",title:"leetcode"}]},void 0),Object(r.jsx)(I.a,{styles:_t},void 0),Object(r.jsx)(X.a,{},void 0),Object(r.jsxs)(ft,Object(i.__assign)({id:"lc-home"},{children:[Object(r.jsxs)(M.e,{children:[Object(r.jsx)(M.c,{path:[V.a.discuss.discussionDetailManagement,V.a.discuss.articleDetailManagement],component:Q.a},void 0),Object(r.jsx)(M.c,{path:V.a.userInfoExport.export,component:ha},void 0),Object(r.jsx)(M.c,{path:V.a.userInfoExport.empty,component:ba},void 0),Object(r.jsx)(M.c,{path:"/wechat/login-connect",component:e.renderWechatConnectModal},void 0),Object(r.jsx)(M.c,{path:V.a.accounts.wechatFastLogin,render:fe},void 0),Object(r.jsx)(M.c,{path:V.a.accounts.wechatLoginSuccess,render:Fe},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.profile.deleteAccount.pending,component:Ze},void 0),Object(r.jsx)(M.c,{path:V.a.questionDetail.home,component:Mt},void 0),Object(r.jsx)(M.c,{path:V.a.contest.submissionDetail,component:Qt},void 0),Object(r.jsx)(M.c,{path:V.a.contest.submissionDetailV2,component:Yt},void 0),Object(r.jsx)(M.c,{path:V.a.collegeContest.submissionDetail,component:Qt},void 0),Object(r.jsx)(M.c,{path:V.a.collegeContest.home,component:ht},void 0),Object(r.jsx)(M.c,{path:V.a.seasonContest.submissionDetail,component:Qt},void 0),Object(r.jsx)(M.c,{path:V.a.seasonContest.home,component:vt},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.company.currentSession,component:Et},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.updateUsername,component:Be},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.discuss.writeArticle,component:Q.c},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.app,component:Y.a},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.interviewLanding,component:Y.b},void 0),Object(r.jsx)(M.c,{path:V.a.repo.home,component:Tt},void 0),Object(r.jsx)(M.c,{path:V.a.management.home,component:It},void 0),Object(r.jsx)(M.c,{path:V.a.share.home,component:qt},void 0),Object(r.jsx)(M.c,{path:V.a.leetbook.home,component:Ut},void 0),Object(r.jsx)(M.c,{exact:!0,path:V.a.submissionDetail.home,component:Qt},void 0),Object(r.jsx)(M.c,{render:e.renderGenericView},void 0)]},void 0),Object(r.jsx)(Ye,{isSignedIn:null===(a=e.props.userStatus)||void 0===a?void 0:a.isSignedIn,isPhoneVerified:null===(n=e.props.userStatus)||void 0===n?void 0:n.isPhoneVerified},void 0)]}),void 0)]}),void 0)}},void 0)},void 0)},t}(O.a.PureComponent),Ba=Object(S.c)((function(e){return{userStatus:e.userStatus,globalData:e.globalData}}),(function(e){return Object(N.b)({fetchGlobalData:ct},e)}))(za),Ha=a("e7Ho"),Qa=a("l7/f"),Ya=a("zWgn"),Ga=a.n(Ya),Va=a("XQCc"),Ja=a("d9YI"),Ka=a("IMYO"),Za=a("Obtf"),$a=a("KdBw"),Xa=a("R3sh"),en=a("t0+x"),tn=a("4YUL"),an=a("hlut"),nn=a("eSY7"),rn=a("as1A"),on=a("zPaN"),cn=a("8g9W"),sn=a("zRE0"),un=a("IcPE"),dn=function(){var e=Object(Va.a)(),t=Object(Za.a)(ut,Object($a.a)(cn.a,tn.a,sn.c,an.a,nn.a,rn.a,Xa.a,on.a,en.a)),a=Object(i.__assign)(Object(i.__assign)({globalData:dt,userStatus:lt},Object(un.a)({articleList:cn.a,solution:sn.c,collegeContest:tn.a,accountSetting:an.a,labSetting:nn.a,notificationSetting:rn.a,client:Xa.a,progress:on.a,adminTag:en.a})),{router:Object(p.b)(Ha.a)});var n,r=Object(N.e)(Object(N.c)(a),Object(N.d)(Object(N.a)(Object(Qa.a)(Ha.a),e),Ga.a));return e.run((n=t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=n.apply(void 0,Object(i.__spread)(e)).pipe(Object(Ka.a)((function(e){return o.b.getInstance(z.a).error(e),Object(Ja.b)()})));return a})),{store:r,history:Ha.a}},ln=a("37dC");Object(d.a)(),Object(C.f)({packageNames:[C.a.COMPONENTS,C.a.MODULES],disabledLocales:[C.b.en]}),j.a.locale("zh-cn"),Object(g.c)(),Object(T.a)({uid:"",username:""}),Object(ln.a)(),Object(w.a)();var pn=window.__SERVER_RENDERED__?y.a.hydrate:y.a.render,bn=function(e){var t=e.children,a=Object(i.__read)(Object(l.a)(D.a),1)[0];return Object(r.jsx)(x.d,Object(i.__assign)({includes:["dls","dsw"],mode:a.mode},{children:t}),void 0)};o.b.overrideProviders({provide:F.a.provide,useValue:Ha.a});Promise.all([Object(k.a)(),v.a.preloadReady()]).then((function(){!function(e){var t=dn(),a=t.store,n=t.history,s=o.b.getInstanceByToken(L.c.provide);pn(Object(r.jsx)(P.a,{children:Object(r.jsx)(bn,{children:Object(r.jsx)(c.a,Object(i.__assign)({locale:u.a},{children:Object(r.jsx)(S.a,Object(i.__assign)({store:a},{children:Object(r.jsx)(f.b,Object(i.__assign)({client:s},{children:Object(r.jsx)(A.a,Object(i.__assign)({client:E.b},{children:Object(r.jsx)(p.a,Object(i.__assign)({history:n},{children:Object(r.jsx)(e,{},void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)},void 0)},void 0),document.querySelector("#app"))}(Ba)}))},rzRZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("D57K"),i=a("K/af"),r=a("ZRwv"),o=function(){var e=Object(n.__read)(Object(i.a)(r.a),1)[0].globalData;return null===e||void 0===e?void 0:e.userStatus}},"t0+x":function(e,t,a){"use strict";a.d(t,"a",(function(){return Y}));var n,i=a("D57K"),r=a("DuHN"),o=(a("IJu9"),a("FllU")),c=a.n(o),s=a("Ygfp"),u=a.n(s),d=a("pE6G"),l=a("cLgN"),p=a("nUi0"),b=a("FWdR"),j=a("0Spe"),g=a("q/oC"),_=a("SpHq"),O=a("gQst"),f=a("pN2L"),m=a("HnWI"),y=a("rzNM"),h=a("U3QC"),v=a("Jg5f"),A=a("W/Ou"),S=a("RtDN"),x=a("R+ki"),w=a("mhnT"),L=a("z5yO"),E=a("eb+u"),k=a("ZRNH"),P=a("B07F"),F=a("w+fZ"),C=a("wUZp"),D=a("34li"),T=a("fB8b"),I=a("bqHS"),q=a("DDXx"),R=a("XJab"),M=a("0tOJ"),N=a("vLiT"),U=a("HYpm"),W=a("kIOu"),z=a("pa3h"),B=a("t81J"),H=a("2yWH"),Q=a("3YUb");!function(e){e.Empty="\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a",e.Duplicated="\u8f93\u5165\u5df2\u5b58\u5728"}(n||(n={}));var Y=function(e){function t(t,a){var n=e.call(this)||this;return n.client=t,n.logger=a,n.defaultState={loading:!1,tagTypes:[{name:"\u4f01\u4e1a\u6807\u7b7e",type:D.Hc.Company},{name:"\u77e5\u8bc6\u70b9\u6807\u7b7e",type:D.Hc.Topic},{name:"\u8bed\u8a00\u6807\u7b7e",type:D.Hc.Language},{name:"\u81ea\u5b9a\u4e49\u6807\u7b7e",type:D.Hc.AdditionalTopic}],selectedRows:new Map,list:[],searchedList:[],searchStr:"",questionList:{loading:!0,list:[],company:""},opModal:{key:"",data:{mode:null,name:"",nameError:null,slug:"",slugError:null,keywords:"",id:null,visible:!1,isEnabled:!0,isPublic:!0,tagType:D.Hc.Company}},editedTagViaTable:null,criteria:{tagType:D.Hc.Company,keyword:"",pageNum:1,pageSize:20},totalNum:0},n}var a,o,c,s,u,_,Y,V,J,K,Z,$,X,ee,te,ae,ne,ie,re,oe,ce,se,ue,de,le,pe,be,je,ge,_e;return Object(i.__extends)(t,e),t.prototype.getTagList=function(e){var t=this;return e.pipe(Object(y.a)((function(e){var a=e.tagType,n=e.searchKeywords;return t.client.query({query:T.a,variables:{tagType:a,searchKeywords:n}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch tag list error",{errors:a})})),Object(v.a)(t.createAction("finish")),Object(C.a)("fetch tag list http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.getTagListV2=function(e){var t=this;return e.pipe(Object(y.a)((function(e){var a=e.tagType,n=e.keyword,i=e.pageNum,r=e.orderBy,o=e.order,c=e.isPublic,s=e.isEnable,u=e.hotScore,d=e.pageSize,l={tagType:a,keyword:null!==n&&void 0!==n?n:"",pageNum:null!==i&&void 0!==i?i:1,orderBy:null!==r&&void 0!==r?r:D.vc.HotScore,order:null!==o&&void 0!==o?o:D.zc.Descending,isPublic:c,isEnable:s,hotScore:u,pageSize:null!==d&&void 0!==d?d:20};return t.client.query({query:I.a,variables:{criteria:l},fetchPolicy:"no-cache"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch tag list error",{errors:a})})),Object(v.a)(t.createAction("finish")),Object(C.a)("fetch tag list http error"),Object(A.a)(t.createAction("loading")()),Object(S.a)(t.createAction("setParams")(l)))})))},t.prototype.toggleOneRow=function(e,t){var a=t.payload,n=e.selectedRows;return n.has(a.slug)?n.delete(a.slug):n.set(a.slug,Object(i.__assign)({},a)),Object(i.__assign)(Object(i.__assign)({},e),{selectedRows:new Map(n)})},t.prototype.toggleBatchRows=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{selectedRows:a.selected?new Map(a.tags.map((function(e){return[e.slug,e]}))):new Map})},t.prototype.closeOneTag=function(e){return e.pipe(Object(v.a)(this.createActionFrom(this.toggleOneRow)))},t.prototype.search=function(e){return Object(O.a)(e.pipe(Object(v.a)(this.createAction("setSearchStr"))),e.pipe(Object(x.a)(500),Object(v.a)(this.createAction("searching")))).pipe(Object(w.a)(this.dispose$))},t.prototype.addTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:q.a,variables:{data:Object(i.__assign)({},e)}}).pipe(Object(w.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("add tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.addTag.error&&r.b.error(t.addTag.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.addTag.error})),Object(v.a)((function(a){var n=a.data;return t.createAction("finish")({tagId:n.addTag.tagId,param:e})})),Object(C.a)("add tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.editTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:R.a,variables:{data:Object(i.__assign)({},e)}}).pipe(Object(w.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("edit tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.editTag.error&&r.b.error(t.editTag.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.editTag.error})),Object(v.a)((function(){return t.createAction("finish")(e)})),Object(C.a)("edit tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.enableTags=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(E.a)(n),Object(v.a)((function(e){var t=Object(i.__read)(e,2),a=(t[0],t[1]);return Object(i.__spread)(a.values()).map((function(e){return e.id}))})),Object(y.a)((function(e){return a.client.mutate({mutation:M.a,variables:{tagIds:e}}).pipe(Object(w.a)(a.dispose$),Object(h.a)((function(e){var t=e.errors;a.logger.if(!!t).error("enable tags error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return t.enableTags.error&&r.b.error(t.enableTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.enableTags.error})),Object(v.a)((function(){return a.createAction("finish")(e)})),Object(C.a)("enable tags http error"),Object(A.a)(a.createAction("loading")()))})))},t.prototype.deleteTags=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(E.a)(n),Object(v.a)((function(e){var t=Object(i.__read)(e,2),a=(t[0],t[1]);return Object(i.__spread)(a.values()).map((function(e){return e.id}))})),Object(y.a)((function(e){return a.client.mutate({mutation:N.a,variables:{tagIds:e}}).pipe(Object(w.a)(a.dispose$),Object(h.a)((function(e){var t=e.errors;a.logger.if(!!t).error("delete tags error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return t.deleteTags.error&&r.b.error(t.deleteTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.deleteTags.error})),Object(v.a)((function(){return a.createAction("finish")(e)})),Object(C.a)("delete tags http error"),Object(A.a)(a.createAction("loading")()))})))},t.prototype.enableTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:M.a,variables:{tagIds:[e]}}).pipe(Object(w.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("enable tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.enableTags.error&&r.b.error(t.enableTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.enableTags.error})),Object(v.a)((function(){return t.createAction("finish")(e)})),Object(C.a)("enable tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.deleteTag=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.mutate({mutation:N.a,variables:{tagIds:e}}).pipe(Object(w.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("delete tag error",{errors:a})})),Object(h.a)((function(e){var t=e.data;return t.deleteTags.error&&r.b.error(t.deleteTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.deleteTags.error})),Object(v.a)((function(){return t.createAction("finish")(e)})),Object(C.a)("delete tag http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype.toggleOpModal=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{opModal:Object(i.__assign)(Object(i.__assign)({},e.opModal),{data:Object(i.__assign)(Object(i.__assign)({},e.opModal.data),{visible:!e.opModal.data.visible})})})},t.prototype.setOpModalData=function(e){return e.pipe(Object(x.a)(150),Object(v.a)(this.createAction("set")))},t.prototype.mergeTags=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(E.a)(n),Object(v.a)((function(e){var t=Object(i.__read)(e,2),a=t[0],n=t[1];return{param:a,tags:Object(i.__spread)(n.values()).map((function(e){return e.id}))}})),Object(y.a)((function(e){var t=e.param,n=e.tags;return a.client.mutate({mutation:U.a,variables:{data:Object(i.__assign)({tags:n},t)}}).pipe(Object(w.a)(a.dispose$),Object(h.a)((function(e){var t=e.errors;a.logger.if(!!t).error("merge tags error",{errors:t})})),Object(h.a)((function(e){var t=e.data;return t.mergeTags.error&&r.b.error(t.mergeTags.error)})),Object(L.a)((function(e){var t=e.data;return!e.errors&&!t.mergeTags.error})),Object(v.a)((function(e){var i=e.data;return a.createAction("finish")({tagId:i.mergeTags.tagId,tags:n,param:t})})),Object(C.a)("merge tags http error"),Object(A.a)(a.createAction("loading")()))})))},t.prototype.create=function(e,t){var a=this,r=t.pipe(Object(v.a)((function(e){return e.adminTag})));return e.pipe(Object(E.a)(r),Object(y.a)((function(e){var t=Object(i.__read)(e,2),r=(t[0],t[1]),o=r.editedTagViaTable,c=r.opModal.data.name.length?G(r,"name",o?[o]:Object(i.__spread)(r.selectedRows.values()))?n.Duplicated:null:n.Empty,s=r.opModal.data.slug.length?G(r,"slug",o?[o]:Object(i.__spread)(r.selectedRows.values()))?n.Duplicated:null:n.Empty;if(c||s||!r.opModal.data.mode)return Object(f.a)(a.createAction("error")({nameError:c,slugError:s}));var u={name:r.opModal.data.name,slug:r.opModal.data.slug,keywords:r.opModal.data.keywords.trim().replace(/\uff0c/g,",").split(",").map((function(e){return e.trim()})),enable:r.opModal.data.isEnabled,isPublic:r.opModal.data.isPublic},d={edit:a.editTag,create:a.addTag,merge:a.mergeTags};return Object(O.a)(Object(f.a)(a.createActionFrom(a.editTagInTable)()),Object(f.a)(a.createActionFrom(d[r.opModal.data.mode])(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},u),r.opModal.data.tagType?{tagType:r.opModal.data.tagType}:{}),r.opModal.data.id?{id:r.opModal.data.id}:{}))),Object(f.a)(a.createActionFrom(a.setOpModalData)({data:{visible:!1}})))})))},t.prototype.editTagInTable=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{editedTagViaTable:a||null})},t.prototype.getRelateQuestionList=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.query({query:W.a,variables:{tagId:e}}).pipe(Object(w.a)(t.dispose$),Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch related questions error",{errors:a})})),Object(v.a)((function(e){var a=e.data;return t.createAction("finish")({questions:a.questionTag.questions,name:a.questionTag.name})})),Object(C.a)("fetch related questions http error"),Object(A.a)(t.createAction("loading")()))})))},t.prototype._checkSyncSucceeded=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return t.client.query({query:z.a,variables:{taskId:e},fetchPolicy:"network-only"}).pipe(Object(C.a)("get syncing interview cards result error"),Object(k.a)({pollWhile:function(e){return!e.data.interviewCreateCardsSucceeded}}),Object(h.a)((function(e){return e.data.interviewCreateCardsSucceeded?r.b.success("\u540c\u6b65\u6210\u529f"):r.b.info("\u540c\u6b65\u4e2d")})),Object(v.a)((function(){return t.createAction("noop")()})),Object(S.a)(t.createActionFrom(t.setLoading)(!1)))})))},t.prototype.onSync=function(e,t){var a=this,n=t.pipe(Object(L.a)((function(e){return!!e.adminTag})),Object(v.a)((function(e){return e.adminTag.selectedRows})));return e.pipe(Object(E.a)(n),Object(y.a)((function(e){var t=Object(i.__read)(e,2),n=(t[0],t[1]);return a.client.mutate({mutation:B.a,variables:{tagIds:n.size?Object(i.__spread)(n.values()).map((function(e){return e.id})):[]}}).pipe(Object(h.a)((function(e){var t=e.data,n=e.errors;t.interviewCreateCards.error&&r.b.error(t.interviewCreateCards.error),a.logger.if(!!n).error("create interview cards error",{errors:n})})),Object(L.a)((function(e){return!e.data.interviewCreateCards.error})),Object(h.a)((function(e){var t,a=e.data;(null===(t=null===a||void 0===a?void 0:a.interviewCreateCards)||void 0===t?void 0:t.taskId)||r.b.error("\u540c\u6b65\u5931\u8d25")})),Object(v.a)((function(e){var t,n=e.data,i=null===(t=null===n||void 0===n?void 0:n.interviewCreateCards)||void 0===t?void 0:t.taskId;return i?a.createActionFrom(a._checkSyncSucceeded)(i):a.createActionFrom(a.setLoading)(!1)})),Object(A.a)(a.createActionFrom(a.setLoading)(!0)))})))},t.prototype.setLoading=function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:a})},t.prototype.uploadLogo=function(e){var t=this;return e.pipe(Object(y.a)((function(e){var a=e.id,n=e.imgUrl;return t.client.mutate({mutation:H.a,variables:{id:a,imgUrl:n}}).pipe(Object(h.a)((function(e){var a=e.data,n=e.errors;a.uploadTagImage.error&&r.b.error(a.uploadTagImage.error),t.logger.if(!!n).error("upload tag image error",{errors:n})})),Object(L.a)((function(e){return!e.data.uploadTagImage.error})),Object(v.a)((function(){return t.createAction("finish")({id:a,imgUrl:n})})),Object(A.a)(t.createActionFrom(t.setLoading)(!0)))})))},t.prototype.togglePublic=function(e){var t=this;return e.pipe(Object(y.a)((function(e){var a=e.id,n=e.isPublic;return t.client.mutate({mutation:Q.a,variables:{tagId:a,isPublic:n}}).pipe(Object(h.a)((function(e){var a=e.data,n=e.errors;a.toggleTagIsPublic.error&&r.b.error(a.toggleTagIsPublic.error),t.logger.if(!!n).error("toggle tag public error",{errors:n})})),Object(L.a)((function(e){return!e.data.toggleTagIsPublic.error})),Object(v.a)((function(){return t.createAction("finish")({id:a,isPublic:n})})),Object(A.a)(t.createActionFrom(t.setLoading)(!0)))})))},Object(i.__decorate)([Object(l.a)(),Object(i.__metadata)("design:type","function"===typeof(a="undefined"!==typeof m.a&&m.a)?a:Object)],t.prototype,"dispose$",void 0),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0,list:[]})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:a.data.questionTagsAdmin||[]})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof m.a&&m.a)?o:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getTagList",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0,list:[]})},finish:function(e,t){var a,n,r=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:(null===(a=r.data.searchTags)||void 0===a?void 0:a.items)||[],totalNum:null===(n=r.data.searchTags)||void 0===n?void 0:n.totalNum})},setParams:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{criteria:a})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof m.a&&m.a)?c:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getTagListV2",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(s="undefined"!==typeof d.Action&&d.Action)?s:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleOneRow",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(u="undefined"!==typeof d.Action&&d.Action)?u:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleBatchRows",null),Object(i.__decorate)([Object(p.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(_="undefined"!==typeof m.a&&m.a)?_:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"closeOneTag",null),Object(i.__decorate)([Object(p.a)({setSearchStr:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{searchStr:a})},searching:function(e,t){var a=t.payload.toLowerCase();return Object(i.__assign)(Object(i.__assign)({},e),{searchedList:e.list.filter((function(e){return e.id.includes(a)||e.name.toLowerCase().includes(a)||e.pinyin.some((function(e){return e.toLowerCase().includes(a)}))||e.slug.split("-").filter((function(e){return"-"!==e})).join("").includes(a)||e.keywords.some((function(e){return e.toLowerCase().includes(a)}))}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(Y="undefined"!==typeof m.a&&m.a)?Y:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"search",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:Object(i.__spread)([Object(i.__assign)(Object(i.__assign)({},a.param),{id:a.tagId,isEnabled:a.param.enable,createdAt:(new Date).toISOString(),pinyin:[]})],e.list),searchedList:[]})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(V="undefined"!==typeof m.a&&m.a)?V:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"addTag",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return a.id===e.id?Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),a),{isEnabled:a.enable}):e})),searchedList:e.searchedList.map((function(e){return a.id===e.id?Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),a),{isEnabled:a.enable}):e}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(J="undefined"!==typeof m.a&&m.a)?J:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"editTag",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload,n=new Set(a);return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return n.has(e.id)?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})),searchedList:e.searchedList.length?e.searchedList.map((function(e){return n.has(e.id)?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})):[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(K="undefined"!==typeof m.a&&m.a)?K:Object,"function"===typeof(Z="undefined"!==typeof j.a&&j.a)?Z:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"enableTags",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload,n=new Set(a);return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.filter((function(e){return!n.has(e.id)})),searchedList:e.searchedList.length?e.searchedList.filter((function(e){return!n.has(e.id)})):[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof($="undefined"!==typeof m.a&&m.a)?$:Object,"function"===typeof(X="undefined"!==typeof j.a&&j.a)?X:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"deleteTags",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})),searchedList:e.searchedList.length?e.searchedList.map((function(e){return e.id===a?Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!0}):e})):[]})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ee="undefined"!==typeof m.a&&m.a)?ee:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"enableTag",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!0})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.filter((function(e){return e.id!==a})),searchedList:e.searchedList.length?e.searchedList.filter((function(e){return e.id!==a})):[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(te="undefined"!==typeof m.a&&m.a)?te:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"deleteTag",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleOpModal",null),Object(i.__decorate)([Object(p.a)({set:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{opModal:Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e.opModal),a.key?{key:a.key}:{}),a.data?{data:Object(i.__assign)(Object(i.__assign)({},e.opModal.data),a.data)}:{data:Object(i.__assign)({},e.opModal.data)})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ae="undefined"!==typeof m.a&&m.a)?ae:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setOpModalData",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1})},finish:function(e,t){var a=t.payload,n=new Set(a.tags),r=new Map(e.list.filter((function(e){return!n.has(e.id)||e.id===a.tagId})).map((function(e){return[e.id,e]})));return r.set(a.tagId,Object(i.__assign)(Object(i.__assign)({},r.get(a.tagId)),a.param)),Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:Object(i.__spread)(r).map((function(e){var t=Object(i.__read)(e,2);t[0];return t[1]})),searchedList:[],selectedRows:new Map})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ne="undefined"!==typeof m.a&&m.a)?ne:Object,"function"===typeof(ie="undefined"!==typeof j.a&&j.a)?ie:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"mergeTags",null),Object(i.__decorate)([Object(p.a)({error:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{opModal:Object(i.__assign)(Object(i.__assign)({},e.opModal),{data:Object(i.__assign)(Object(i.__assign)({},e.opModal.data),{nameError:a.nameError,slugError:a.slugError})})})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(re="undefined"!==typeof m.a&&m.a)?re:Object,"function"===typeof(oe="undefined"!==typeof j.a&&j.a)?oe:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"create",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(ce="undefined"!==typeof d.Action&&d.Action)?ce:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"editTagInTable",null),Object(i.__decorate)([Object(p.a)({loading:function(e){return Object(i.__assign)(Object(i.__assign)({},e),{questionList:{loading:!0,list:[]}})},finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{questionList:{loading:!1,list:Object(i.__spread)(a.questions),company:a.name}})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(se="undefined"!==typeof m.a&&m.a)?se:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"getRelateQuestionList",null),Object(i.__decorate)([Object(p.a)({noop:function(e){return e}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ue="undefined"!==typeof m.a&&m.a)?ue:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_checkSyncSucceeded",null),Object(i.__decorate)([Object(p.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(de="undefined"!==typeof m.a&&m.a)?de:Object,"function"===typeof(le="undefined"!==typeof j.a&&j.a)?le:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"onSync",null),Object(i.__decorate)([Object(b.a)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(pe="undefined"!==typeof d.Action&&d.Action)?pe:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(i.__decorate)([Object(p.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{imgUrl:a.imgUrl}):e})),searchedList:e.searchedList.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),{imgUrl:a.imgUrl}):e}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(be="undefined"!==typeof m.a&&m.a)?be:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"uploadLogo",null),Object(i.__decorate)([Object(p.a)({finish:function(e,t){var a=t.payload;return Object(i.__assign)(Object(i.__assign)({},e),{loading:!1,list:e.list.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),a):e})),searchedList:e.searchedList.map((function(e){return e.id===a.id?Object(i.__assign)(Object(i.__assign)({},e),a):e}))})}}),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(je="undefined"!==typeof m.a&&m.a)?je:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"togglePublic",null),t=Object(i.__decorate)([Object(g.a)("AdminTag"),Object(i.__metadata)("design:paramtypes",["function"===typeof(ge="undefined"!==typeof P.a&&P.a)?ge:Object,"function"===typeof(_e="undefined"!==typeof F.a&&F.a)?_e:Object])],t)}(_.a);function G(e,t,a){return c()(u()(e.list,a,t),(function(a){return a[t]===e.opModal.data[t]}))>=0}},vcTJ:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));var n=function(e,t){return e+"-"+t},i=function(e){return e.split("-")}},zPaN:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a("D57K"),i=a("cdI6"),r=a.n(i),o=a("pE6G"),c=a("nUi0"),s=a("0Spe"),u=a("FWdR"),d=a("q/oC"),l=a("SpHq"),p=a("HnWI"),b=a("Jg5f"),j=a("eb+u"),g=a("AouM"),_=a("W/Ou"),O=a("rzNM"),f=a("fgAA"),m=a("wUZp"),y=a("B07F"),h=a("34li"),v=a("8HNd"),A=a("VrD7"),S=a("iWg1"),x=a("c17E"),w=a("vcTJ"),L=function(e){function t(t){var a=e.call(this)||this;return a.client=t,a.defaultState={status:x.b.Accepted,questionList:{list:[],totalNum:0,numPerPage:20,current:1,loading:!1,level:[],sorter:{field:h.yc.LastSubmittedAt,order:h.zc.Descending},expandedCommitRows:new Set},searchStr:"",searchedList:{list:[],totalNum:0,numPerPage:20,current:1,loading:!1,level:[],sorter:{field:h.yc.LastSubmittedAt,order:h.zc.Descending},expandedCommitRows:new Set},commitMap:new Map,countData:{loading:!0,data:null,acceptedCount:0,failedCount:0,untouchedCount:0,numAcSubmissions:0,numSubmissions:0}},a}var a,i,l,L,E,k,P;return Object(n.__extends)(t,e),t.prototype.getQuestions=function(e,t){var a=this,i=t.pipe(Object(b.a)((function(e){return e.progress})));return e.pipe(Object(j.a)(i),Object(b.a)((function(e){var t=Object(n.__read)(e,2),a=t[0],i=t[1];return Object(n.__assign)({numPerPage:i.questionList.numPerPage,pageNum:i.questionList.current,status:i.status,level:i.questionList.level,sorter:i.questionList.sorter,input:i.searchStr},a)})),Object(b.a)((function(e){return Object(n.__assign)(Object(n.__assign)({},e),{filters:e.level.map((function(e){return x.e[e]}))})})),Object(g.a)((function(e){return a.client.query({query:v.a,variables:Object(n.__assign)({status:x.i[e.status],skip:e.numPerPage*(e.pageNum-1),first:e.numPerPage,sortField:e.sorter.field,sortOrder:e.sorter.order,difficulty:e.filters},e.input?{keyword:e.input}:{}),fetchPolicy:"network-only"}).pipe(Object(m.a)("\u83b7\u53d6\u6570\u636e\u9519\u8bef",!0),Object(b.a)((function(t){var n=t.data;return a.createAction("finish")({data:n,param:e})})),Object(_.a)(a.createAction("loading")({param:e})))})))},t.prototype.getCommits=function(e){var t=this;return e.pipe(Object(O.a)((function(e){return t.client.query({query:A.a,variables:{offset:(e.pageNum-1)*e.numPerPage,limit:e.numPerPage,questionSlug:e.questionSlug}}).pipe(Object(m.a)("\u83b7\u53d6\u63d0\u4ea4\u6570\u636e\u5931\u8d25",!0),Object(b.a)((function(a){var n=a.data;return t.createAction("finish")({data:n?n.submissionList:null,param:e})})),Object(_.a)(t.createAction("loading")(e)))})))},t.prototype.getCountData=function(e){var t=this;return e.pipe(Object(g.a)((function(){return t.client.query({query:S.a})})),Object(m.a)("\u83b7\u53d6\u6570\u636e\u9519\u8bef",!0),Object(b.a)(this.createAction("finish")),Object(_.a)(this.createAction("loading")()))},t.prototype.toggleCommitTable=function(e,t){var a=t.payload,i=(e.searchStr?e.searchedList:e.questionList).expandedCommitRows;return i.has(a)?i.delete(a):i.add(a),Object(n.__assign)(Object(n.__assign)({},e),e.searchStr?{searchedList:Object(n.__assign)(Object(n.__assign)({},e.searchedList),{expandedCommitRows:i})}:{questionList:Object(n.__assign)(Object(n.__assign)({},e.questionList),{expandedCommitRows:i})})},Object(n.__decorate)([Object(c.a)({loading:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)({},e),a.param.input?{searchedList:Object(n.__assign)(Object(n.__assign)({},e.searchedList),{loading:!0})}:{questionList:Object(n.__assign)(Object(n.__assign)({},e.questionList),{loading:!0})})},finish:function(e,t){var a=t.payload;return Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e),{status:a.param.status,searchStr:a.param.input}),a.param.input?{searchedList:Object(n.__assign)(Object(n.__assign)({},e.searchedList),{list:a.data.userProfileQuestions.questions,totalNum:a.data.userProfileQuestions.totalNum,current:a.param.pageNum,loading:!1,level:a.param.level,sorter:a.param.sorter})}:{questionList:Object(n.__assign)(Object(n.__assign)({},e.questionList),{list:a.data.userProfileQuestions.questions,totalNum:a.data.userProfileQuestions.totalNum,current:a.param.pageNum,loading:!1,level:a.param.level,sorter:a.param.sorter})})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof p.a&&p.a)?a:Object,"function"===typeof(i="undefined"!==typeof s.a&&s.a)?i:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getQuestions",null),Object(n.__decorate)([Object(c.a)({finish:function(e,t){var a=t.payload,i=e.searchStr?e.searchedList.list.find((function(e){return e.titleSlug===a.param.questionSlug})):e.questionList.list.find((function(e){return e.titleSlug===a.param.questionSlug}));if(!a.data||!i)return e;var r={loading:!1,current:a.param.pageNum,questionSlug:a.param.questionSlug,list:Object(n.__spread)(a.data.submissions),totalNum:i.numSubmitted,numPerPage:a.param.numPerPage},o=e.commitMap;return o.set(a.param.questionSlug,r),Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e),{commitMap:new Map(o)}),e.searchStr?{searchedList:Object(n.__assign)({},e.searchedList)}:{questionList:Object(n.__assign)({},e.questionList)})},loading:function(e,t){var a=t.payload,i=e.commitMap,r=i.has(a.questionSlug)?Object(n.__assign)(Object(n.__assign)({},i.get(a.questionSlug)),{loading:!0}):{loading:!0,current:a.pageNum,questionSlug:a.questionSlug,list:[],totalNum:0,numPerPage:a.numPerPage};return i.set(a.questionSlug,r),Object(n.__assign)(Object(n.__assign)(Object(n.__assign)({},e),{commitMap:new Map(i)}),e.searchStr?{searchedList:Object(n.__assign)({},e.searchedList)}:{questionList:Object(n.__assign)({},e.questionList)})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof p.a&&p.a)?l:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getCommits",null),Object(n.__decorate)([Object(c.a)({loading:function(e){return Object(n.__assign)(Object(n.__assign)({},e),{countData:Object(n.__assign)(Object(n.__assign)({},e.countData),{loading:!0})})},finish:function(e,t){var a,i=t.payload,o=i.data.userProfileSessionProgress?((a={})[x.b.Accepted]=i.data.userProfileSessionProgress.numAcceptedQuestions,a[x.b.Failed]=i.data.userProfileSessionProgress.numFailedQuestions,a[x.b.Untouched]=i.data.userProfileSessionProgress.numUntouchedQuestions,a):null;if(!o)return e;var c={},s=[],u={id:"\u5168\u90e8",value:0,color:f.a.grey(0),className:"progress-chart-all"};Object.entries(o).forEach((function(e){var t=Object(n.__read)(e,2),a=t[0],i=t[1],r={id:Object(w.b)(a,"\u5168\u90e8"),parent:u.id,value:i.reduce((function(e,t){return e+t.count}),0),color:x.d[a].sum};c[a]=r,s.push.apply(s,Object(n.__spread)(i.map((function(e){var t=e.count,n=e.difficulty;return{id:Object(w.b)(a,x.e[n]),parent:r.id,value:t,color:x.d[a][x.e[n]]}}))))}));var d=Object.values(c);return u.value=d.reduce((function(e,t){return e+t.value}),0),Object(n.__assign)(Object(n.__assign)({},e),{countData:{loading:!1,data:Object(n.__spread)([u],d,r()(s)),numSubmissions:i.data.userProfileSessionProgress.numSubmissions,numAcSubmissions:i.data.userProfileSessionProgress.numAcSubmissions,acceptedCount:c[x.b.Accepted].value,failedCount:c[x.b.Failed].value,untouchedCount:c[x.b.Untouched].value}})}}),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(L="undefined"!==typeof p.a&&p.a)?L:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"getCountData",null),Object(n.__decorate)([Object(u.a)(),Object(n.__metadata)("design:type",Function),Object(n.__metadata)("design:paramtypes",["function"===typeof(E="undefined"!==typeof ProgressStateProps&&ProgressStateProps)?E:Object,"function"===typeof(k="undefined"!==typeof o.Action&&o.Action)?k:Object]),Object(n.__metadata)("design:returntype",void 0)],t.prototype,"toggleCommitTable",null),t=Object(n.__decorate)([Object(d.a)("Progress"),Object(n.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof y.a&&y.a)?P:Object])],t)}(l.a)},zRE0:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return je})),a.d(t,"c",(function(){return ge}));var n,i,r=a("D57K"),o=a("DuHN"),c=(a("IJu9"),a("pE6G")),s=a("cLgN"),u=a("FWdR"),d=a("nUi0"),l=a("0Spe"),p=a("q/oC"),b=a("SpHq"),j=a("iJR/"),g=a("pN2L"),_=a("gQst"),O=a("d9YI"),f=a("HnWI"),m=a("rzNM"),y=a("Jg5f"),h=a("U3QC"),v=a("4HYP"),A=a("IMYO"),S=a("W/Ou"),x=a("Qksx"),w=a("R+ki"),L=a("AouM"),E=a("4S5C"),k=a("eb+u"),P=a("z5yO"),F=a("lqvn"),C=a("mhnT"),D=a("RtDN"),T=a("gd5h"),I=a("B07F"),q=a("w+fZ"),R=a("wUZp"),M=a("LgXZ"),N=a("34li"),U=a("e2dj"),W=a("w0hb"),z=a("54Is"),B=a("ChPs"),H=a("wAdY"),Q=a("cSvB"),Y=a("O1bG"),G=a("sW8v"),V=a("E4o7"),J=a("YrHu"),K=a("cl3B"),Z=a("nLNW"),$=a("mzra"),X=a("eKGS"),ee=a("QECw"),te=a("+syZ"),ae=a("NON7"),ne=a("SYvJ"),ie=a("+RWG"),re=a("cZYK"),oe=a("YeJ6"),ce=a("6Yc3"),se=a("+Gji"),ue=a("Fr7C"),de=a("gH+X"),le=a("/7PA"),pe=a("VxrX");function be(e,t,a){return Object(r.__assign)(Object(r.__assign)({isPublishSuccessful:!1,isPublishing:!1,isDeleting:!1,editorMode:n.EDIT},t),{savingCount:e,isSynchronized:0===e,articleData:Object(r.__assign)(Object(r.__assign)({status:N.o.Draft,questionSlug:"",title:"",content:"",tags:[],isPicked:!1},t&&t.articleData),a),canEditReward:!!(null===t||void 0===t?void 0:t.canEditReward),rewardEnabled:!!(null===t||void 0===t?void 0:t.rewardEnabled)})}!function(e){e.EDIT="edit",e.PREVIEW="preview",e.FULLSCREEN="fullscreen"}(n||(n={})),function(e){e.NONE="none",e.EDITOR="editor",e.DETAIL="detail",e.WILL_CLOSE_EDITOR="willCloseEditor"}(i||(i={}));var je="s-p-sw";var ge=function(e){function t(t,a){var n=e.call(this)||this;return n.client=t,n.logger=a,n.defaultState={columnsExternalImgHostWhitelist:[],solutionAreaShownPart:i.NONE,solutionAreaNextPart:i.NONE,isShowSolutionBar:!1,articleTags:[],recommendTags:[],solutionEditor:be(0),editingMode:!1,users:{},solutions:{articleList:{articles:[],loading:!0,totalNum:0},searchedArticleList:{articles:[],loading:!0,totalNum:0},draftList:{articles:[],loading:!0}},solutionNum:0,solutionDetail:{loading:!0,article:null},adminOperationResult:{slug:null,message:null},solutionStatus:{loading:!0,article:null},detailShowIsLeft:!1},n}var a,b,ge,_e,Oe,fe,me,ye,he,ve,Ae,Se,xe,we,Le,Ee,ke,Pe,Fe,Ce,De,Te,Ie,qe,Re,Me,Ne,Ue,We,ze,Be,He,Qe,Ye,Ge,Ve,Je,Ke,Ze,$e,Xe,et,tt,at,nt,it;return Object(r.__extends)(t,e),t.prototype.setPositionIsLeft=function(e,t){var a,n=t.payload;return a=n,window.localStorage.setItem(je,a?"l":"r"),Object(r.__assign)(Object(r.__assign)({},e),{detailShowIsLeft:n})},t.prototype.getColumnsExternalImgHostWhitelist=function(e){var t=this;return e.pipe(Object(m.a)((function(){return t.client.query({query:U.a})})),Object(y.a)(this.createAction("finish")))},t.prototype.deleteSolutionArticle=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var a=e.slug,n=e.callback,i=e.questionSlug;return t.client.mutate({mutation:W.a,variables:{slug:a}}).pipe(Object(h.a)((function(e){var a=e.errors,i=e.data;i&&i.deleteArticle&&i.deleteArticle.ok?(n(),o.b.success("\u5220\u9664\u6210\u529f"),pe.a.questionDetail.deleteSolutionArticle({status:"success"})):(o.b.error("\u5220\u9664\u5931\u8d25"),pe.a.questionDetail.deleteSolutionArticle({status:"fail"})),t.logger.if(!!a).error("fetch deleteSolutionArticle error",{errors:a})})),Object(v.b)((function(e){var a=e.data,n=e.errors;return Object(j.a)(Object(r.__spread)([t.createAction("finish")({data:a,errors:n})],a&&a.deleteArticle&&a.deleteArticle.ok?[t.createActionFrom(t.getDraftList)(i)]:[]))})),Object(A.a)((function(){return Object(g.a)(t.createAction("deleteFailed")())})),Object(S.a)(t.createAction("beforeDelete")()))})))},t.prototype.publishSolutionArticle=function(e){return this._publish({payload$:e,mutation:z.a})},t.prototype.mockPublishSolutionArticle=function(e){return this._publish({payload$:e,mutation:B.a})},t.prototype.saveSolutionArticleToRemote=function(e){var t=this;return e.pipe(Object(y.a)((function(e){return{slug:e.slug,title:e.title,content:e.content,questionSlug:e.questionSlug,tags:e.tags.map((function(e){return e.slug}))}})),Object(x.b)((function(e){return e.slug})),Object(v.b)((function(e){return e.pipe(Object(w.a)(1e3),Object(L.a)((function(e){return t.client.mutate({mutation:H.a,variables:{data:e}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch autoSaveSolutionArticle error",{errors:a})})),Object(y.a)(t.createAction("afterSaving")),Object(S.a)(t.createAction("beforeSaving")(!0)))})),Object(E.a)((function(e,a){return e.type===a.type&&"beforeSaving"===a.type?t.createAction("beforeSaving")(!1):a})))})))},t.prototype.saveSolutionArticle=function(e,t){var a=e.pipe(Object(k.a)(t),Object(y.a)((function(e){var t=Object(r.__read)(e,2),a=t[0],n=t[1];return Object(r.__assign)(Object(r.__assign)({},n.solution.solutionEditor.articleData),a)}))),n=a.pipe(Object(y.a)(this.createAction("saveToLocal"))),i=a.pipe(Object(P.a)((function(e){return e.status===N.o.Draft})),Object(y.a)(this.createActionFrom(this.saveSolutionArticleToRemote)));return Object(_.a)(n,i)},t.prototype.hideSolutionEditor=function(e,t){var a=this,n=e.pipe(Object(y.a)(this.createActionFrom(this.hideSolutionEditorDirectly)),Object(h.a)((function(){return pe.a.questionDetail.hideSolutionEditor()}))),i=e.pipe(Object(k.a)(t),Object(y.a)((function(e){var t=Object(r.__read)(e,2);t[0];return t[1].solution.solutionEditor.articleData})),Object(P.a)((function(e){var t=e.slug,a=e.status;return!!t&&a!==N.o.Published&&![N.o.Prepublish,N.o.Checking].includes(a)})),Object(v.b)((function(e){return Object(j.a)([a.createActionFrom(a.saveSolutionArticleToRemote)(e),a.createActionFrom(a.getDraftList)(e.questionSlug)])})));return Object(_.a)(n,i)},t.prototype.hideSolutionEditorDirectly=function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:e.solutionAreaNextPart,solutionAreaNextPart:i.NONE})},t.prototype.showSolutionEditorForEditingArticle=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:Q.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch solutionArticleToEdit error",{errors:a}),pe.a.questionDetail.showSolutionEditorForEditingArticle()})),Object(y.a)((function(a){return t.createAction("restore")({response:a,slug:e})})))})))},t.prototype.showNewSolutionEditorForEditingArticle=function(e){var t=this;return e.pipe(Object(L.a)((function(e){var a=e.slug,n=e.editingMode;return t.client.query({query:Q.a,variables:{slug:a},fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch solutionArticleToEdit error",{errors:a}),pe.a.questionDetail.showSolutionEditorForEditingArticle()})),Object(y.a)((function(e){return t.createAction("restore")({response:e,slug:a,editingMode:n})})))})))},t.prototype.checkCanEditReward=function(e){var t=this;return e.pipe(Object(L.a)((function(){return t.client.query({query:Y.a,fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch userRewardStatus error",{errors:a})})),Object(y.a)((function(e){return t.createAction("finish")({response:e})})))})))},t.prototype.showSolutionEditorForCreatingArticle=function(e,t){var a=e.solutionEditor,n=Object(r.__rest)(e,["solutionEditor"]),o=a.savingCount,c=t.payload;return pe.a.questionDetail.showSolutionEditorForCreatingArticle(),Object(r.__assign)(Object(r.__assign)({},n),{solutionAreaShownPart:i.EDITOR,solutionEditor:be(o,{},c),editingMode:!1})},t.prototype.switchSolutionEditorMode=function(e,t){var a=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]),o=a.editorMode===n.EDIT?n.PREVIEW:n.EDIT,c=t.payload||o;return pe.a.questionDetail.switchToEditorMode({editorMode:c}),Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},a),{editorMode:c})})},t.prototype.getArticleTags=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(F.a)(),Object(L.a)((function(e){return t.client.query({query:de.a,variables:{in:{tagGroupSlugs:["language","knowledge"],tagCategorySlugs:[],keyWords:e,offset:0,limit:99}},fetchPolicy:"network-only",context:{uri:T.j}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch article tags error",{errors:a})})),Object(y.a)(t.createAction("finish")))})))},t.prototype.getRecommendTags=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(F.a)(),Object(L.a)((function(e){return t.client.query({query:le.a,variables:{questionSlug:e},context:{uri:T.j}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch article tags error",{errors:a})})),Object(y.a)(t.createAction("finish")))})))},t.prototype.toggleShowSolutionBar=function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{isShowSolutionBar:!!a})},t.prototype.getArticleList=function(e){var t=this;return e.pipe(Object(m.a)((function(e){return t.client.query({query:G.a,variables:e,fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch article list error",{errors:a})})),Object(y.a)(t.createAction("finish")),Object(R.a)("fetch article http error"),Object(S.a)(t.createAction("loading")()),Object(C.a)(t.disposeArticleList$))})))},t.prototype.getMyArticleList=function(e){var t=this;return e.pipe(Object(m.a)((function(e){return t.client.query({query:V.a,variables:e,fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("fetch article list error",{errors:a})})),Object(y.a)(t.createAction("finish")),Object(R.a)("fetch article http error"),Object(S.a)(t.createAction("loading")()),Object(C.a)(t.disposeArticleList$))})))},t.prototype.getDraftList=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:J.a,variables:{questionSlug:e},fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get draft list error",{errors:a})})),Object(R.a)("get draft list http error"),Object(y.a)(t.createAction("finish")),Object(S.a)(t.createAction("loading")()))})))},t.prototype.getSearchedArticleList=function(e){var t=this;return e.pipe(Object(w.a)(1e3),Object(L.a)((function(e){return t.client.query({query:G.a,variables:e,fetchPolicy:"network-only"}).pipe(Object(h.a)((function(a){var n=a.errors;pe.a.questionDetail.solutionListSearch({questionSlug:e.questionSlug}),t.logger.if(!!n).error("fetch article list error",{errors:n})})),Object(y.a)(t.createAction("finish")),Object(R.a)("fetch article http error"),Object(S.a)(t.createAction("loading")()),Object(C.a)(t.disposeArticleList$))})))},t.prototype.upvoteArticle=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:K.a,variables:{articleSlug:e}}).pipe(Object(h.a)((function(a){var n=a.errors;pe.a.questionDetail.upvoteArticle({articleSlug:e}),t.logger.if(!!n).error("upvote an article error",{errors:n})})),Object(v.b)((function(){return Object(g.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(R.a)("upvote an article http error"))})))},t.prototype.cancelUpvoteArticle=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:Z.a,variables:{articleSlug:e}}).pipe(Object(h.a)((function(a){var n=a.errors;t.logger.if(!!n).error("cancel upvote an article error",{errors:n}),pe.a.questionDetail.cancelUpvoteArticle({articleSlug:e})})),Object(v.b)((function(){return Object(g.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(R.a)("cancel upvote an article http error"))})))},t.prototype.addFavoriteArticle=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:$.a,variables:{data:{articleSlug:e}}}).pipe(Object(h.a)((function(a){var n=a.errors;t.logger.if(!!n).error("mark an article as favorite error",{errors:n}),pe.a.questionDetail.addFavoriteArticle({articleSlug:e})})),Object(v.b)((function(){return Object(g.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(R.a)("mark an article as favorite http error"))})))},t.prototype.removeFavoriteArticle=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(m.a)((function(e){return t.client.mutate({mutation:X.a,variables:{data:{articleSlug:e}}}).pipe(Object(h.a)((function(a){var n=a.errors;t.logger.if(!!n).error("unmark an article as favorite error",{errors:n}),pe.a.questionDetail.removeFavoriteArticle({articleSlug:e})})),Object(v.b)((function(){return Object(g.a)(t.createActionFrom(t.updateArticleList)(e),t.createActionFrom(t.getSolutionListArticle)(e))})),Object(R.a)("unmark an article as favorite http error"))})))},t.prototype.updateArticleList=function(e){var t=this;return e.pipe(Object(m.a)((function(e){return t.client.query({query:ee.a,variables:{slug:e,orderBy:N.xc.Default},fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get an article error",{errors:a})})),Object(R.a)("get an article http error"),Object(y.a)(t.createAction("update")))})))},t.prototype.addReaction=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(m.a)((function(e){var a=e.articleSlug,n=e.articleId,i=e.reactionType;return t.client.mutate({mutation:te.a,variables:{articleId:n,reactionType:i}}).pipe(Object(h.a)((function(e){var n=e.errors;pe.a.questionDetail.addReaction({articleSlug:a,reactionType:i}),t.logger.if(!!n).error("add or update reaction error",{errors:n})})),Object(R.a)("add or update reaction http error"),Object(v.b)((function(){return Object(g.a)(t.createActionFrom(t.updateArticleList)(a),t.createActionFrom(t.getSolutionListArticle)(a))})))})))},t.prototype.removeReaction=function(e){var t=this;return e.pipe(Object(w.a)(300),Object(m.a)((function(e){var a=e.articleSlug,n=e.articleId;return t.client.mutate({mutation:ae.a,variables:{articleId:n}}).pipe(Object(h.a)((function(e){var n=e.errors;pe.a.questionDetail.removeReaction({articleSlug:a}),t.logger.if(!!n).error("remove reaction error",{errors:n})})),Object(R.a)("remove reaction http error"),Object(v.b)((function(){return Object(g.a)(t.createActionFrom(t.updateArticleList)(a),t.createActionFrom(t.getSolutionListArticle)(a))})))})))},t.prototype.getSolutionCount=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:ne.a,variables:{questionSlug:e}})})),Object(y.a)(this.createAction("finish")))},t.prototype.getSolutionDetailArticle=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:ee.a,variables:{slug:e,orderBy:N.xc.Default},fetchPolicy:"network-only"}).pipe(Object(h.a)((function(a){var n=a.errors;Object(M.a)(t.client,{entityType:N.bb.Article,entityId:e}),t.logger.if(!!n).error("get solution article error",{errors:n})})),Object(R.a)("get solution article http error"),Object(y.a)(t.createAction("finish")),Object(S.a)(t.createAction("loading")()))})))},t.prototype.getSolutionDetailArticleStatus=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:ie.a,variables:{slug:e,orderBy:N.xc.Default},fetchPolicy:"no-cache"}).pipe(Object(h.a)((function(a){var n=a.errors;Object(M.a)(t.client,{entityType:N.bb.Article,entityId:e}),t.logger.if(!!n).error("get solution article error",{errors:n})})),Object(A.a)((function(){return O.a})),Object(y.a)(t.createAction("finish")),Object(S.a)(t.createAction("statusLoading")()))})))},t.prototype.getSolutionListArticle=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:re.a,variables:{slug:e},fetchPolicy:"network-only"}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("get solution list article error",{errors:a})})),Object(R.a)("get solution list article http error"),Object(y.a)(t.createAction("finish")))})))},t.prototype.updateSolutionArticleTag=function(e,t){var a,n,i=t.payload,o=function(e){var t;return e.slug===i.slug?Object(r.__assign)(Object(r.__assign)({},e),((t={})[i.key]=i.value,t)):e},c=e.solutionDetail;return(null===(n=c.article)||void 0===n?void 0:n.slug)===i.slug&&(c=Object(r.__assign)(Object(r.__assign)({},c),{article:Object(r.__assign)(Object(r.__assign)({},c.article),(a={},a[i.key]=i.value,a))})),Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:e.solutions.articleList.articles.map(o)}),searchedArticleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.searchedArticleList),{articles:e.solutions.searchedArticleList.articles.map(o)})}),solutionDetail:c})},t.prototype.setSolutionArticleAsEditorsPick=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var a=e.slug,n=e.value;return t.client.mutate({mutation:oe.a,variables:{slug:a,value:n}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article as editors-pick error",{errors:a})})),Object(y.a)((function(e){var i=e.data;return e.errors||i.columnsSetArticleAsEditorsPick.error?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u8bbe\u4e3a\u7cbe\u9009\u64cd\u4f5c\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u7cbe\u9009\u64cd\u4f5c\u5931\u8d25"}):t.createActionFrom(t.updateSolutionArticleTag)({slug:a,value:n,key:"isEditorsPick"})})),Object(R.a)("admin mutate solution article as editors-pick http error"))})))},t.prototype.setSolutionArticleAsOfficial=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var a=e.slug,n=e.value;return t.client.mutate({mutation:ce.a,variables:{slug:a,value:n}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article as official error",{errors:a})})),Object(y.a)((function(e){var i=e.data;return e.errors||i.columnsSetArticleAsByLeetCode.error?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u8bbe\u4e3a\u5b98\u65b9\u64cd\u4f5c\u5931\u8d25":"\u53d6\u6d88\u8bbe\u4e3a\u5b98\u65b9\u64cd\u4f5c\u5931\u8d25"}):t.createActionFrom(t.updateSolutionArticleTag)({slug:a,value:n,key:"byLeetcode"})})),Object(R.a)("admin mutate solution article as official http error"))})))},t.prototype.setSolutionArticleSink=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var a=e.slug,n=e.sunk;return t.client.mutate({mutation:se.a,variables:{slug:a,sunk:n}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article sunk error",{errors:a})})),Object(y.a)((function(e){return e.errors?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u4e0b\u6c89\u5931\u8d25":"\u53d6\u6d88\u4e0b\u6c89\u5931\u8d25"}):t.createActionFrom(t.updateSolutionArticleTag)({slug:a,value:n,key:"sunk"})})),Object(R.a)("\u7f51\u7edc\u9519\u8bef"))})))},t.prototype.setSolutionArticleAsRemoved=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var a=e.slug,n=e.value;return t.client.mutate({mutation:ue.a,variables:{slug:a,value:n}}).pipe(Object(h.a)((function(e){var a=e.errors;t.logger.if(!!a).error("admin mutate solution article removed error",{errors:a})})),Object(y.a)((function(e){var i=e.data;return e.errors||i.columnsSetArticleAsRemoved.error?t.createActionFrom(t.setAdminOperationResult)({slug:a,message:n?"\u5220\u9664\u5931\u8d25":"\u6062\u590d\u5220\u9664\u5931\u8d25"}):t.createAction("finish")({slug:a,value:n})})),Object(R.a)("admin mutate solution article removed http error"))})))},t.prototype.setAdminOperationResult=function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{adminOperationResult:Object(r.__assign)({},a)})},t.prototype.resetAdminOperationResult=function(e){return Object(r.__assign)(Object(r.__assign)({},e),{adminOperationResult:{slug:null,message:null}})},t.prototype.setSolutionArticleAsWithdrawed=function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:e.solutions.articleList.articles.filter((function(e){return e.slug!==a}))})})})},t.prototype.showSolutionDetail=function(e){var t=e.pipe(Object(P.a)((function(e){return e===i.EDITOR})),Object(y.a)(this.createActionFrom(this.showCloseEditorModal))),a=e.pipe(Object(P.a)((function(e){return e!==i.DETAIL})),Object(y.a)(this.createAction("show")));return Object(_.a)(t,a)},t.prototype.showCloseEditorModal=function(e){return pe.a.questionDetail.showCloseEditorModal(),Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:i.WILL_CLOSE_EDITOR})},t.prototype.hideCloseEditorModal=function(e){return pe.a.questionDetail.hideCloseEditorModal(),Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:i.EDITOR,solutionAreaNextPart:i.NONE})},t.prototype.changeRewardEnabled=function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},e.solutionEditor),{rewardEnabled:a})})},t.prototype._publish=function(e){var t=this,a=e.payload$,n=e.mutation;return a.pipe(Object(L.a)((function(e){return e.pipe(Object(L.a)((function(e){var a=e.data,i=e.callback;return t.client.mutate({mutation:n,variables:{data:a}}).pipe(Object(y.a)((function(e){var t=e.data;if(t){if("publishSolutionArticle"in t)return Object(r.__assign)(Object(r.__assign)({},e),{data:t.publishSolutionArticle});if("officialPublishSolutionArticle"in t)return Object(r.__assign)(Object(r.__assign)({},e),{data:t.officialPublishSolutionArticle})}return Object(r.__assign)(Object(r.__assign)({},e),{data:void 0})})),Object(h.a)((function(e){var a=e.errors,n=e.data;n&&n.ok?(i(n.article.slug),o.b.success("\u53d1\u5e03\u6210\u529f"),pe.a.questionDetail.publishSolutionArticle({status:"success"})):(o.b.error("\u53d1\u5e03\u5931\u8d25"),pe.a.questionDetail.publishSolutionArticle({status:"fail"})),t.logger.if(!!a).error("fetch publishSolutionArticle error",{errors:a})})),Object(v.b)((function(e){var a=e.errors,n=e.data;return Object(j.a)(Object(r.__spread)([t.createAction("finish")({data:n,errors:a})],n&&n.ok?[t.createActionFrom(t.getDraftList)(n.article.question.questionTitleSlug),t.createActionFrom(t.getSolutionDetailArticle)(n.article.slug)]:[]))})))})),Object(R.a)("\u53d1\u5e03\u9898\u89e3\u5931\u8d25"),Object(S.a)(t.createAction("beforePublish")()),Object(D.a)(t.createAction("afterPublish")()))})))},Object(r.__decorate)([Object(s.a)(),Object(r.__metadata)("design:type","function"===typeof(a="undefined"!==typeof f.a&&f.a)?a:Object)],t.prototype,"disposeArticleList$",void 0),Object(r.__decorate)([Object(s.a)(),Object(r.__metadata)("design:type","function"===typeof(b="undefined"!==typeof f.a&&f.a)?b:Object)],t.prototype,"disposeDraftList$",void 0),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(ge="undefined"!==typeof c.Action&&c.Action)?ge:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setPositionIsLeft",null),Object(r.__decorate)([Object(d.a)({finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{columnsExternalImgHostWhitelist:a.data.columnsExternalImgHostWhitelist})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(_e="undefined"!==typeof f.a&&f.a)?_e:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getColumnsExternalImgHostWhitelist",null),Object(r.__decorate)([Object(d.a)({beforeDelete:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isDeleting:!0})})},finish:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]);return a.data.deleteArticle.ok?Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:be(n.savingCount)}):Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{isDeleting:!1})})},deleteFailed:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isDeleting:!1})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Oe="undefined"!==typeof f.a&&f.a)?Oe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"deleteSolutionArticle",null),Object(r.__decorate)([Object(d.a)({beforePublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!0,isPublishSuccessful:!1})})},afterPublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!1})})},finish:function(e,t){var a=t.payload,n=e.solutionEditor,o=Object(r.__rest)(e,["solutionEditor"]);if(a.data.ok)return Object(r.__assign)(Object(r.__assign)({},o),{solutionAreaShownPart:i.DETAIL,solutionEditor:Object(r.__assign)(Object(r.__assign)({},be(n.savingCount)),{isPublishSuccessful:!0})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(fe="undefined"!==typeof f.a&&f.a)?fe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"publishSolutionArticle",null),Object(r.__decorate)([Object(d.a)({beforePublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!0,isPublishSuccessful:!1})})},afterPublish:function(e){var t=e.solutionEditor,a=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},a),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},t),{isPublishing:!1})})},finish:function(e,t){var a=t.payload,n=e.solutionEditor,o=Object(r.__rest)(e,["solutionEditor"]);if(a.data.ok)return Object(r.__assign)(Object(r.__assign)({},o),{solutionAreaShownPart:i.DETAIL,solutionEditor:Object(r.__assign)(Object(r.__assign)({},be(n.savingCount)),{isPublishSuccessful:!0})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(me="undefined"!==typeof f.a&&f.a)?me:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"mockPublishSolutionArticle",null),Object(r.__decorate)([Object(d.a)({beforeSaving:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{isSynchronized:!1,savingCount:n.savingCount+(a?1:0)})})},afterSaving:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]),o=a.data.autoSaveSolutionArticle,c=n.savingCount-1,s=0===c,u=Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{savingCount:c,isSynchronized:s})});return o&&o.ok&&!n.articleData.slug&&(u.solutionEditor.articleData.slug=o.article.slug),u}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ye="undefined"!==typeof f.a&&f.a)?ye:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"saveSolutionArticleToRemote",null),Object(r.__decorate)([Object(d.a)({saveToLocal:function(e,t){var a=t.payload,n=e.solutionEditor,i=Object(r.__rest)(e,["solutionEditor"]);return Object(r.__assign)(Object(r.__assign)({},i),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},n),{isSynchronized:!1,articleData:Object(r.__assign)(Object(r.__assign)({},n.articleData),a)})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(he="undefined"!==typeof f.a&&f.a)?he:Object,"function"===typeof(ve="undefined"!==typeof l.a&&l.a)?ve:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"saveSolutionArticle",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ae="undefined"!==typeof f.a&&f.a)?Ae:Object,"function"===typeof(Se="undefined"!==typeof l.a&&l.a)?Se:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideSolutionEditor",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideSolutionEditorDirectly",null),Object(r.__decorate)([Object(d.a)({restore:function(e,t){var a=t.payload,n=a.response.data,o=n.solutionArticle,c=n.solutionArticleToEdit,s=a.slug;if(c){var u=c.question,d=c.title,l=c.content,p=c.tags,b=c.isEditorsPick,j=c.canEditReward,g=c.rewardEnabled,_=o?o.status:N.o.Draft;return Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:i.EDITOR,editingMode:!1,solutionEditor:be(e.solutionEditor.savingCount,{canEditReward:!!j,rewardEnabled:!!g},{slug:s,title:d,status:_,content:l,isPicked:b,questionSlug:u.questionTitleSlug,tags:(p||[]).filter((function(e){return!!e}))}),newVersion:"\x01"===d[0]})}}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(xe="undefined"!==typeof f.a&&f.a)?xe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showSolutionEditorForEditingArticle",null),Object(r.__decorate)([Object(d.a)({restore:function(e,t){var a=t.payload,n=a.response.data,o=n.solutionArticle,c=n.solutionArticleToEdit,s=a.slug,u=a.editingMode;if(c){var d=c.question,l=c.title,p=c.content,b=c.tags,j=c.isEditorsPick,g=c.canEditReward,_=c.rewardEnabled,O=o?o.status:N.o.Draft;return Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaShownPart:i.EDITOR,solutionEditor:be(e.solutionEditor.savingCount,{canEditReward:!!g,rewardEnabled:!!_},{slug:s,title:l,status:O,content:p,isPicked:j,questionSlug:d.questionTitleSlug,tags:(b||[]).filter((function(e){return!!e}))}),newVersion:"\x01"===l[0],editingMode:!!u})}}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(we="undefined"!==typeof f.a&&f.a)?we:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showNewSolutionEditorForEditingArticle",null),Object(r.__decorate)([Object(d.a)({finish:function(e,t){var a,n=t.payload.response.data.ugcRewardsUserOptInStatus;if(n)return Object(r.__assign)(Object(r.__assign)({},e),{editingMode:!1,solutionEditor:Object(r.__assign)(Object(r.__assign)({},e.solutionEditor),{canEditReward:null===(a=n.status)||void 0===a?void 0:a.allowOpen})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Le="undefined"!==typeof f.a&&f.a)?Le:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"checkCanEditReward",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(Ee="undefined"!==typeof c.Action&&c.Action)?Ee:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showSolutionEditorForCreatingArticle",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(ke="undefined"!==typeof c.Action&&c.Action)?ke:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"switchSolutionEditorMode",null),Object(r.__decorate)([Object(d.a)({finish:function(e,t){var a=(t.payload.data.searchTags.nodes||[]).filter(Boolean);return Object(r.__assign)(Object(r.__assign)({},e),{articleTags:a})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Pe="undefined"!==typeof f.a&&f.a)?Pe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getArticleTags",null),Object(r.__decorate)([Object(d.a)({finish:function(e,t){var a=(t.payload.data.recommendSolutionTags||[]).filter(Boolean);return Object(r.__assign)(Object(r.__assign)({},e),{recommendTags:a})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Fe="undefined"!==typeof f.a&&f.a)?Fe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getRecommendTags",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(Ce="undefined"!==typeof c.Action&&c.Action)?Ce:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"toggleShowSolutionBar",null),Object(r.__decorate)([Object(d.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:[],loading:!0})})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:{articles:[],loading:!1,totalNum:0}})});var n=a.data.questionSolutionArticles.edges.map((function(e){return e.node}));return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:{articles:n,loading:!1,totalNum:a.data.questionSolutionArticles.totalNum}})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(De="undefined"!==typeof f.a&&f.a)?De:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getArticleList",null),Object(r.__decorate)([Object(d.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:[],loading:!0})})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:{articles:[],loading:!1,totalNum:0}})});var n=a.data.questionSolutionMyArticles.edges.map((function(e){return e.node}));return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:{articles:n,loading:!1,totalNum:a.data.questionSolutionMyArticles.totalNum}})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Te="undefined"!==typeof f.a&&f.a)?Te:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getMyArticleList",null),Object(r.__decorate)([Object(d.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{draftList:{loading:!0,articles:[]}})})},finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{draftList:{loading:!1,articles:a.data.solutionDrafts.edges.map((function(e){return e.node})),totalNum:a.data.solutionDrafts.totalNum}})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ie="undefined"!==typeof f.a&&f.a)?Ie:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getDraftList",null),Object(r.__decorate)([Object(d.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{searchedArticleList:{articles:[],totalNum:0,loading:!0}})})},finish:function(e,t){var a=t.payload;if(a.errors)return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{searchedArticleList:{articles:[],loading:!1,totalNum:0}})});var n=a.data.questionSolutionArticles.edges.map((function(e){return e.node}));return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{searchedArticleList:{articles:n,loading:!1,totalNum:a.data.questionSolutionArticles.totalNum}})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(qe="undefined"!==typeof f.a&&f.a)?qe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSearchedArticleList",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Re="undefined"!==typeof f.a&&f.a)?Re:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"upvoteArticle",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Me="undefined"!==typeof f.a&&f.a)?Me:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"cancelUpvoteArticle",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ne="undefined"!==typeof f.a&&f.a)?Ne:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"addFavoriteArticle",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ue="undefined"!==typeof f.a&&f.a)?Ue:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"removeFavoriteArticle",null),Object(r.__decorate)([Object(d.a)({update:function(e,t){var a,n=t.payload,i=e.solutions.searchedArticleList.articles.length?"searchedArticleList":"articleList";return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),(a={},a[i]=Object(r.__assign)(Object(r.__assign)({},e.solutions[i]),{articles:e.solutions[i].articles.map((function(e){return e.slug===n.data.solutionArticle.slug?n.data.solutionArticle:e}))}),a))})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(We="undefined"!==typeof f.a&&f.a)?We:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"updateArticleList",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(ze="undefined"!==typeof f.a&&f.a)?ze:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"addReaction",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Be="undefined"!==typeof f.a&&f.a)?Be:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"removeReaction",null),Object(r.__decorate)([Object(d.a)({finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutionNum:a.data.solutionNum})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(He="undefined"!==typeof f.a&&f.a)?He:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSolutionCount",null),Object(r.__decorate)([Object(d.a)({loading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutionDetail:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail),{loading:!0})})},finish:function(e,t){var a=t.payload,n=a.data.solutionArticle;return Object(r.__assign)(Object(r.__assign)({},e),{solutionEditor:Object(r.__assign)(Object(r.__assign)({},e.solutionEditor),{canEditReward:null===n||void 0===n?void 0:n.canEditReward,rewardEnabled:null===n||void 0===n?void 0:n.rewardEnabled}),solutionDetail:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail),{loading:!1,article:a.data.solutionArticle})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Qe="undefined"!==typeof f.a&&f.a)?Qe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSolutionDetailArticle",null),Object(r.__decorate)([Object(d.a)({statusLoading:function(e){return Object(r.__assign)(Object(r.__assign)({},e),{solutionStatus:{loading:!0}})},finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutionStatus:{loading:!1,article:a.data.solutionArticle}})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ye="undefined"!==typeof f.a&&f.a)?Ye:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSolutionDetailArticleStatus",null),Object(r.__decorate)([Object(d.a)({finish:function(e,t){var a=t.payload;return e.solutionDetail.article&&a.data.solutionArticle.slug===e.solutionDetail.article.slug?Object(r.__assign)(Object(r.__assign)({},e),{solutionDetail:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail),{article:Object(r.__assign)(Object(r.__assign)({},e.solutionDetail.article),a.data.solutionArticle)})}):e}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ge="undefined"!==typeof f.a&&f.a)?Ge:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"getSolutionListArticle",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(Ve="undefined"!==typeof c.Action&&c.Action)?Ve:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"updateSolutionArticleTag",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Je="undefined"!==typeof f.a&&f.a)?Je:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsEditorsPick",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ke="undefined"!==typeof f.a&&f.a)?Ke:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsOfficial",null),Object(r.__decorate)([Object(d.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(Ze="undefined"!==typeof f.a&&f.a)?Ze:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleSink",null),Object(r.__decorate)([Object(d.a)({finish:function(e,t){var a=t.payload;return Object(r.__assign)(Object(r.__assign)({},e),{solutions:Object(r.__assign)(Object(r.__assign)({},e.solutions),{articleList:Object(r.__assign)(Object(r.__assign)({},e.solutions.articleList),{articles:e.solutions.articleList.articles.map((function(e){return e.slug===a.slug?Object(r.__assign)(Object(r.__assign)({},e),{status:a.value?N.o.Removed:N.o.Published}):e}))})})})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof($e="undefined"!==typeof f.a&&f.a)?$e:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsRemoved",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(Xe="undefined"!==typeof c.Action&&c.Action)?Xe:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setAdminOperationResult",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"resetAdminOperationResult",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(et="undefined"!==typeof c.Action&&c.Action)?et:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"setSolutionArticleAsWithdrawed",null),Object(r.__decorate)([Object(d.a)({show:function(e){var t=e.solutionAreaShownPart===i.WILL_CLOSE_EDITOR;return Object(r.__assign)(Object(r.__assign)({},e),{solutionAreaNextPart:t?i.DETAIL:i.NONE,solutionAreaShownPart:t?i.WILL_CLOSE_EDITOR:i.DETAIL})}}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",["function"===typeof(tt="undefined"!==typeof f.a&&f.a)?tt:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showSolutionDetail",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"showCloseEditorModal",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"hideCloseEditorModal",null),Object(r.__decorate)([Object(u.a)(),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Object,"function"===typeof(at="undefined"!==typeof c.Action&&c.Action)?at:Object]),Object(r.__metadata)("design:returntype",void 0)],t.prototype,"changeRewardEnabled",null),t=Object(r.__decorate)([Object(p.a)("Solution"),Object(r.__metadata)("design:paramtypes",["function"===typeof(nt="undefined"!==typeof I.a&&I.a)?nt:Object,"function"===typeof(it="undefined"!==typeof q.a&&q.a)?it:Object])],t)}(b.a)}}]);