(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[55],{"+Sm+":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/arithmeticInterviewCheatSheet.d1a5f1d2.png"},"/WF+":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("jg1C"),o=i("ERkP"),r=i.n(o),d=i("GG6d"),c=r.a.forwardRef((function(e,t){return Object(a.jsx)(d.a,Object(n.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M7.707 12.293L12 16.586l4.293-4.293a1 1 0 011.414 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 111.414-1.414zM12 9.586l4.293-4.293a1 1 0 111.414 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L12 9.586z",clipRule:"evenodd"},void 0)}),void 0)}))},"0FcP":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("jg1C"),o=i("ERkP"),r=i.n(o),d=i("GG6d"),c=r.a.forwardRef((function(e,t){return Object(a.jsx)(d.a,Object(n.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M12 16.945l-5.331 4.798C6.025 22.323 5 21.866 5 21V5a3 3 0 013-3h8a3 3 0 013 3v16c0 .866-1.025 1.323-1.669.743L12 16.945z",clipRule:"evenodd"},void 0)}),void 0)}))},"0o2f":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/dynamicProgramming2Plus.30e6a299.png"},"17nr":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i("BQ33"),a=i.n(n),o=function(e){return a()(e).format("YYYY/MM/DD HH:mm")},r=function(e){return a()(e).format("YYYY-MM-DD HH:mm:ss")}},"2qVZ":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/views.59a85890.png"},"3J7l":function(e,t,i){"use strict";i.d(t,"a",(function(){return re}));var n,a=i("D57K"),o=i("jg1C"),r=i("K/af"),d=i("BQ33"),c=i.n(d),l=i("ERkP"),s=i.n(l),u=i("34li"),b=i("1QlS"),p=i("POpa"),m=i("N390"),g=i("43mT"),j=Object(g.a)({easterEggLeetbookReadNotificationClick:function(e,t){return{gio:{data:{easter_egg_leetbook_name:e,easter_egg_title:t}}}},easterEggLeetbookReadNotificationExposure:function(e,t){return{gio:{data:{easter_egg_leetbook_name:e,easter_egg_title:t}}}},easterEggLeetbookReadModalExposure:function(e,t){return{gio:{data:{easter_egg_leetbook_name:e,easter_egg_title:t}}}},easterEggLeetbookReadModalNavigationClick:function(e,t){return{gio:{data:{easter_egg_leetbook_name:e,easter_egg_title:t}}}}}),v=i("dmxw"),f=i.n(v),O=i("5Nzd"),k=i("u3dr"),h=i("2wT7"),x=i("9EWH"),y=i("d9YI"),_=i("pN2L"),S=i("HnWI"),C=i("rzNM"),N=i("IMYO"),F=i("Jg5f"),w=i("RtDN"),I=i("W/Ou"),P=i("B07F"),T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"prizeRelatedActivity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"relatedKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"relatedType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActivityRelatedTypeEnum"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"business"}},type:{kind:"NamedType",name:{kind:"Name",value:"ActivityBusiness"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prizeRelatedActivity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"relatedKey"},value:{kind:"Variable",name:{kind:"Name",value:"relatedKey"}}},{kind:"Argument",name:{kind:"Name",value:"relatedType"},value:{kind:"Variable",name:{kind:"Name",value:"relatedType"}}},{kind:"Argument",name:{kind:"Name",value:"business"},value:{kind:"Variable",name:{kind:"Name",value:"business"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canUserClaim"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query prizeRelatedActivity($relatedKey: String!, $relatedType: ActivityRelatedTypeEnum!, $business: ActivityBusiness) {\n  prizeRelatedActivity(relatedKey: $relatedKey, relatedType: $relatedType, business: $business) {\n    name\n    slug\n    startAt\n    endAt\n    config\n    canUserClaim\n  }\n}"}},operationName:"prizeRelatedActivity",defName:"prizeRelatedActivity"},A=i("9Bbn");!function(e){e.Idle="Idle",e.Loading="Loading",e.Success="Success",e.Error="Error"}(n||(n={}));var R=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={loading:!0,prizeConfig:null,claimPrizeStatus:n.Idle,claimResult:null},i}var i,o,r,d,c,l,s,u,b;return Object(a.__extends)(t,e),t.prototype.setPrizeConfig=function(e,t){t&&(e.prizeConfig=t)},t.prototype.disableLoading=function(e){e.loading=!1},t.prototype.fetchPrizeConfig=function(e){var t=this;return e.pipe(Object(C.a)((function(e){return t.client.query({query:T,variables:e,fetchPolicy:"no-cache"}).pipe(Object(N.a)((function(){return y.a})),Object(F.a)((function(e){var i=e.data;return t.getActions().setPrizeConfig(i.prizeRelatedActivity)})),Object(w.a)(t.getActions().disableLoading()))})))},t.prototype.setClaimPrizeStatus=function(e,t){e.claimPrizeStatus=t},t.prototype.setPrizeItems=function(e,t){t&&t.ok&&t.result?(e.claimPrizeStatus=n.Success,e.claimResult=t.result):e.claimPrizeStatus=n.Error},t.prototype.claimPrize=function(e){var t=this;return e.pipe(Object(C.a)((function(e){return t.client.mutate({mutation:A.a,variables:e}).pipe(Object(F.a)((function(e){var i=e.data;return t.getActions().setPrizeItems(null===i||void 0===i?void 0:i.prizeClaim)})),Object(I.a)(t.getActions().setClaimPrizeStatus(n.Loading)),Object(N.a)((function(){return Object(_.a)(t.getActions().setClaimPrizeStatus(n.Error))})))})))},Object(a.__decorate)([Object(k.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof x.Draft&&x.Draft)?i:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setPrizeConfig",null),Object(a.__decorate)([Object(k.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof x.Draft&&x.Draft)?o:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"disableLoading",null),Object(a.__decorate)([Object(k.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof S.a&&S.a)?r:Object]),Object(a.__metadata)("design:returntype","function"===typeof(d="undefined"!==typeof S.a&&S.a)?d:Object)],t.prototype,"fetchPrizeConfig",null),Object(a.__decorate)([Object(k.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof x.Draft&&x.Draft)?c:Object,String]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setClaimPrizeStatus",null),Object(a.__decorate)([Object(k.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof x.Draft&&x.Draft)?l:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setPrizeItems",null),Object(a.__decorate)([Object(k.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof S.a&&S.a)?s:Object]),Object(a.__metadata)("design:returntype","function"===typeof(u="undefined"!==typeof S.a&&S.a)?u:Object)],t.prototype,"claimPrize",null),t=Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof P.a&&P.a)?b:Object])],t)}(h.a),D=i("zCf4"),B=i("YnR9"),z=i("TMWK"),L=i("fgAA"),q=i("pqRN"),E=i("2lH5"),M=i("CkJS"),H=i("txck"),V=Object(z.a)(E.a,{target:"eid60zj0"})(Object(L.h)(L.a.blue,L.a.primary),Object(q.k)({minWidth:"90vw !important"}),"label:StyledConfirmModal;"),W=Object(z.a)("div",{target:"eid60zj1"})(M.a.paragraph.md,H.a.title,{marginBottom:"12px"},"label:Content;"),Q=Object(z.a)("span",{target:"eid60zj2"})({">span:not(:last-of-type)":{marginRight:"6px"}},"label:TitleContainer;"),$=Object(z.a)("div",{target:"eid60zj3"})({width:"100%",height:"82px",padding:"0px 20px 0px 10px",background:L.b.FillQuaternary(),display:"flex",alignItems:"center",":not(:last-of-type)":{marginBottom:"8px"}},"label:PrizeItem;"),U=Object(z.a)("img",{target:"eid60zj4"})({flex:"0 0 auto",height:"100%",objectFit:"contain",marginRight:"14px"},"label:PrizeCover;"),K=Object(z.a)("div",{target:"eid60zj5"})({flex:"1 1 auto",minWidth:"0px"},"label:InfoContainer;"),G=Object(z.a)("div",{target:"eid60zj6"})(M.a.heading.h4,H.a.title,q.l,{lineHeight:"22px"},"label:PrizeTitle;"),Y=Object(z.a)("div",{target:"eid60zj7"})(M.a.paragraph.sm,H.a.secondary,q.l,{lineHeight:"17px",marginTop:"7px"},"label:PrizeDesc;");function J(e){var t=e.claimResult,i=e.claimContent,n=e.isActive,r=e.onClose,d=e.bookSlug,c=e.activityTitle,u=t.prizeItems,b=t.myPrizeLink,p=Object(D.i)();Object(l.useEffect)((function(){j.easterEggLeetbookReadModalExposure(d,c)}),[d,c]);var m=s.a.useCallback((function(){r(),b&&(j.easterEggLeetbookReadModalNavigationClick(d,c),Object(D.h)(b,{path:B.a.main.PATH.coupons})?p.push(b):window.location.href=b)}),[b,r,p,d,c]);return Object(o.jsxs)(V,Object(a.__assign)({type:"default",title:Object(o.jsxs)(Q,{children:[Object(o.jsx)("span",{children:"\ud83c\udf89 "},void 0),Object(o.jsx)("span",{children:"\u60ca\u559c\u5f69\u86cb"},void 0)]},void 0),isActive:n,cancelable:!1,onClose:r,onConfirm:m,confirmText:b?"\u524d\u5f80\u67e5\u770b":"\u77e5\u9053\u4e86"},{children:[i&&Object(o.jsx)(W,{children:i},void 0),u.map((function(e,t){var i=e.name,n=e.cover,a=e.desc;return Object(o.jsxs)($,{children:[n&&Object(o.jsx)(U,{src:n},t),Object(o.jsxs)(K,{children:[Object(o.jsx)(G,{children:i},void 0),a&&Object(o.jsx)(Y,{children:a},void 0)]},void 0)]},t)}))]}),void 0)}var X,Z=i("/NrN"),ee=Object(z.a)("div",{target:"e1i7bz8y0"})(((X={width:"320px",padding:"4px 8px",borderRadius:"5px",background:L.a.blue(0),boxShadow:"0px 6px 10px "+L.a.fix.grey(9,.1),display:"flex",alignItems:"center"})[L.c]={background:"linear-gradient("+L.b.Blue0()+", "+L.b.Blue0()+"), linear-gradient("+L.b.BaseGrey3()+", "+L.b.BaseGrey3()+")"},X),Object(q.k)({width:"300px"}),"label:Container;"),te=Object(z.a)("img",{target:"e1i7bz8y1"})({flex:"0 0 auto",width:"76px",height:"76px",marginRight:"8px"},"label:PrizeImage;"),ie=Object(z.a)("div",{target:"e1i7bz8y2"})(M.a.heading.h4,H.a.title,{fontWeight:500},"label:Title;"),ne=Object(z.a)("div",{target:"e1i7bz8y3"})(M.a.paragraph.md,H.a.primary,{marginTop:"6px"},"label:Content;"),ae=Object(z.a)(Z.a,{target:"e1i7bz8y4"})(Object(L.h)(L.a.blue,L.a.primary),{marginTop:"6px"},"label:ClaimButton;"),oe=s.a.memo((function(e){var t=e.prizeConfig,i=e.relatedKey,d=e.business,c=Object(a.__rest)(e,["prizeConfig","relatedKey","business"]),s=Object(a.__read)(Object(b.a)(!1),3),g=s[0],v=s[1],O=s[2],k=Object(a.__read)(Object(r.a)(R),2),h=k[0],x=h.claimResult,y=h.claimPrizeStatus,_=k[1].claimPrize,S=y===n.Success,C=Object(l.useRef)(null);Object(l.useEffect)((function(){j.easterEggLeetbookReadNotificationExposure(i,t.name)}),[i,t.name]);var N=Object(l.useMemo)((function(){return Object(p.a)(t.config,{title:"\u606d\u559c\u4f60\uff0c\u89e3\u9501\u9605\u8bfb\u5956\u52b1\uff01",content:"",claimContent:"\u606d\u559c\u4f60\u89e3\u9501\u4e86\u9605\u8bfb\u5956\u52b1\uff0c\u83b7\u5f97\u4ee5\u4e0b\u4f18\u60e0\u5238"})}),[t.config]),F=N.title,w=N.content,I=N.claimContent,P=Object(l.useCallback)((function(){j.easterEggLeetbookReadNotificationClick(i,t.name),_({relatedType:u.c.Leetbook,relatedKey:i,business:d})}),[_,i,d,t.name]);Object(l.useEffect)((function(){S&&v()}),[S,v]);var T=Object(a.__read)(Object(m.a)(S,C,(function(e){var t=e.target;return{direction:S?"normal":"reverse",translateX:[0,t.clientWidth],opacity:[1,0],easing:"easeInOutSine",duration:600}})),1)[0],A=!S||T;return Object(o.jsxs)(o.Fragment,{children:[A&&Object(o.jsxs)(ee,Object(a.__assign)({ref:C},c,{children:[Object(o.jsx)(te,{src:f.a},void 0),Object(o.jsxs)("div",{children:[F&&Object(o.jsx)(ie,{children:F},void 0),w&&Object(o.jsx)(ne,{children:w},void 0),Object(o.jsx)(ae,Object(a.__assign)({kind:"text",loading:y===n.Loading,onClick:P},{children:"\u7acb\u5373\u9886\u53d6"}),void 0)]},void 0)]}),void 0),x&&Object(o.jsx)(J,{isActive:g,onClose:O,claimResult:x,claimContent:I,bookSlug:i,activityTitle:t.name},void 0)]},void 0)})),re=s.a.memo((function(e){var t=e.relatedType,i=e.relatedKey,n=e.business,d=void 0===n?u.b.Normal:n,s=Object(a.__rest)(e,["relatedType","relatedKey","business"]),b=Object(a.__read)(Object(r.a)(R),2),p=b[0],m=p.prizeConfig,g=p.loading,j=b[1].fetchPrizeConfig;if(Object(l.useEffect)((function(){j({relatedType:t,relatedKey:i,business:d})}),[j,t,i,d]),g||!function(e){var t=c()();return!!(e&&e.canUserClaim&&c()(e.startAt).isBefore(t)&&c()(e.endAt).isAfter(t))}(m))return null;switch(t){case u.c.Leetbook:return Object(o.jsx)(oe,Object(a.__assign)({prizeConfig:m,relatedKey:i,business:d},s),void 0);default:return null}}))},"3x5J":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("FN5F"),a=i.n(n),o=i("iqsI"),r=i.n(o),d=(i("vD1V"),a()(r.a))},"4nXD":function(e,t,i){"use strict";i.r(t);var n,a=i("D57K"),o=i("jg1C"),r=i("ERkP"),d=i.n(r),c=i("zCf4"),l=i("YnR9"),s=i("ildc"),u=i("irZQ"),b=i("l1SX"),p=i("8JP3"),m=i("dTXi"),g=i("KQty"),j=i("K/af"),v=i("u5/7"),f=i("5Nzd"),O=i("u3dr"),k=i("2wT7"),h=i("9EWH"),x=function(e){function t(){var t=e.call(this)||this;return t.defaultState={isNavCollapsed:!1,isFullWidth:!1},t}var i,n;return Object(a.__extends)(t,e),t.prototype.toggleNavigation=function(e){e.isNavCollapsed=!e.isNavCollapsed},t.prototype.toggleFullWidth=function(e){Object(s.q)()||(e.isFullWidth=!e.isFullWidth)},Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof h.Draft&&h.Draft)?i:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"toggleNavigation",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"toggleFullWidth",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",[])],t)}(k.a),y=i("TMWK"),_=i("fgAA"),S=i("/NrN"),C="question",N="full-width",F=Object(y.a)("div",{target:"evco72h0"})(((n={})[".question.full-width &"]={display:"none"},n),"label:HiddenInFullWidth;");function w(e){e?document.body.classList.add(N):document.body.classList.remove(N)}var I=Object(y.a)(S.a,{target:"evco72h1"})((function(e){var t,i=e.hideInNormalMode,n=void 0!==i&&i;return(t={color:_.a.grey(6),"&:hover:not(:disabled), &:active:not(:disabled)":{color:_.a.grey(5)},display:n?"none":"inline-flex"})[".question.full-width &"]={display:"inline-flex"},t}),"label:FullWidthButton;"),P="20201024-event";var T=i("odjl"),A=i.n(T),R=i("34li"),D=i("xqpu"),B=i("pN2L"),z=i("HnWI"),L=i("AouM"),q=i("Jg5f"),E=i("W/Ou"),M=i("IMYO"),H=i("B07F"),V=i("8IJS"),W=i("L6nh"),Q=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={status:"loading"},i}var i,n,o,r,d,c;return Object(a.__extends)(t,e),t.isOwned=function(e){var t=e.ownedType;return t===R.Pb.Borrowed||t===R.Pb.Purchased},t.prototype.setOwnedType=function(e,t){e.ownedType=t},t.prototype.fetchCatalog=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.watchQuery({query:V.a,variables:e,fetchPolicy:"no-cache"}).pipe(Object(q.a)((function(e){var i=e.data;return i.leetbookBookDetail?t.getActions()._handleFetchResult(i.leetbookBookDetail):t.getActions()._handleFetchError()})),Object(E.a)(t.getActions()._beforeFetch()),Object(M.a)((function(){return Object(B.a)(t.getActions()._handleFetchError())})))})))},t.prototype._handleFetchResult=function(e,t){var i=t.id,n=t.title,a=t.coverImg,o=t.ownedType,r=t.pages,d=t.productInfo,c=t.author;e.id=i,e.title=n,e.ownedType=o,e.pages=function(e){var t=[];return e.forEach((function(i){var n,a=i.parentId;if(a){var o=e.find((function(e){return e.id===a}));o&&(null!==(n=o.children)&&void 0!==n?n:o.children=[]).push(i)}else t.push(i)})),$(t),t}(r),e.sortedPageMap=U(e.pages),e.coverImg=a,e.productInfo=d,e.author=c,e.status="loaded"},t.prototype._beforeFetch=function(e){e.status="loading"},t.prototype._handleFetchError=function(e){e.status="error"},Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof h.Draft&&h.Draft)?i:Object,"function"===typeof(n="undefined"!==typeof R.Pb&&R.Pb)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setOwnedType",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof z.a&&z.a)?o:Object]),Object(a.__metadata)("design:returntype","function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object)],t.prototype,"fetchCatalog",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,"function"===typeof(d="undefined"!==typeof W.LeetbookCatalog&&W.LeetbookCatalog.LeetbookBookDetail)?d:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchResult",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_beforeFetch",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchError",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof H.a&&H.a)?c:Object])],t)}(k.a);function $(e){e&&(e.sort((function(e,t){return e.order-t.order})),e.forEach((function(e){return $(e.children)})))}function U(e,t){return void 0===t&&(t=new Map),e.forEach((function(e){t.set(e.id,e),e.children&&U(e.children,t)})),t}var K=i("3dHC"),G=i.n(K),Y=i("d9YI"),J=i("iJR/"),X=i("eb+u"),Z=i("4HYP"),ee=i("z5yO"),te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookMarkAsStarted"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookMarkAsStarted"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation leetbookMarkAsStarted($pageId: ID!) {\n  leetbookMarkAsStarted(pageId: $pageId) {\n    ok\n  }\n}\n"}},operationName:"leetbookMarkAsStarted",defName:"leetbookMarkAsStarted"},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookMarkAsCompleted"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookMarkAsCompleted"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation leetbookMarkAsCompleted($pageId: ID!) {\n  leetbookMarkAsCompleted(pageId: $pageId) {\n    ok\n  }\n}\n"}},operationName:"leetbookMarkAsCompleted",defName:"leetbookMarkAsCompleted"},ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookBookProgress"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookProgressDetail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookSlug"},value:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numCompletedPremium"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbookBookProgress($bookSlug: String!) {\n  leetbookProgressDetail(bookSlug: $bookSlug) {\n    bookProgress {\n      numCompleted\n      numCompletedPremium\n    }\n  }\n}\n"}},operationName:"leetbookBookProgress",defName:"leetbookProgressDetail"},ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookPageProgressList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookProgressDetail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookSlug"},value:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageProgressList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"completed"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbookPageProgressList($bookSlug: String!) {\n  leetbookProgressDetail(bookSlug: $bookSlug) {\n    pageProgressList {\n      pageId\n      completed\n    }\n  }\n}\n"}},operationName:"leetbookPageProgressList",defName:"leetbookProgressDetail"};function oe(e,t){if(!e.children)return[];var i=e.children.filter((function(e){var i=e.premiumOnly;return!!t||!i}));return e.children.forEach((function(e){return i.push.apply(i,Object(a.__spread)(oe(e,t)))})),i}var re=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={meta:null,pageProgressMap:null,bookProgress:null},i}var i,n,o,r,d,c,l,s,u,b,p,m,g,j,v,k,x,y,_;return Object(a.__extends)(t,e),t.getPageProgressPercent=function(e,t,i){if(!e.children)return null;var n=oe(e,i);if(0===n.length)return null;var a=n.filter((function(e){var i,n=e.id;return null===(i=null===t||void 0===t?void 0:t.get(n))||void 0===i?void 0:i.completed})).length;return 100*Math.min(Math.max(a/n.length,0),1)},t.prototype.markAsStarted=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(q.a)((function(e){var t=Object(a.__read)(e,2),i=t[0],n=t[1].pageProgressMap;return[i,!(null===n||void 0===n?void 0:n.has(i))]})),Object(Z.b)((function(e){var t=Object(a.__read)(e,2),n=t[0],o=t[1];return i.client.mutate({mutation:te,variables:{pageId:n}}).pipe(Object(L.a)((function(e){var t,n=e.data;return(null===(t=null===n||void 0===n?void 0:n.leetbookMarkAsStarted)||void 0===t?void 0:t.ok)&&o?Object(B.a)(i.getActions()._refreshBookAndPageProgress()):Y.a})),Object(M.a)((function(){return Y.a})))})))},t.prototype.markAsCompleted=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(ee.a)((function(e){var t,i=Object(a.__read)(e,2),n=i[0],o=i[1].pageProgressMap;return!(null===(t=null===o||void 0===o?void 0:o.get(n))||void 0===t?void 0:t.completed)})),Object(Z.b)((function(e){var t=Object(a.__read)(e,1)[0];return i.client.mutate({mutation:ie,variables:{pageId:t}}).pipe(Object(L.a)((function(e){var t,n=e.data;return(null===(t=null===n||void 0===n?void 0:n.leetbookMarkAsCompleted)||void 0===t?void 0:t.ok)?Object(B.a)(i.getActions()._refreshBookAndPageProgress()):Y.a})),Object(M.a)((function(){return Y.a})))})))},t.prototype._refreshBookAndPageProgress=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(L.a)((function(e){var t=Object(a.__read)(e,2)[1],n=t.bookProgress,o=t.pageProgressMap;return Object(J.a)(G()([null!==n&&i.getActions().fetchBookProgress("network-only"),null!==o&&i.getActions().fetchPageProgressList("network-only")]))})))},t.prototype.setMeta=function(e,t){e.meta=t},t.prototype.fetchBookProgress=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(q.a)((function(e){var t=Object(a.__read)(e,2),i=t[0],n=t[1].meta;return n?[i,n]:null})),Object(ee.a)((function(e){return!!e})),Object(L.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],o=t[1].bookSlug;return i.client.query({query:ne,variables:{bookSlug:o},fetchPolicy:n}).pipe(Object(q.a)((function(e){var t,n,a=e.data;return i.getActions()._handleFetchBookProgress(null!==(n=null===(t=a.leetbookProgressDetail)||void 0===t?void 0:t.bookProgress)&&void 0!==n?n:null)})))})))},t.prototype._handleFetchBookProgress=function(e,t){e.bookProgress=t},t.prototype.fetchPageProgressList=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(q.a)((function(e){var t=Object(a.__read)(e,2),i=t[0],n=t[1].meta;return n?[i,n]:null})),Object(ee.a)((function(e){return!!e})),Object(L.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],o=t[1].bookSlug;return i.client.query({query:ae,variables:{bookSlug:o},fetchPolicy:n}).pipe(Object(q.a)((function(e){var t,n,a=e.data;return i.getActions()._handleFetchPageProgressList(null!==(n=null===(t=a.leetbookProgressDetail)||void 0===t?void 0:t.pageProgressList)&&void 0!==n?n:[])})))})))},t.prototype._handleFetchPageProgressList=function(e,t){e.pageProgressMap=new Map(t.map((function(e){return[e.pageId,e]})))},Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object,"function"===typeof(n="undefined"!==typeof z.a&&z.a)?n:Object]),Object(a.__metadata)("design:returntype","function"===typeof(o="undefined"!==typeof z.a&&z.a)?o:Object)],t.prototype,"markAsStarted",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object,"function"===typeof(d="undefined"!==typeof z.a&&z.a)?d:Object]),Object(a.__metadata)("design:returntype","function"===typeof(c="undefined"!==typeof z.a&&z.a)?c:Object)],t.prototype,"markAsCompleted",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof z.a&&z.a)?l:Object,"function"===typeof(s="undefined"!==typeof z.a&&z.a)?s:Object]),Object(a.__metadata)("design:returntype","function"===typeof(u="undefined"!==typeof z.a&&z.a)?u:Object)],t.prototype,"_refreshBookAndPageProgress",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof h.Draft&&h.Draft)?b:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setMeta",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof z.a&&z.a)?p:Object,"function"===typeof(m="undefined"!==typeof z.a&&z.a)?m:Object]),Object(a.__metadata)("design:returntype","function"===typeof(g="undefined"!==typeof z.a&&z.a)?g:Object)],t.prototype,"fetchBookProgress",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(j="undefined"!==typeof h.Draft&&h.Draft)?j:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchBookProgress",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(v="undefined"!==typeof z.a&&z.a)?v:Object,"function"===typeof(k="undefined"!==typeof z.a&&z.a)?k:Object]),Object(a.__metadata)("design:returntype","function"===typeof(x="undefined"!==typeof z.a&&z.a)?x:Object)],t.prototype,"fetchPageProgressList",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof h.Draft&&h.Draft)?y:Object,Array]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchPageProgressList",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(_="undefined"!==typeof H.a&&H.a)?_:Object])],t)}(k.a);function de(){return Object(c.k)()}var ce,le=i("/AmI");function se(){var e=d.a.useContext(D.d).isPremium,t=de(),i=t.pageId,n=t.bookSlug,o=Object(a.__read)(Object(j.a)(Q,{scope:n}),1)[0],r=Object(a.__read)(Object(j.a)(re,{scope:n}),1)[0];if(!o.sortedPageMap)return{reason:ce.noPageInfoMapYet};if(!i)return{reason:ce.noPageIdYet};if(!r.pageProgressMap)return{reason:ce.noPageProgressMapYet};var c=o.sortedPageMap.get(i);if(!c)return{reason:ce.noPageInfo};if(c.isGreyTitle&&c.publishedAt)return{reason:ce.unpublished,publishedAt:c.publishedAt};if(Q.isOwned(o)){if(c.premiumOnly&&!e)return{reason:ce.premiumOnly};if(c.prerequisite){var l=function(e){var t,i,n,a,d=null===(i=null===(t=o.sortedPageMap)||void 0===t?void 0:t.get(e))||void 0===i?void 0:i.prerequisite;return d?(null===(a=null===(n=r.pageProgressMap)||void 0===n?void 0:n.get(d.id))||void 0===a?void 0:a.completed)?null:l(d.id)||d:null},s=l(c.id);return s?{reason:ce.noCompletePrerequisite,prerequisite:s}:null}return null}return c.isSample||c.isDraft?null:{reason:ce.noBuy,bookKind:Object(le.a)(o.productInfo),isPremiumUser:e}}!function(e){e.noPageInfoMapYet="noPageInfoMapYet",e.noPageIdYet="noPageIdYet",e.noPageProgressMapYet="noPageProgressMapYet",e.noPageInfo="noPageInfo",e.premiumOnly="premiumOnly",e.noCompletePrerequisite="noCompletePrerequisite",e.noBuy="noBuy",e.unpublished="unpublished"}(ce||(ce={}));var ue=i("X4a2"),be=i("2lH5"),pe=Object(y.a)(be.a,{target:"e1urqkro0"})({width:"460px","@media (max-width: 511px)":{minWidth:"90vw"}},"label:StyledConfirmModal;"),me=Object(y.a)("div",{target:"e1urqkro1"})({minHeight:"135px"},"label:Content;");function ge(e){var t=e.title,i=e.buttonCopyWriting,n=e.isActive,r=e.onConfirm,d=e.onClose,c=e.children;return Object(o.jsx)(pe,Object(a.__assign)({type:"default",title:t,confirmText:i,cancelable:!1,isActive:n,onConfirm:r,onClose:d},{children:Object(o.jsx)(me,{children:c},void 0)}),void 0)}var je=Object(y.a)("div",{target:"e1221n4p0"})({display:"flex",background:_.b.BaseGrey1(),borderRadius:"8px",marginTop:"12px",paddingRight:"24px"},"label:Prize;"),ve=Object(y.a)("img",{target:"e1221n4p1"})({height:"156px"},"label:Img;"),fe=Object(y.a)("span",{target:"e1221n4p2"})({display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"8px"},"label:Text;"),Oe=Object(y.a)("span",{target:"e1221n4p3"})({fontSize:"18px",fontWeight:600},"label:Title;"),ke=Object(y.a)("span",{target:"e1221n4p4"})({marginLeft:"10px"},"label:SpanAfterEmoji;"),he=Object(y.a)("span",{target:"e1221n4p5"})({marginTop:"12px",color:_.b.LabelTertiary()},"label:Description;");function xe(e){var t=e.prize,i=e.isActive,n=e.onClose,r=t.name,l=t.cover,s=t.hint,u=t.isAddressRequired,b=t.myPrizeLink,p=t.prizeType,m=t.claimedNumber,g=p===R.Vb.Leetcoin,j=b?u?"\u524d\u5f80\u586b\u5199":"\u524d\u5f80\u67e5\u770b":"\u77e5\u9053\u4e86",v=Object(c.i)(),f=d.a.useCallback((function(){b&&([ue.a.coupons].some((function(e){return Object(c.h)(b,{path:e})}))?v.push(b):window.location.href=b);n()}),[b,n,v]);return Object(o.jsxs)(ge,Object(a.__assign)({title:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{children:"\ud83c\udf89"},void 0),Object(o.jsx)(ke,{children:"\u60ca\u559c\u5f69\u86cb"},void 0)]},void 0),buttonCopyWriting:j,isActive:i,onConfirm:f,onClose:n},{children:["\u606d\u559c\u4f60\u5728\u672c\u6b21\u300c1024 \u7a0b\u5e8f\u5458\u7684\u5947\u5e7b\u5192\u9669\u300d\u4e2d\u83b7\u5f97",Object(o.jsxs)(je,{children:[Object(o.jsx)(ve,{src:l||""},void 0),Object(o.jsxs)(fe,{children:[Object(o.jsxs)(Oe,{children:[r," ",g?"+":"\xd7"," ",m]},void 0),s&&Object(o.jsxs)(he,{children:[" ",s," "]},void 0)]},void 0)]},void 0)]}),void 0)}var ye=Object(y.a)("div",{target:"e16yslcv0"})({minHeight:"135px",display:"flex",alignItems:"center"},"label:TextContainer;");function _e(e){var t=e.isActive,i=e.onClose;return Object(o.jsx)(ge,Object(a.__assign)({title:"\u518d\u8bd5\u4e00\u6b21",buttonCopyWriting:"\u597d\u7684",isActive:t,onConfirm:i,onClose:i},{children:Object(o.jsxs)(ye,{children:["\u522b\u6c14\u9981\uff0c\u4f60\u79bb\u6210\u529f\u4ec5\u6709\u4e00\u6b65\u4e4b\u9065\uff01\u7b54\u9898\u901a\u8fc7\u540e\u5c31\u80fd\u63ed\u5f00\u6700\u7ec8\u7ed3\u5c40\u3002 ",Object(o.jsx)("br",{},void 0),"\u5c0f\u63d0\u793a\uff1a\u89e3\u7b54\u4e0d\u51fa\u53ef\u4ee5\u53bb\u9898\u89e3\u533a\u627e\u627e\u7075\u611f\u3002"]},void 0)}),void 0)}var Se=i("RtDN"),Ce=i("9Bbn"),Ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookActivityConfig"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activity"}},type:{kind:"NamedType",name:{kind:"Name",value:"LeetbookActivityEnum"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookActivityConfig"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookSlug"},value:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}}},{kind:"Argument",name:{kind:"Name",value:"activity"},value:{kind:"Variable",name:{kind:"Name",value:"activity"}}}],directives:[]}]}}],loc:{source:{body:"query leetbookActivityConfig($bookSlug: String!, $activity: LeetbookActivityEnum) {\n  leetbookActivityConfig(bookSlug: $bookSlug, activity: $activity) \n}"}},operationName:"leetbookActivityConfig",defName:"leetbookActivityConfig"},Fe=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={loading:!1,activityConfig:null,isRetryModalActive:!1,isPrizeModalActive:!1,prize:void 0},i}var i,n,o,r,d,c,l,s,u,b,p,m,g;return Object(a.__extends)(t,e),t.prototype.setLoading=function(e,t){e.loading=t},t.prototype.setLeetbookActivityConfig=function(e,t){try{if(null===t)throw new Error;var i=JSON.parse(t);e.activityConfig=i}catch(t){e.activityConfig=null}},t.prototype.showRetryModal=function(e){e.isRetryModalActive=!0},t.prototype.hideRetryModal=function(e){e.isRetryModalActive=!1},t.prototype.showPrizeModal=function(e){e.isPrizeModalActive=!0},t.prototype.hidePrizeModal=function(e){e.isPrizeModalActive=!1},t.prototype.setPrize=function(e,t){e.prize=t},t.prototype.claimPrize=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.mutate({mutation:Ce.a,variables:e}).pipe(Object(M.a)((function(){return Y.a})),Object(Z.b)((function(e){var i,n=e.data;if(!n)return Y.a;var a=n.prizeClaim,o=null===(i=null===a||void 0===a?void 0:a.result)||void 0===i?void 0:i.prizeItems[0];return o?Object(B.a)(t.getActions().setPrize(o),t.getActions().showPrizeModal()):Y.a})))})))},t.prototype.fetchLeetbookActivityConfig=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:Ne,variables:e}).pipe(Object(M.a)((function(){return Y.a})),Object(q.a)((function(e){var i=e.data;return t.getActions().setLeetbookActivityConfig(i.leetbookActivityConfig)})),Object(E.a)(t.getActions().setLoading(!0)),Object(Se.a)(t.getActions().setLoading(!1)))})))},Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof h.Draft&&h.Draft)?i:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setLeetbookActivityConfig",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"showRetryModal",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof h.Draft&&h.Draft)?r:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"hideRetryModal",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof h.Draft&&h.Draft)?d:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"showPrizeModal",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof h.Draft&&h.Draft)?c:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"hidePrizeModal",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof h.Draft&&h.Draft)?l:Object,"function"===typeof(s="undefined"!==typeof Prize&&Prize)?s:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setPrize",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof z.a&&z.a)?u:Object]),Object(a.__metadata)("design:returntype","function"===typeof(b="undefined"!==typeof z.a&&z.a)?b:Object)],t.prototype,"claimPrize",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof z.a&&z.a)?p:Object]),Object(a.__metadata)("design:returntype","function"===typeof(m="undefined"!==typeof z.a&&z.a)?m:Object)],t.prototype,"fetchLeetbookActivityConfig",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof H.a&&H.a)?g:Object])],t)}(k.a),we=Object(y.a)("div",{target:"e2mogui0"})({marginTop:"47px"},"label:AvoidCollapse;");function Ie(){var e=Object(a.__read)(Object(j.a)(Fe),1)[0];return[e.loading,e.activityConfig]}var Pe,Te=i("CHb6"),Ae=function(){var e=Object(Te.a)().source,t=Object(a.__read)(Object(r.useState)(!1),2),i=t[0],n=t[1];return Object(r.useEffect)((function(){n("home"===e)}),[e]),i};function Re(e){var t,i=Object(a.__read)(Ie(),2),n=i[0],o=i[1],r=Ae();return Boolean(n||(t={},t[Pe.catalogInDetailPage]=null===o||void 0===o?void 0:o.detailPage.isCatalogHidden,t[Pe.navInReadPage]=null===o||void 0===o?void 0:o.readPage.isNavHidden,t[Pe.catalogInReadPage]=null===o||void 0===o?void 0:o.readPage.isCatalogHidden,t[Pe.bottomNavInReadPage]=null===o||void 0===o?void 0:o.readPage.isBottomNavHidden,t[Pe.skipBannerInReadPage]=null===o||void 0===o?void 0:o.readPage.isSkipBannerHidden,t)[e]||r)}function De(e){var t=e.children;return Re(e.type)?null:Object(o.jsx)(o.Fragment,{children:t},void 0)}function Be(e){var t=e.children,i=Object(c.k)(),n=i.bookSlug,r=i.pageId,s=Object(a.__read)(Ie(),2)[1],u=se(),b=Object(a.__read)(Object(j.a)(re,{scope:n}),2)[1],p=Object(a.__read)(Object(j.a)(Q,{scope:n}),2)[1],m=Object(a.__read)(Object(j.a)(Q,{scope:n}),1)[0].pages,g=Object(a.__read)(Object(j.a)(Fe),2),v=g[0],f=v.prize,O=v.isPrizeModalActive,k=g[1],h=k.claimPrize,x=k.hidePrizeModal,y=n===P,_=!u;d.a.useEffect((function(){y&&_&&r&&r===(null===s||void 0===s?void 0:s.prizePage.pageId)&&h({relatedKey:n,relatedType:R.c.Leetbook})}),[n,h,r,s,y,_]),d.a.useEffect((function(){y&&p.fetchCatalog({bookSlug:n})}),[p,y,n]),d.a.useEffect((function(){y&&(b.setMeta({bookSlug:n}),b.fetchPageProgressList())}),[b,y,n]);var S=d.a.useMemo((function(){var e,t;return null!==(t=null===(e=A()(m))||void 0===e?void 0:e.id)&&void 0!==t?t:null}),[m]);return y&&void 0===r&&S?Object(o.jsx)(c.b,{to:l.a.main.paths.leetbook.read({bookSlug:n,pageId:S})},void 0):Object(o.jsxs)(o.Fragment,{children:[t,f&&Object(o.jsx)(xe,{prize:f,isActive:O,onClose:x},void 0)]},void 0)}function ze(e){var t=e.children,i=Object(a.__read)(Ie(),2),n=i[0],r=i[1];return n?null:Object(o.jsx)(o.Fragment,{children:(null===r||void 0===r?void 0:r.detailPage.ownBookButtonText)||t},void 0)}function Le(){var e=Object(a.__read)(Object(j.a)(Fe),2),t=e[0].isRetryModalActive,i=e[1].hideRetryModal;return Object(o.jsx)(_e,{isActive:t,onClose:i},void 0)}function qe(e){var t=e.children,i=Object(c.k)().bookSlug,n=Object(a.__read)(Object(j.a)(Fe),2)[1],r=n.setLeetbookActivityConfig,l=n.fetchLeetbookActivityConfig;return d.a.useEffect((function(){if(i===P)return l({bookSlug:i,activity:R.tb.Day_1024}),function(){return r(null)}}),[i,r,l]),Object(o.jsx)(o.Fragment,{children:t},void 0)}function Ee(e){var t=e.children;return Object(c.k)().bookSlug===P&&Object(s.q)()?Object(o.jsx)(we,{children:t},void 0):Object(o.jsx)(o.Fragment,{children:t},void 0)}!function(e){e[e.catalogInDetailPage=0]="catalogInDetailPage",e[e.navInReadPage=1]="navInReadPage",e[e.catalogInReadPage=2]="catalogInReadPage",e[e.bottomNavInReadPage=3]="bottomNavInReadPage",e[e.skipBannerInReadPage=4]="skipBannerInReadPage"}(Pe||(Pe={}));var Me,He,Ve,We=i("D5ZF"),Qe=i("ampe"),$e=i("KW5m"),Ue=i("9KnD"),Ke=i("WWwk"),Ge=i("ttV/"),Ye=i("+Aeu"),Je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookPageDetail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookPage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blocks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commonTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"qaQuestionUuid"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"leetbookQuestionPageNode"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"leetbookQuestionPageNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LeetbookQuestionPage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"envInfo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"judgeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaData"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enableRunCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sampleTestCase"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"judgerAvailable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"langToValidPlayground"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"style"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionTitleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editorType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mysqlSchemas"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"codeSnippets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lang"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"langSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topicTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"jsonExampleTestcases"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"#import '../fragments/leetbook-question-page.graphql'\n\nquery leetbookPageDetail($pageId: ID!) {\n  leetbookPage(pageId: $pageId) {\n    title\n    subtitle\n    id\n    pageType\n\n    blocks {\n      type\n      value\n    }\n\n    commonTags {\n      nameTranslated\n      name\n      slug\n    }\n\n    qaQuestionUuid\n\n    ...leetbookQuestionPageNode\n  }\n}\n"}},operationName:"leetbookPageDetail",defName:"leetbookPage"},Xe=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={status:"loading",page:null},i}var i,n,o,r,d,c,l;return Object(a.__extends)(t,e),t.prototype.fetchPageInfo=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:Je,variables:{pageId:e}}).pipe(Object(q.a)((function(e){var i=e.data;return i.leetbookPage?t.getActions()._handleFetchResult(i.leetbookPage):t.getActions()._handleFetchFailed()})),Object(E.a)(t.getActions()._beforeFetchPageInfo()),Object(M.a)((function(){return Object(B.a)(t.getActions()._handleFetchFailed())})))})))},t.prototype._beforeFetchPageInfo=function(e){e.status="loading"},t.prototype._handleFetchResult=function(e,t){e.status="loaded",e.page=Object(a.__assign)(Object(a.__assign)({},t),{blocks:t.blocks.map((function(e,i){return Object(a.__assign)(Object(a.__assign)({},e),{id:t.id+"_"+i})}))})},t.prototype._handleFetchFailed=function(e){e.status="error"},Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object]),Object(a.__metadata)("design:returntype","function"===typeof(n="undefined"!==typeof z.a&&z.a)?n:Object)],t.prototype,"fetchPageInfo",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_beforeFetchPageInfo",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof h.Draft&&h.Draft)?r:Object,"function"===typeof(d="undefined"!==typeof NonNullable&&NonNullable)?d:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchResult",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof h.Draft&&h.Draft)?c:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchFailed",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof H.a&&H.a)?l:Object])],t)}(k.a),Ze=i("f7k3"),et=i("Pigy"),tt=i("nnyb"),it=i("T/5y");!function(e){e[e.MainContainer=0]="MainContainer",e[e.TopNavigation=1]="TopNavigation",e[e.Navbar=2]="Navbar"}(Ve||(Ve={}));var nt=Object(y.a)("div",{target:"e19m4yof0"})(it.a.layer1,{flex:"1 1 auto",display:"flex",flexDirection:"column"},"label:Container;"),at=Object(y.a)("div",{target:"e19m4yof1"})(((Me={flex:"1 1 0px",display:"flex",overflow:"hidden",zIndex:Ve.MainContainer,position:"relative"})[_.c]={backgroundColor:_.b.LayerBg()},Me),"label:MainContainer;"),ot=Object(y.a)("div",{target:"e19m4yof2"})(it.a.layer1,{position:"absolute",top:"0px",left:"0px",right:"0px",bottom:"0px",zIndex:1},"label:LoadingContainer;"),rt=Object(y.a)(et.a,{target:"e19m4yof3"})({position:"absolute"},"label:StyledPlaceholderForNull;"),dt=Object(Ze.b)(((He={bottom:"180px",right:"23px"})[""+tt.a]={":hover":{svg:{color:_.a.primary(5)}}},He),"label:qrCodePosition;"),ct=i("itFC"),lt=i("jIGg"),st=i("cjLm"),ut=i("66Zf"),bt=i("rO0U"),pt=i("nXSc"),mt=Object(y.a)(pt.a,{target:"exgb3h60"})({borderRadius:"5px","> div":{fontSize:"12px"}},"label:StyledToolTip;");function gt(e){var t=e.content,i=e.children;return t?Object(o.jsx)(mt,Object(a.__assign)({placement:"top",trigger:Object(s.q)()?"click":"hover",content:t},{children:i}),void 0):i}var jt=i("17nr"),vt=i("tTYB"),ft=i("brrL"),Ot=i("GG6d"),kt=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16z",clipRule:"evenodd"},void 0)}),void 0)})),ht=Object(y.a)(vt.a,{target:"e16hp7o10"})({color:_.a.brand("orange")},"label:PremiumLockIcon;"),xt=Object(y.a)(vt.a,{target:"e16hp7o11"})({color:_.a.grey(5)},"label:NotOwnedLockIcon;"),yt=Object(y.a)(ft.a,{target:"e16hp7o12"})({color:_.a.green(5)},"label:StyledIconCheckTaskCircle;"),_t=Object(y.a)(kt,{target:"e16hp7o13"})({color:_.a.grey(5)},"label:StyledIconUnCheckTaskCircle;"),St=function(e){var t=e.page,i=e.progress,n=e.isOwned,a=e.isPublished,r=d.a.useContext(D.d).isPremium,c=t.premiumOnly&&!r,l=!!(null===i||void 0===i?void 0:i.completed);switch(!0){case!a:return Object(o.jsx)(xt,{},void 0);case c:return Object(o.jsx)(ht,{},void 0);case l:return Object(o.jsx)(yt,{},void 0);case n||t.isSample:return Object(o.jsx)(_t,{},void 0);default:return Object(o.jsx)(xt,{},void 0)}},Ct=i("pqRN"),Nt=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M12.508 3c.429 0 .818.237 1.016.608l.053.115 6.36 16.047a.903.903 0 01-.738 1.224l-.106.006h-.422a1.15 1.15 0 01-1.021-.619l-.052-.116-1.409-3.68a.848.848 0 00-.677-.536l-.116-.008H8.584a.85.85 0 00-.745.439l-.049.105-1.408 3.68c-.154.402-.521.68-.945.728L5.308 21h-.41a.89.89 0 01-.87-1.112l.035-.106 6.365-16.06c.157-.396.521-.669.94-.715L11.497 3h1.012zm-.494 2.62l-3.252 8.413h6.456L12.014 5.62z",clipRule:"evenodd"},void 0)}),void 0)})),Ft=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M14 5H5a3 3 0 00-3 3v8a3 3 0 003 3h9a3 3 0 003-3v-1.255l3.331 2.998c.644.58 1.669.123 1.669-.743V8c0-.866-1.025-1.322-1.669-.743L17 10.255V8a3 3 0 00-3-3zM5 7h9a1 1 0 011 1v8a1 1 0 01-1 1H5a1 1 0 01-1-1V8a1 1 0 011-1zm12.494 5.5L20 10.244v4.511L17.494 12.5z",clipRule:"evenodd"},void 0)}),void 0)})),wt=i("PqOD"),It=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M13.27 5.02c.456.1.764.562.727 1.06l-.015.116-2.181 12c-.099.541-.578.893-1.07.784-.457-.1-.765-.562-.728-1.06l.015-.116 2.181-12c.099-.541.578-.893 1.07-.784zm4.65.37l.07.096 3.857 6c.178.277.2.614.067.906l-.067.123-3.857 6c-.304.473-.962.627-1.47.342-.47-.264-.646-.812-.425-1.268l.058-.104L19.678 12l-3.525-5.485c-.283-.44-.161-1.001.264-1.307l.103-.065a1.123 1.123 0 011.4.246zm-11.84 0c.3-.365.83-.49 1.28-.305l.12.058.103.065a.96.96 0 01.326 1.194l-.062.113L4.322 12l3.525 5.485.058.104c.221.456.046 1.005-.425 1.268a1.123 1.123 0 01-1.4-.246l-.07-.097-3.857-6-.067-.122a.939.939 0 010-.784l.067-.123 3.857-6 .07-.096z",clipRule:"evenodd"},void 0)}),void 0)})),Pt=function(e){var t=e.page,i=e.colorful,n=void 0!==i&&i,r=Object(a.__rest)(e,["page","colorful"]),d=function(e){return n?e:void 0};switch(t.pageType){case R.Qb.Mixed:return Object(o.jsx)(Nt,Object(a.__assign)({},r,{color:d(_.b.PrimaryStandard())}),void 0);case R.Qb.MixedWithVideo:return Object(o.jsx)(Ft,Object(a.__assign)({},r,{color:d(_.b.Olive())}),void 0);case R.Qb.ProgrammingQuestion:return Object(o.jsx)(wt.a,Object(a.__assign)({},r,{color:d(_.b.BrandOrange())}),void 0);case R.Qb.IcpcQuestion:return Object(o.jsx)(It,Object(a.__assign)({},r,{color:d(_.b.Purple())}),void 0);default:return Object(o.jsx)(o.Fragment,{},void 0)}},Tt=Object(y.a)(Pt,{target:"eokqbvu0"})({flex:"0 0 auto",marginRight:"4px",fontSize:"16px",verticalAlign:"-3px"},"label:StyledPageIcon;"),At=Object(y.a)("span",{target:"eokqbvu1"})(Ct.l,{flex:"0 1 auto"},"label:Title;"),Rt=Object(y.a)("span",{target:"eokqbvu2"})({display:"inline-block",height:"16px",width:"93px",background:"currentColor",verticalAlign:"-2px",color:_.b.BaseGrey4(),borderRadius:"3px"},"label:HidedContent;"),Dt=function(e){var t,i=e.page,n=e.pageProgressMap,a=e.hideIcon,r=e.draftIcon,d=e.trialReadingTag,c=e.unavailable,l=void 0!==c&&c,s=i.prerequisite,u=i.isTitleHidden,b=i.title,p=!u&&(!s||!!(null===(t=null===n||void 0===n?void 0:n.get(s.id))||void 0===t?void 0:t.completed));return Object(o.jsxs)(o.Fragment,{children:[!a&&Object(o.jsx)(Tt,{page:i,colorful:!l},void 0),p?Object(o.jsx)(At,{children:b},void 0):Object(o.jsx)(Rt,{},void 0),r,d]},void 0)},Bt=i("rBFF"),zt=i("dxiE"),Lt=i("XPmh"),qt=i("6q4e"),Et=i("daAW"),Mt=i("CkJS"),Ht=Object(y.a)(Et.a,{shouldForwardProp:qt.a,target:"e17cai630"})(Mt.a.paragraph.md,{height:"44px",display:"flex",alignItems:"center",cursor:"pointer"},(function(e){var t=e.paddingLeft;return{paddingLeft:void 0===t?"12px":t,transition:"none","&, &:hover, &:active, &:focus":{color:e.isActive?_.a.grey(0):_.a.grey(8)}}}),"label:Container;"),Vt=Object(y.a)("div",{target:"e17cai631"})({width:"100%",minWidth:"0px",flex:"1 1 auto",display:"flex",alignItems:"center"},(function(e){return e.unavailable&&{color:_.b.BaseGrey6()}}),(function(e){var t=e.shouldAlignWithPrefix;return void 0!==t&&t&&{paddingLeft:"20px"}}),"label:ContentContainer;"),Wt=Object(y.a)("div",{target:"e17cai632"})({flex:"0 0 auto",display:"flex",alignItems:"center",marginRight:"4px",fontSize:"16px",color:_.b.BaseGrey6(),transition:"all 0.4s",":hover":{color:_.a.primary(5)}},(function(e){return!e.folded&&{transform:"rotate(90deg)"}}),"label:PrefixContainer;"),Qt=Object(y.a)("div",{target:"e17cai633"})({display:"flex",flex:"0 0 auto",alignItems:"center",justifyContent:"flex-end",marginLeft:"3px",fontSize:"16px"},"label:SuffixContainer;"),$t=Object(Lt.a)(Ht,ut.a.leetbookReadCatalogMenuClick),Ut=function(e){var t=e.children,i=e.prefix,n=e.suffix,r=e.unavailable,c=e.to,l=e.folded,s=void 0===l||l,u=e.setFolded,b=Object(a.__rest)(e,["children","prefix","suffix","unavailable","to","folded","setFolded"]),p=d.a.useCallback((function(e){e.preventDefault(),null===u||void 0===u||u((function(e){return!e}))}),[u]);return Object(o.jsxs)($t,Object(a.__assign)({to:c},b,{children:[i&&Object(o.jsx)(Wt,Object(a.__assign)({onClick:p,folded:s},{children:i}),void 0),Object(o.jsx)(Vt,Object(a.__assign)({unavailable:r,shouldAlignWithPrefix:!i},{children:t}),void 0),n&&Object(o.jsx)(Qt,{children:n},void 0)]}),void 0)},Kt=Object(y.a)("span",{target:"e13246w00"})((function(e){var t=e.colorful,i=void 0===t||t;return{flex:"0 0 auto",lineHeight:"20px",fontSize:"12px",padding:"0px 6px",color:i?_.a.fix.grey(0):_.b.LabelPrimaryReverse(),background:i?_.a.fix.red(4):_.b.BaseGrey5(),borderRadius:"13px",marginLeft:"3px"}}),"label:TrialReadingTag;"),Gt=Object(y.a)(Bt.a,{target:"e13246w01"})({flex:"0 0 auto",color:_.a.blue(5),marginLeft:"3px",verticalAlign:"-2px"},"label:StyledIconAlertCircleFill;"),Yt=Object(y.a)("div",{target:"e13246w02"})({overflow:"hidden",transition:"all 0.4s"},(function(e){return e.shouldIndent&&{marginLeft:"24px"}}),"label:MenuContainer;"),Jt=Object(y.a)(Ut,{target:"e13246w03"})({paddingRight:"16px",borderRadius:"3px","&:hover":zt.b},"label:MenuItemInDetail;"),Xt=Object(y.a)("div",{target:"e13246w04"})(Ct.l,{display:"flex",alignItems:"center",marginRight:"16px"},"label:StyledMenuLabel;");function Zt(e){var t,i=e.isChapter,n=void 0!==i&&i,r=e.page,d=e.bookSlug,c=e.activePageId,s=e.catalogState,u=e.pageProgressMap,b=e.labelSuffixTag,p=ei({page:r}),m=!r.isGreyTitle||!r.publishedAt,g=function(e){var t=e.page,i=e.catalogState,n=e.isChapter,r=e.colorful;return Q.isOwned(i)||!t.isSample||n?null:Object(o.jsx)(Kt,Object(a.__assign)({colorful:r},{children:"\u8bd5\u8bfb"}),void 0)}({page:r,catalogState:s,isChapter:n,colorful:m}),j=!Q.isOwned(s)&&!r.isSample||r.isGreyTitle;return{to:l.a.main.paths.leetbook.read({bookSlug:d,pageId:r.id}),isActive:r.id===c,prefix:r.children?Object(o.jsx)(bt.a,{},void 0):null,suffix:Object(o.jsx)(St,{isPublished:m,page:r,progress:null===u||void 0===u?void 0:u.get(r.id),isOwned:Q.isOwned(s)},void 0),children:Object(o.jsx)(gt,Object(a.__assign)({content:m?"":Object(jt.a)(null!==(t=r.publishedAt)&&void 0!==t?t:"")+" \u5f00\u653e\u9605\u8bfb"},{children:Object(o.jsxs)(Xt,{children:[Object(o.jsx)(Dt,{page:r,pageProgressMap:u,draftIcon:p,trialReadingTag:g,unavailable:j},void 0),b]},void 0)}),void 0),unavailable:j}}function ei(e){return e.page.isDraft?Object(o.jsx)(pt.a,Object(a.__assign)({content:"\u8349\u7a3f",placement:"top"},{children:Object(o.jsx)(Gt,{},void 0)}),void 0):null}var ti=function(e){var t,i=e.bookSlug,n=e.pageId,r=e.paddingLeft,c=e.isChild,l=void 0!==c&&c,s=e.folded,u=void 0===s||s,b=null===(t=Object(a.__read)(Object(j.a)(Q,{scope:i}),1)[0].sortedPageMap)||void 0===t?void 0:t.get(n);return d.a.useEffect((function(){ut.a.leetbookReadCatalogMenuExposure()}),[]),!(null===b||void 0===b?void 0:b.children)||b.children.length<1?null:Object(o.jsx)(Yt,Object(a.__assign)({shouldIndent:l,folded:!!l&&u},{children:b.children.map((function(e){return Object(o.jsx)(ii,{bookSlug:i,page:e,paddingLeft:r},e.id)}))}),void 0)},ii=function(e){var t=e.bookSlug,i=e.page,n=e.paddingLeft,r=Object(a.__read)(d.a.useState(!0),2),c=r[0],l=r[1],s=Object(a.__read)(Object(j.a)(re,{scope:t}),1)[0].pageProgressMap,u=Object(a.__read)(Object(j.a)(Q,{scope:t}),1)[0];return d.a.useEffect((function(){c?ut.a.leetbookDetailCatalogMenuExpandClick(t):ut.a.leetbookDetailCatalogMenuCollapseClick(t)}),[c,t]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Jt,Object(a.__assign)({paddingLeft:n,fullSpaceHoverOverlay:!0,folded:c,setFolded:l},Zt({pageProgressMap:s,catalogState:u,page:i,bookSlug:t})),void 0),i.children&&Object(o.jsx)(st.a,Object(a.__assign)({isActive:!c},{children:Object(o.jsx)(ti,{paddingLeft:n,bookSlug:t,pageId:i.id,isChild:!0,folded:c},void 0)}),void 0)]},void 0)},ni=i("jLkM"),ai=i.n(ni),oi=i("1xil"),ri=i.n(oi),di=i("kH2Q"),ci=i("YvpN");function li(e){var t=function(){var e=d.a.useContext(D.d).userSlug,t=Object(a.__read)(Object(di.b)(e+"-lc-video-played-video-uuid-map",si),2),i=t[0],n=t[1];return d.a.useEffect((function(){var e=ci.b.subscribe((function(e){var t;n(Object(a.__assign)(Object(a.__assign)({},i),((t={})[e]=!0,t)))}));return function(){return e.unsubscribe()}}),[i,n]),i}();return d.a.useMemo((function(){return 0===e.length||e.every((function(e){return t[e]}))}),[e,t])}var si={};var ui=i("YfUy");function bi(e){return li(d.a.useMemo((function(){return e&&"LeetbookMixedPage"===e.__typename?ai()(ri()(G()(e.blocks.map((function(e){return e.type===R.t.Markdown?(t=e.value,n="!\\[[^\\]]*\\]\\(("+ui.d+")\\)",G()(null===(i=t.match(new RegExp(n,"g")))||void 0===i?void 0:i.map((function(e){var t;return null===(t=e.match(new RegExp(n)))||void 0===t?void 0:t[1]})))):null;var t,i,n}))))):[]}),[e]))}function pi(e){var t=Object(a.__read)(d.a.useState({}),2),i=t[0],n=t[1],o=d.a.useMemo((function(){return function(e){if("LeetbookMixedPage"!==(null===e||void 0===e?void 0:e.__typename))return[];return e.blocks.filter((function(e){switch(e.type){case R.t.QuizQuestion:return!0;default:return!1}}))}(e)}),[e]),r=d.a.useCallback((function(e){return n((function(t){var i;return Object(a.__assign)(Object(a.__assign)({},t),((i={})[e.id]=!0,i))}))}),[n]);return{isAllBlockComplete:d.a.useMemo((function(){return!(!e||"LeetbookMixedPage"!==e.__typename)&&(0===o.length||o.every((function(e){var t=e.id;return i[t]})))}),[e,o,i]),reportBlockComplete:r}}function mi(e){var t=e.page,i=e.scrollingElementRef,n=e.bottomAnchorRef,o=Object(a.__read)(d.a.useState(null),2),r=o[0],c=o[1],l=pi(t),s=l.isAllBlockComplete,u=l.reportBlockComplete,b=bi(t),p=d.a.useMemo((function(){return function(e){return"LeetbookMixedPage"===(null===e||void 0===e?void 0:e.__typename)}(t)}),[t]),m=function(e,t,i){var n=Object(a.__read)(d.a.useState(!1),2),o=n[0],r=n[1];return d.a.useEffect((function(){var n=t.current,a=i.current;if(!o&&e&&n&&a){if(window.IntersectionObserver){var d=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(r(!0),d.disconnect())}))}),{rootMargin:"0px",threshold:1,root:n});return d.observe(a),function(){return d.disconnect()}}r(!0)}}),[e,o,t,i]),o}(p,i,n);return{isAllComplete:d.a.useMemo((function(){if(!t)return!1;switch(t.__typename){case"LeetbookMixedPage":var e=s&&(!p||m);return t.pageType===R.Qb.MixedWithVideo?e&&b:e;case"LeetbookQuestionPage":return!!r;case"LeetbookChapterPage":default:return!1}}),[t,s,r,m,b,p]),reportBlockComplete:u,reportSubmitQuestion:c}}var gi,ji,vi,fi=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M5.414 11H21a1 1 0 110 2H5.414L12 19.586A1 1 0 0110.586 21l-8.293-8.293a.997.997 0 01.003-1.417L10.586 3A1 1 0 1112 4.414L5.414 11z",clipRule:"evenodd"},void 0)}),void 0)})),Oi=i("pC31"),ki=i("SnQD"),hi=i("mhnT"),xi=i("lqvn"),yi=function(e){function t(t){var i=e.call(this)||this;return i.catalogModule=t,i.defaultState={currentPageId:null,prev:null,next:null},i}var i,n,o,r;return Object(a.__extends)(t,e),t.prototype.syncState=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.catalogModule.getState$().pipe(Object(hi.a)(t.stopSyncState$),Object(q.a)((function(e){return e.sortedPageMap})),Object(xi.a)(),Object(q.a)((function(e){return t.getActions()._handleCatalogModuleStateChange(e)})),Object(E.a)(t.getActions()._updateCurrentPageId(e)))})))},t.prototype._updateCurrentPageId=function(e,t){e.currentPageId=t},t.prototype._handleCatalogModuleStateChange=function(e,t){var i,n;if(e.currentPageId)if(t){var o=Object(a.__spread)(t.keys()),r=o.findIndex((function(t){return t===e.currentPageId}));e.prev=r>0&&null!==(i=t.get(o[r-1]))&&void 0!==i?i:null,e.next=r<o.length-1&&null!==(n=t.get(o[r+1]))&&void 0!==n?n:null}else e.prev=null,e.next=null},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"stopSyncState$",void 0),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof z.a&&z.a)?n:Object]),Object(a.__metadata)("design:returntype","function"===typeof(o="undefined"!==typeof z.a&&z.a)?o:Object)],t.prototype,"syncState",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_updateCurrentPageId",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleCatalogModuleStateChange",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__param)(0,Object(ki.a)()),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof Q&&Q)?r:Object])],t)}(k.a),_i=i("joee"),Si=Object(y.a)("div",{target:"elt4qmr0"})(((gi={display:"flex",height:"75px",marginTop:"56px"})[".question.full-width &"]={flex:"0 0 auto",height:"44px"},gi),"label:Container;"),Ci=Object(y.a)(Et.a,{target:"elt4qmr1"})(Object(Ct.e)(Object(zt.a)({top:"0px",left:"0px",right:"0px",bottom:"0px"})),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"3px",padding:"10px 24px",fontSize:"12px",border:"1px solid "+_.a.grey(4),overflow:"hidden","&, &:hover, &:active, &:focus":{color:_.a.grey(6)},"&:not(:first-of-type)":{marginLeft:"24px"}},"label:Item;"),Ni=Object(y.a)("div",{target:"elt4qmr2"})((function(e){return{textAlign:e.textAlign,flex:"1 1 0px",overflow:"hidden"}}),"label:ItemContentContainer;"),Fi=Object(y.a)("span",{target:"elt4qmr3"})(((ji={})[".question.full-width &"]={display:"none"},ji),"label:ItemText;"),wi=Object(y.a)("h5",{target:"elt4qmr4"})(Mt.a.paragraph.md,Object(a.__assign)(Object(a.__assign)({fontWeight:500,marginTop:"10px"},Ct.l),((vi={})[".question.full-width &"]={marginTop:"0px"},vi)),"label:ItemTitle;"),Ii=Object(Lt.a)(Object(_i.a)(Ci,ut.a.leetbookReadPrevPageExposure),ut.a.leetbookReadPrevPageClick),Pi=Object(Lt.a)(Object(_i.a)(Ci,ut.a.leetbookReadNextPageExposure),ut.a.leetbookReadNextPageClick),Ti=function(e){var t=e.bookSlug,i=Object(a.__read)(Object(j.a)(yi,{scope:t}),1)[0],n=i.prev,r=i.next,d=Object(a.__read)(Object(j.a)(re,{scope:t}),1)[0].pageProgressMap;return Object(o.jsxs)(Si,{children:[n&&Object(o.jsxs)(Ii,Object(a.__assign)({to:l.a.main.paths.leetbook.read({bookSlug:t,pageId:n.id})},{children:[Object(o.jsx)(fi,{size:16},void 0),Object(o.jsxs)(Ni,Object(a.__assign)({textAlign:"right"},{children:[Object(o.jsx)(Fi,{children:"\u4e0a\u4e00\u9875"},void 0),Object(o.jsx)(wi,{children:Object(o.jsx)(Dt,{page:n,pageProgressMap:d,hideIcon:!0},void 0)},void 0)]}),void 0)]}),void 0),r&&Object(o.jsxs)(Pi,Object(a.__assign)({to:l.a.main.paths.leetbook.read({bookSlug:t,pageId:r.id})},{children:[Object(o.jsxs)(Ni,Object(a.__assign)({textAlign:"left"},{children:[Object(o.jsx)(Fi,{children:"\u4e0b\u4e00\u9875"},void 0),Object(o.jsx)(wi,{children:Object(o.jsx)(Dt,{page:r,pageProgressMap:d,hideIcon:!0},void 0)},void 0)]}),void 0),Object(o.jsx)(Oi.a,{size:16},void 0)]}),void 0)]},void 0)},Ai=i("oCLu"),Ri=i.n(Ai),Di=i("dylr"),Bi=i("cVJn"),zi=i("4tzl"),Li=Object(y.a)("span",{target:"e16s8vwq0"})({color:_.a.grey(7),fontSize:"12px",display:"inline-flex",alignItems:"center","&:hover span":{color:_.b.GreenStandard()},"&:hover #iconThumbsUp > svg":{width:"24px",height:"24px",padding:"2px",borderRadius:"12px",backgroundColor:_.b.Green0(),color:_.b.GreenStandard()}},"label:Container;"),qi=Object(y.a)("span",{target:"e16s8vwq1"})({fontSize:"14px",margin:"0 6px",cursor:"pointer",display:"flex","& svg":{width:"24px",height:"24px",padding:"2px"}},"label:ThumbsUpButton;"),Ei=Object(y.a)(Bi.a,{target:"e16s8vwq2"})({color:_.b.BaseGrey6()},"label:StyledIconThumbsUp;"),Mi=Object(y.a)(zi.a,{target:"e16s8vwq3"})({color:_.b.GreenStandard()},"label:StyledIconThumbsUpFill;"),Hi=Object(y.a)("span",{target:"e16s8vwq4"})((function(e){return{color:e.isHelpful?_.b.GreenStandard():_.b.LabelTertiary(),fontWeight:500}}),"label:HelpfulCount;"),Vi=Object(y.a)("div",{target:"e16s8vwq5"})({margin:"0 6px",position:"relative",height:"24px",width:"24px",padding:"2px","&:hover svg":{backgroundColor:"none"}},"label:LottieContainer;"),Wi={loop:!1,autoplay:!1,animationData:Object(_.g)()?i("5whA"):i("UxKo")},Qi=Object(Lt.a)(Object(_i.a)(qi,ut.a.leetbookReadMarkHelpfulExposure),ut.a.leetbookReadMarkHelpfulClick);function $i(e){var t=e.pageId,i=Object(a.__rest)(e,["pageId"]),n=Object(a.__read)(Object(j.a)(Di.a),2),d=n[0],c=d.isHelpful,l=d.helpfulCount,s=n[1],u=s.setIsHelpful,b=s.fetchFeedback,p=Object(a.__read)(Object(r.useState)(!1),2),m=p[0],g=p[1],v=Object(r.useCallback)((function(){c||(g(!0),u(t))}),[u,t,c]);return Object(r.useEffect)((function(){t&&b(t)}),[t,b]),Object(o.jsxs)(Li,Object(a.__assign)({},i,{children:["\u672c\u8282\u5185\u5bb9\u662f\u5426\u5bf9\u60a8\u6709\u5e2e\u52a9\uff1f",m?Object(o.jsx)(Vi,{children:Object(o.jsx)(Ri.a,{style:{position:"absolute",top:"-18px",right:"-18px"},width:"60px",height:"60px",options:Wi,isStopped:!1,eventListeners:[{eventName:"complete",callback:function(){return g(!1)}}],isClickToPauseDisabled:!0},void 0)},void 0):c?Object(o.jsx)(Qi,Object(a.__assign)({onClick:v},{children:Object(o.jsx)(Mi,{},void 0)}),void 0):Object(o.jsx)(Qi,Object(a.__assign)({onClick:v,id:"iconThumbsUp"},{children:Object(o.jsx)(Ei,{},void 0)}),void 0),Object(o.jsxs)(Hi,Object(a.__assign)({isHelpful:c},{children:[" ",l," "]}),void 0)]}),void 0)}var Ui=Object(y.a)("div",{target:"eksg4mf0"})({marginTop:"32px",marginBottom:"4px"},"label:Container;"),Ki=Object(y.a)("span",{target:"eksg4mf1"})({fontSize:"12px",color:_.a.grey(6)},"label:Copyright;"),Gi=Object(y.a)($i,{target:"eksg4mf2"})({float:"right"},"label:StyledThumbUp;"),Yi=function(e){var t=e.pageId;return Object(o.jsxs)(Ui,{children:[Object(o.jsx)(Ki,{children:"\xa9 \u672c LeetBook \u7531\u300c\u529b\u6263\u300d\u548c\u4f5c\u8005\u5171\u540c\u5236\u4f5c\u548c\u53d1\u884c\uff0c\u7248\u6743\u6240\u6709\u4fb5\u6743\u5fc5\u7a76\u3002"},void 0),Object(o.jsx)(Gi,{pageId:t},void 0)]},void 0)},Ji=i("3I8i");var Xi=function(e,t){var i=Object(r.useRef)(!1);Object(r.useEffect)((function(){i.current&&e(),i.current=!0}),t)},Zi={duration:300,easing:"easeInOutSine"},en=d.a.memo((function(e){var t=e.onModeChange,i=Object(a.__rest)(e,["onModeChange"]),n=Object(a.__read)(Object(j.a)(x),1)[0].isFullWidth,d=Object(r.useRef)(null);return Xi((function(){return Ji.a.timeline(Object(a.__assign)(Object(a.__assign)({},Zi),{targets:d.current})).add({opacity:0,complete:function(){null===t||void 0===t||t(n),w(n)}}).add({opacity:1}),function(){Ji.a.remove(d.current)}}),[t,n]),Object(o.jsx)("div",Object(a.__assign)({ref:d},i),void 0)})),tn=d.a.memo((function(e){var t=Object(a.__read)(Object(j.a)(x),1)[0].isFullWidth,i=Object(r.useRef)(null);return Xi((function(){return Object(Ji.a)(Object(a.__assign)(Object(a.__assign)({},Zi),{targets:i.current,opacity:t?0:1,delay:t?0:300})),function(){Ji.a.remove(i.current)}}),[t]),Object(o.jsx)(F,Object(a.__assign)({ref:i},e),void 0)})),nn={Faded:en,Hidden:d.a.memo((function(e){var t,i,n=e.children,r=Object(a.__rest)(e,["children"]);return(t=de().pageId,"LeetbookQuestionPage"===(null===(i=Object(a.__read)(Object(j.a)(Xe,{scope:t}),1)[0].page)||void 0===i?void 0:i.__typename))?Object(o.jsx)(tn,Object(a.__assign)({},r,{children:n}),void 0):Object(o.jsx)("div",Object(a.__assign)({},r,{children:n}),void 0)}))},an=i("Blax"),on=i("k6is"),rn=i("IM9M");var dn=i("tgHz"),cn={ADD_TAGS:["iframe","style"],FORCE_BODY:!0},ln=Object(y.a)(rn.a,{target:"es3atjd0"})({padding:"0px",hr:{margin:"10px 0px"},iframe:{border:"none"}},"label:StyledRenderedMarkdownContainer;"),sn=i("lDJ/"),un=Object(y.a)(sn.a,{target:"e1xy1row0"})({padding:"0px"},"label:StyledRenderedMarkdown;"),bn=i("lKcY"),pn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookQuizQuestions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quizQuestionsBySourceId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sourceId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}},{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"EnumValue",value:"Leetbook"}},{kind:"Argument",name:{kind:"Name",value:"questionIds"},value:{kind:"Variable",name:{kind:"Name",value:"questionIds"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userRecord"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quizQuestion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"explanation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"acRate"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbookQuizQuestions($pageId: ID!, $questionIds: [ID!]!) {\n  quizQuestionsBySourceId(\n    sourceId: $pageId,\n    source: Leetbook,\n    questionIds: $questionIds\n  ) {\n    userRecord {\n      status\n      answers\n    }\n\n    quizQuestion {\n      content\n      answers\n      explanation\n      type\n      options\n      status\n      id\n      acRate\n    }\n  }\n}\n"}},operationName:"leetbookQuizQuestions",defName:"quizQuestionsBySourceId"},mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookSubmitQuiz"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"QuizSubmitInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quizSubmit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation leetbookSubmitQuiz($data: QuizSubmitInput!) {\n  quizSubmit(data: $data) {\n    ok\n  }\n}\n"}},operationName:"leetbookSubmitQuiz",defName:"quizSubmit"},gn=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={status:"loading",selectedIndexes:[]},i}var i,n,o,r,d,c,l,s;return Object(a.__extends)(t,e),t.prototype.setMetaData=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),{meta:t})},t.prototype.setSelectedIndexes=function(e,t){return Object(a.__assign)(Object(a.__assign)({},e),{selectedIndexes:ai()(t)})},t.prototype.reset=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{selectedIndexes:[],record:void 0})},t.prototype.fetchQuestion=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(q.a)((function(e){return Object(a.__read)(e,2)[1].meta})),Object(ee.a)((function(e){return!!e})),Object(L.a)((function(e){var t=e.sourceId,n=e.questionId;return i.client.query({query:pn,fetchPolicy:"network-only",variables:{pageId:t,questionIds:[n]}}).pipe(Object(q.a)((function(e){var t=e.data;return i.getActions()._handleFetchQuestionResult(A()(t.quizQuestionsBySourceId))})),Object(E.a)(i.getActions()._beforeFetchQuestions()),Object(M.a)((function(){return Object(B.a)(i.getActions()._handleFetchQuestionsFailed())})))})))},t.prototype._beforeFetchQuestions=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{status:"loading"})},t.prototype._handleFetchQuestionResult=function(e,t){var i,n,o;return t?Object(a.__assign)(Object(a.__assign)({},e),{status:"loaded",question:t.quizQuestion,record:null!==(i=t.userRecord)&&void 0!==i?i:void 0,selectedIndexes:null!==(o=null===(n=t.userRecord)||void 0===n?void 0:n.answers)&&void 0!==o?o:e.selectedIndexes}):Object(a.__assign)(Object(a.__assign)({},e),{status:"no-data"})},t.prototype._handleFetchQuestionsFailed=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{status:"error"})},t.prototype.submit=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(q.a)((function(e){var t=Object(a.__read)(e,2)[1],i=t.meta,n=t.selectedIndexes;return i&&n.length>0?[n,i]:null})),Object(ee.a)((function(e){return!!e})),Object(L.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],o=t[1],r=o.questionId,d=o.sourceId;return i.client.mutate({mutation:mn,variables:{data:{answers:n,questionId:r,sourceId:d,source:R.ec.Leetbook}}}).pipe(Object(q.a)((function(e){var t,n=e.data;return(null===(t=null===n||void 0===n?void 0:n.quizSubmit)||void 0===t?void 0:t.ok)?i.getActions().fetchQuestion():i.getActions()._afterSubmit()})),Object(E.a)(i.getActions()._beforeSubmit()),Object(M.a)((function(){return Object(B.a)(i.getActions()._afterSubmit())})))})))},t.prototype._beforeSubmit=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{status:"submitting"})},t.prototype._afterSubmit=function(e){return Object(a.__assign)(Object(a.__assign)({},e),{status:"loaded"})},Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"setMetaData",null),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,Array]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"setSelectedIndexes",null),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"reset",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object,"function"===typeof(n="undefined"!==typeof z.a&&z.a)?n:Object]),Object(a.__metadata)("design:returntype","function"===typeof(o="undefined"!==typeof z.a&&z.a)?o:Object)],t.prototype,"fetchQuestion",null),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"_beforeFetchQuestions",null),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object,"function"===typeof(r="undefined"!==typeof W.LeetbookQuizQuestions&&W.LeetbookQuizQuestions.QuizQuestionsBySourceId)?r:Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"_handleFetchQuestionResult",null),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"_handleFetchQuestionsFailed",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof z.a&&z.a)?d:Object,"function"===typeof(c="undefined"!==typeof z.a&&z.a)?c:Object]),Object(a.__metadata)("design:returntype","function"===typeof(l="undefined"!==typeof z.a&&z.a)?l:Object)],t.prototype,"submit",null),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"_beforeSubmit",null),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[Object]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"_afterSubmit",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof H.a&&H.a)?s:Object])],t)}(k.a),jn=i("AbD5"),vn=Object(y.a)(jn.a,{target:"ef6tcnz0"})({flex:"0 0 auto",margin:"1px 0px"},"label:StyledTag;"),fn=Object(y.a)("div",{target:"ef6tcnz1"})({display:"flex",alignItems:"flex-start",marginBottom:"24px"},"label:LayoutContainer;"),On=Object(y.a)("div",{target:"ef6tcnz2"})({flex:"1 1 auto",minWidth:"0px",margin:"0px 0px 0px 4px"},"label:TitleContainer;"),kn=function(e){var t=e.children,i=e.tagContent;return Object(o.jsxs)(fn,{children:[Object(o.jsx)(vn,{kind:"blue",content:i,size:"xs"},void 0),Object(o.jsx)(On,{children:t},void 0)]},void 0)},hn=Object(y.a)(sn.a,{target:"e1wrqbp90"})({display:"inline",padding:"0px",margin:"0px"},"label:MarkdownContent;"),xn=Object(y.a)(hn,{target:"e1wrqbp91"})({"> *":{margin:"0 !important",fontSize:"14px !important",lineHeight:"22px !important"}},"label:QuizMarkdownContent;");function yn(e){return function e(t){if(t<1)return"";var i=(t-1)%26,n=String.fromCharCode(65+i);return e((t-i)/26|0)+n}(e+1)}var _n=Object(y.a)("li",{target:"e1p8azr20"})({marginBottom:"16px",marginLeft:"14px"},"label:Option;"),Sn=Object(y.a)("ul",{target:"e1p8azr21"})((function(e){var t,i=e.disabled;return(t={listStyle:"none",margin:"0px",padding:"0px",cursor:i?"not-allowed":"default"})[""+_n]={pointerEvents:i?"none":"auto"},t}),"label:OptionContainer;"),Cn=Object(y.a)("span",{target:"e1p8azr22"})({marginLeft:"4px",marginRight:"12px",lineHeight:"22px"},"label:IndexIndicator;");function Nn(e){var t=e.options,i=e.children,n=e.status,r=e.hasRecord;return Object(o.jsx)(Sn,Object(a.__assign)({disabled:"loaded"!==n||r},{children:t.map((function(e,t){return Object(o.jsx)(_n,{children:i({option:e,index:t,indicator:Object(o.jsx)(Cn,{children:yn(t)},void 0)})},e)}))}),void 0)}var Fn,wn,In,Pn=i("vDDZ"),Tn=i("3K5t"),An=Object(y.a)("div",{target:"e1f9h8dq0"})({display:"flex",justifyContent:"flex-end"},"label:Container;"),Rn=Object(y.a)(S.a,{target:"e1f9h8dq1"})({marginLeft:"10px"},"label:StyledButton;"),Dn=Object(Lt.a)(Object(_i.a)(Rn,ut.a.leetbookReadQuizQuestionRedoExposure),ut.a.leetbookReadQuizQuestionRedoClick),Bn=Object(Lt.a)(Object(_i.a)(Rn,ut.a.leetbookReadQuizQuestionSubmitExposure),ut.a.leetbookReadQuizQuestionSubmitClick),zn=function(e){var t=e.status,i=e.hasSelected,n=e.hasRecord,r=e.reset,d=e.submit,c="loaded"===t;return Object(o.jsxs)(An,{children:[Object(o.jsx)(Dn,Object(a.__assign)({size:"sm",disabled:(!c||!i)&&!n,prefixIcon:Object(o.jsx)(Pn.a,{},void 0),onClick:r},{children:"\u91cd\u505a"}),void 0),Object(o.jsx)(Bn,Object(a.__assign)({size:"sm",loading:!c,disabled:!i||n,prefixIcon:Object(o.jsx)(Tn.a,{},void 0),onClick:d},{children:"\u63d0\u4ea4"}),void 0)]},void 0)},Ln=i("N+9o"),qn=i.n(Ln),En=i("txck"),Mn=i("6LfN"),Hn=Object(y.a)("div",{target:"eburln0"})(it.a.layer1,En.a.primary,Mt.a.paragraph.md,Mn.a.level2((function(e){return{border:"1px solid "+e}})),{marginTop:"12px",padding:"25px 16px 24px 30px",position:"relative",background:"inherit"},"label:Container;"),Vn=Object(y.a)("div",{target:"eburln1"})({width:"12px",height:"12px",position:"absolute",top:"-6px",left:"30px","&::before":Object(Ze.b)(it.a.layer1,Mn.a.level2((function(e){return{border:"1px solid "+e,borderRight:"none",borderBottom:"none",borderRadius:"2px 0 0 0"}})),{content:'""',display:"block",width:"100%",height:"100%",transform:"rotate(45deg)"})},"label:Arrow;"),Wn=Object(y.a)("div",{target:"eburln2"})({display:"flex",justifyContent:"space-between"},"label:Header;"),Qn=Object(y.a)("div",{target:"eburln3"})({flex:"1 1 auto"},"label:ResultTips;"),$n=Object(y.a)("span",{target:"eburln4"})((function(e){return{color:e.color}}),"label:ColorText;"),Un=Object(y.a)("div",{target:"eburln5"})(En.a.secondary,Mt.a.paragraph.sm,{flex:"0 0 auto"},"label:CorrectRate;"),Kn=Object(y.a)("div",{target:"eburln6"})(Mn.a.level2((function(e){return{borderTop:"1px solid "+e}})),{display:"flex",marginTop:"12px",paddingTop:"16px"},"label:ExplanationContainer;"),Gn=Object(y.a)("p",{target:"eburln7"})(En.a.title,{flex:"0 0 auto",fontWeight:500,margin:"0px 24px 0px 0px","&::before":{content:'""',display:"inline-block",width:"4px",height:"4px",margin:"0 8px 4px 0",background:_.a.blue(5)}},"label:ExplanationTitle;"),Yn=Object(y.a)("div",{target:"eburln8"})({flex:"1 1 auto",margin:"0px"},"label:Explanation;"),Jn=function(e){var t=e.record,i=e.question,n=d.a.useMemo((function(){return qn()(100*i.acRate,2)+"%"}),[i.acRate]),r=d.a.useMemo((function(){var e=i.explanation;return e?Object(o.jsxs)(Kn,{children:[Object(o.jsx)(Gn,{children:"\u89e3\u6790"},void 0),Object(o.jsx)(Yn,{children:Object(o.jsx)(hn,{children:e},void 0)},void 0)]},void 0):null}),[i]);return t?Object(o.jsxs)(Hn,{children:[Object(o.jsx)(Vn,{},void 0),Object(o.jsxs)(Wn,{children:[Object(o.jsxs)(Qn,{children:["\u7b54\u6848 ",t.status===R.Zc.Ac?Object(o.jsx)($n,Object(a.__assign)({color:_.a.green(5)},{children:"\u6b63\u786e"}),void 0):Object(o.jsx)($n,Object(a.__assign)({color:_.a.red(5)},{children:"\u9519\u8bef"}),void 0),"\uff0c\u6b63\u786e\u7b54\u6848\u662f ",Object(o.jsx)($n,Object(a.__assign)({color:_.a.grey(8)},{children:i.answers.map(yn).join(" ")}),void 0)]},void 0),Object(o.jsxs)(Un,{children:["\u6b63\u786e\u7387 ",Object(o.jsx)($n,Object(a.__assign)({color:_.a.green(5)},{children:n}),void 0)]},void 0)]},void 0),r]},void 0):null},Xn=i("fSLP"),Zn=Object(y.a)(Xn.a,{target:"e1hu4740"})({alignItems:"flex-start","&::before":{margin:"3px 0px"}}),ea=i("WwoV"),ta=i("hfUW"),ia=Object(y.a)(ea.a,{target:"e1hcfvbl0"})(((Fn={alignItems:"flex-start"})[""+ta.c]={margin:"3px 0px"},Fn),"label:StyledCheckbox;"),na=((wn={})[R.fc.Choice]=function(e){var t=e.question,i=e.submit,n=e.reset,r=e.record,c=e.status,l=e.selectedIndexes,s=e.setSelectedIndexes,u=d.a.useMemo((function(){var e;return null!==(e=A()(l))&&void 0!==e?e:null}),[l]),b=d.a.useCallback((function(e){return s([e])}),[s]),p=null!==u,m=!!r;return Object(o.jsxs)("div",{children:[Object(o.jsx)(kn,Object(a.__assign)({tagContent:"\u5355\u9009\u9898"},{children:Object(o.jsx)(xn,{children:t.content},void 0)}),void 0),Object(o.jsx)(Nn,Object(a.__assign)({options:t.options,hasRecord:m,status:c},{children:function(e){var t=e.option,i=e.index,n=e.indicator;return Object(o.jsxs)(Zn,Object(a.__assign)({value:i,checked:u===i,onValueChange:b},{children:[n,Object(o.jsx)(xn,{children:t},void 0)]}),void 0)}}),void 0),Object(o.jsx)(zn,{reset:n,submit:i,status:c,hasRecord:m,hasSelected:p},void 0),Object(o.jsx)(Jn,{question:t,record:r},void 0)]},void 0)},wn[R.fc.Checkbox]=function(e){var t=e.question,i=e.submit,n=e.reset,r=e.record,c=e.status,l=e.selectedIndexes,s=e.setSelectedIndexes,u=d.a.useCallback((function(e,t){"number"===typeof t&&s(e?Object(a.__spread)(l,[t]):l.filter((function(e){return e!==t})))}),[l,s]),b=d.a.useMemo((function(){return l.length>0}),[l]),p=!!r;return Object(o.jsxs)("div",{children:[Object(o.jsx)(kn,Object(a.__assign)({tagContent:"\u591a\u9009\u9898"},{children:Object(o.jsx)(xn,{children:t.content},void 0)}),void 0),Object(o.jsx)(Nn,Object(a.__assign)({status:c,hasRecord:p,options:t.options},{children:function(e){var t=e.option,i=e.index,n=e.indicator;return Object(o.jsxs)(ia,Object(a.__assign)({value:i,checked:l.includes(i),onCheckedChange:u},{children:[n,Object(o.jsx)(xn,{children:t},void 0)]}),void 0)}}),void 0),Object(o.jsx)(zn,{reset:n,submit:i,status:c,hasRecord:!!r,hasSelected:b},void 0),Object(o.jsx)(Jn,{question:t,record:r},void 0)]},void 0)},wn),aa=Object(y.a)("div",{target:"e1vnl8d40"})(Mn.a.level1((function(e){return{borderTop:"1px solid "+e}})),{margin:"24px 0px"},"label:Divider;"),oa=((In={})[R.t.Html]=function(e){var t,i=e.value,n=d.a.useMemo((function(){return Object(dn.a)(i)}),[i]),r=(t=Object(c.i)(),function(e){var i=e.target;if("a"===i.tagName.toLowerCase()){var n=new URL(i.href).pathname;Object(c.h)(n,{path:ue.a.leetbook.read})&&(e.preventDefault(),t.push(n))}});return Object(o.jsx)(ln,Object(a.__assign)({rootFontSize:16},{children:Object(o.jsx)(on.a,{onClick:r,html:n,config:cn},void 0)}),void 0)},In[R.t.Markdown]=function(e){var t=e.value;return Object(o.jsx)(un,Object(a.__assign)({rootFontSize:16},{children:t}),void 0)},In[R.t.QuizQuestion]=function(e){var t=e.id,i=e.value,n=e.pageId,r=e.reportBlockComplete,c=Object(a.__read)(Object(j.a)(gn,{scope:bn.a}),2),l=c[0],s=c[1];switch(d.a.useEffect((function(){s.setMetaData({sourceId:n,questionId:i}),s.fetchQuestion()}),[s,n,i]),d.a.useEffect((function(){(l.record||"no-data"===l.status)&&r({id:t})}),[r,t,l.record,l.status]),l.status){case"error":return Object(o.jsx)("div",{children:"\u51fa\u9519\u4e86"},void 0);case"no-data":return Object(o.jsx)(o.Fragment,{},void 0);case"loading":case"submitting":case"loaded":if(l.question){var u=na[l.question.type];return Object(o.jsx)("div",{children:u&&Object(o.jsx)(u,{record:l.record,question:l.question,selectedIndexes:l.selectedIndexes,setSelectedIndexes:s.setSelectedIndexes,status:l.status,submit:s.submit,reset:s.reset},void 0)},void 0)}return Object(o.jsx)("div",{children:Object(o.jsx)(b.a,{},void 0)},void 0)}},In),ra=function(e){var t=e.blocks,i=e.pageId,n=e.reportBlockComplete;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(an.a,{children:t.map((function(e){var t=oa[e.type];return t?Object(o.jsx)(t,{id:e.id,value:e.value,pageId:i,reportBlockComplete:n},e.id):null})).reduce((function(e,t,i){return i>0?e.push(Object(o.jsx)(aa,{},"divider-"+i),t):e.push(t),e}),[])},void 0)},void 0)},da=i("3J7l"),ca=i("v43y"),la=Object(y.a)("div",{target:"e1ucb8vv0"})({width:"100%",display:"flex",alignItems:"center",flexWrap:"wrap"},"label:Container;"),sa=Object(y.a)("span",{target:"e1ucb8vv1"})({height:"24px",padding:"0px 8px",borderRadius:"100px",background:_.b.FillTertiary(),color:_.b.LabelTertiary(),fontSize:"12px",lineHeight:"24px",textAlign:"center",marginRight:"10px",marginBottom:"10px"},"label:Tag;");function ua(e){var t=e.tags,i=Object(a.__rest)(e,["tags"]);return t.length?Object(o.jsx)(la,Object(a.__assign)({},i,{children:t.map((function(e){var t=e.nameTranslated,i=e.name,n=e.slug,r=e.tagType,d=r?{as:Et.a,to:Object(ca.a)({tagType:r,slug:n})}:{};return Object(o.jsx)(sa,Object(a.__assign)({},d,{children:t||i}),n)}))}),void 0):null}var ba,pa,ma=Object(y.a)("div",{target:"e1oc1a6w0"})({display:"flex"},"label:Container;"),ga=Object(y.a)("div",{target:"e1oc1a6w1"})(Mt.a.paragraph.md,En.a.primary,{flex:"0 0 auto",marginRight:"16px",lineHeight:"24px"},"label:Title;");function ja(e){var t,i=de().pageId,n=Object(a.__read)(Object(j.a)(Xe,{scope:i}),1)[0].page,r="LeetbookQuestionPage"===(null===n||void 0===n?void 0:n.__typename)?null===(t=n.question.topicTags)||void 0===t?void 0:t.map((function(e){var t=e.name,i=e.translatedName;return{name:t,slug:e.slug,nameTranslated:null!==i&&void 0!==i?i:""}})):null===n||void 0===n?void 0:n.commonTags;return r&&r.length?Object(o.jsxs)(ma,Object(a.__assign)({},e,{children:[Object(o.jsx)(ga,{children:"\u76f8\u5173\u6807\u7b7e"},void 0),Object(o.jsx)(ua,{tags:r},void 0)]}),void 0):null}var va=Object(y.a)("div",{target:"e12hyigg0"})(((ba={width:"100%",height:"100%",padding:"32px 40px",margin:"0 auto",overflow:"auto"})[".question.full-width &"]={padding:0},ba),"label:Container;"),fa=Object(y.a)("div",{target:"e12hyigg1"})(((pa={maxWidth:"800px",margin:"0 auto"})[".question.full-width &"]={maxWidth:"100%",height:"100%"},pa),"label:ContentContainer;"),Oa=Object(y.a)("h3",{target:"e12hyigg2"})(Mt.a.heading.h3,{color:_.a.grey(8)},"label:Title;"),ka=Object(y.a)("h4",{target:"e12hyigg3"})(Mt.a.heading.h4,{color:_.a.grey(7),fontWeight:"normal",marginTop:"15px"},"label:Subtitle;"),ha=Object(y.a)("div",{target:"e12hyigg4"})(Mn.a.level1((function(e){return{borderTop:"1px solid "+e}})),{margin:"16px 0px"},"label:Divider;"),xa=Object(y.a)(Pt,{target:"e12hyigg5"})({fontSize:"24px",marginRight:"8px",verticalAlign:"-5.2px"},"label:StyledPageIcon;"),ya=Object(y.a)("div",{target:"e12hyigg6"})({borderRadius:"5px",border:"1px solid "+_.b.DividerPrimary(),margin:"32px auto 96px",padding:"12px 8px"},"label:PageMenuContainer;"),_a=Object(y.a)("div",{target:"e12hyigg7"})(Mn.a.level1((function(e){return{borderTop:"1px solid "+e}})),{margin:"32px 0px"},"label:FooterDivider;"),Sa=Object(y.a)(ja,{target:"e12hyigg8"})((function(e){return{marginTop:e.marginTop+"px",marginBottom:"86px"}}),"label:StyledRelatedTags;"),Ca=Object(y.a)(da.a,{target:"e12hyigg9"})({position:"fixed",top:"100px",right:"24px",zIndex:1},Object(Ct.k)({right:"10px"}),"label:StyledEasterEgg;"),Na=i("2F/d"),Fa=i("3hpK"),wa=i("nnm9"),Ia=i.n(wa),Pa=i("7nmT"),Ta=i.n(Pa);function Aa(){var e=Object(r.createContext)({recordSlot:Ia.a,renderToSlot:Ia.a});return{Slot:function(t){var i=t.id,n=Object(a.__rest)(t,["id"]),c=Object(r.useContext)(e).recordSlot,l=d.a.useRef(null);return Object(r.useEffect)((function(){l.current&&c(i,l.current)}),[i,c]),Object(o.jsx)("div",Object(a.__assign)({ref:l},n),void 0)},SlotProvider:function(t){var i=t.children,n=t.slotRender,d=t.initialSlotId,c=Object(r.useRef)({}),l=Object(r.useRef)(null),s=Object(r.useMemo)((function(){return document.createElement("div")}),[]),u=Object(r.useCallback)((function(e,t){c.current[e]=t}),[]),b=Object(r.useCallback)((function(e){var t,i;l.current!==e&&(l.current&&(null===(t=c.current[l.current])||void 0===t||t.removeChild(s)),l.current=e,null===(i=c.current[l.current])||void 0===i||i.appendChild(s))}),[s]),p=Object(r.useMemo)((function(){return{recordSlot:u,renderToSlot:b}}),[u,b]);return Object(r.useEffect)((function(){b(d)}),[]),Object(o.jsxs)(e.Provider,Object(a.__assign)({value:p},{children:[Ta.a.createPortal(n,s),i]}),void 0)},SlotContext:e}}var Ra="normal",Da="full-width",Ba=Aa(),za=Aa(),La=function(e){return Object(o.jsx)(Ba.Slot,Object(a.__assign)({},e,{id:Ra}),void 0)},qa=function(e){return Object(o.jsx)(za.Slot,Object(a.__assign)({},e,{id:Ra}),void 0)},Ea=function(e){return Object(o.jsx)(Ba.Slot,Object(a.__assign)({},e,{id:Da}),void 0)},Ma=function(e){return Object(o.jsx)(za.Slot,Object(a.__assign)({},e,{id:Da}),void 0)},Ha=d.a.memo((function(e){var t=e.descRender,i=e.editorRender,n=e.children,d=Object(a.__read)(Object(j.a)(x),1)[0].isFullWidth,c=Object(r.useMemo)((function(){return d?Da:Ra}),[]);return Object(o.jsx)(Ba.SlotProvider,Object(a.__assign)({slotRender:t,initialSlotId:c},{children:Object(o.jsx)(za.SlotProvider,Object(a.__assign)({slotRender:i,initialSlotId:c},{children:n}),void 0)}),void 0)}));var Va=i("tQYX"),Wa=i.n(Va),Qa=i("7J95");var $a,Ua=i("0cIN"),Ka=i("3n3h"),Ga=i("MAWP"),Ya=i("y9rd"),Ja=i("0E3S"),Xa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookSubmitCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LeetbookSubmitInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookSubmitCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submissionId"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation leetbookSubmitCode($data: LeetbookSubmitInput!) {\n  leetbookSubmitCode(data: $data) {\n    ok\n    submissionId\n  }\n}\n"}},operationName:"leetbookSubmitCode",defName:"leetbookSubmitCode"},Za={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookRunCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LeetbookRunCodeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookRunCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interpretId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"testCase"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interpretExpectedId"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"mutation leetbookRunCode($data: LeetbookRunCodeInput!) {\n  leetbookRunCode(data: $data) {\n    ok\n    error\n    result {\n      interpretId\n      testCase\n      interpretExpectedId\n    }\n  }\n}\n"}},operationName:"leetbookRunCode",defName:"leetbookRunCode"},eo=i("oBkS"),to=i.n(eo);!function(e){e.testCase="testCase",e.runCodeResult="runCodeResult",e.submitCodeResult="submitCodeResult"}($a||($a={}));var io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultState={activeTab:$a.testCase,isConsoleActive:!1},t}var i,n;return Object(a.__extends)(t,e),t.prototype.setActiveTab=function(e,t){var i;i=t,to()($a,(function(e){return e===i}))&&(e.activeTab=t,e.isConsoleActive=!0)},t.prototype.toggleConsole=function(e){e.isConsoleActive=!e.isConsoleActive},Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof h.Draft&&h.Draft)?i:Object,String]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setActiveTab",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"toggleConsole",null),t=Object(a.__decorate)([Object(f.a)()],t)}(k.a),no=function(e){function t(t,i,n){var a=e.call(this)||this;return a.judger=t,a.client=i,a.consoleModule=n,a.defaultState={runCodeTestCase:"",submitResult:null,runCodeResult:null},a}var i,n,o,r,d,c,l,s,u,b,p;return Object(a.__extends)(t,e),t.isLoading=function(e){var t=function(e){return e===Qa.a.PD||e===Qa.a.JG};return"number"===typeof e?t(e):!!(null===e||void 0===e?void 0:e.status)&&t(e.status)},t.prototype.submitCode=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.mutate({mutation:Xa,variables:{data:e},preventGraphqlErrorDisplay:!0}).pipe(Object(L.a)((function(i){var n,a=i.data;return(null===(n=null===a||void 0===a?void 0:a.leetbookSubmitCode)||void 0===n?void 0:n.ok)&&a.leetbookSubmitCode.submissionId?t.judger.submitCode({submissionId:a.leetbookSubmitCode.submissionId,question_id:e.questionId,lang:e.lang,typed_code:e.typedCode}).pipe(Object(L.a)((function(e){return Object(B.a)(t.getActions().updateSubmitResult(e),t.consoleModule.getActions().setActiveTab($a.submitCodeResult))}))):Object(B.a)(t.getActions().updateSubmitResult(Qa.a.UE))})),Object(E.a)(t.getActions().updateSubmitResult(Qa.a.PD)),Object(M.a)((function(e,i){var n,a,o=null!==(a=null===(n=Object(Ga.b)(e))||void 0===n?void 0:n.message)&&void 0!==a?a:"\u63d0\u4ea4\u5931\u8d25";return"\u63d0\u4ea4\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"===o?Object(Ua.a)(2e3).pipe(Object(Ka.a)(i)):(Ya.a.danger(o),Object(B.a)(t.getActions().updateSubmitResult(Qa.a.UE)))})))})))},t.prototype.updateSubmitResult=function(e,t){e.submitResult=t},t.prototype.runCode=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(L.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],o=t[1].runCodeTestCase;return i.client.mutate({mutation:Za,variables:{data:Object(a.__assign)(Object(a.__assign)({},n),{dataInput:o})}}).pipe(Object(L.a)((function(e){var t,n,a=e.data;return(null===(t=null===a||void 0===a?void 0:a.leetbookRunCode)||void 0===t?void 0:t.ok)&&a.leetbookRunCode.result?i.judger.interpretCode({interpret_id:a.leetbookRunCode.result.interpretId,interpret_expected_id:null!==(n=a.leetbookRunCode.result.interpretExpectedId)&&void 0!==n?n:void 0,test_case:a.leetbookRunCode.result.testCase}).pipe(Object(L.a)((function(e){return Object(B.a)(i.getActions().updateRunCodeResult(e),i.consoleModule.getActions().setActiveTab($a.runCodeResult))}))):Object(B.a)(i.getActions().updateRunCodeResult(Qa.a.UE))})),Object(E.a)(i.getActions().updateRunCodeResult(Qa.a.PD)),Object(M.a)((function(){return Object(B.a)(i.getActions().updateRunCodeResult(Qa.a.UE))})))})))},t.prototype.updateRunCodeResult=function(e,t){e.runCodeResult=t},t.prototype.updateRunCodeTestCase=function(e,t){e.runCodeTestCase=t},Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object]),Object(a.__metadata)("design:returntype","function"===typeof(n="undefined"!==typeof z.a&&z.a)?n:Object)],t.prototype,"submitCode",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"updateSubmitResult",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object,"function"===typeof(d="undefined"!==typeof z.a&&z.a)?d:Object]),Object(a.__metadata)("design:returntype","function"===typeof(c="undefined"!==typeof z.a&&z.a)?c:Object)],t.prototype,"runCode",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof h.Draft&&h.Draft)?l:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"updateRunCodeResult",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof h.Draft&&h.Draft)?s:Object,String]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"updateRunCodeTestCase",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__param)(2,Object(ki.a)()),Object(a.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof Ja.a&&Ja.a)?u:Object,"function"===typeof(b="undefined"!==typeof H.a&&H.a)?b:Object,"function"===typeof(p="undefined"!==typeof io&&io)?p:Object])],t)}(k.a),ao=i("bZIs"),oo=i("sYqU"),ro=i("N+KC"),co=i("I+mb"),lo=i("xzkR"),so=i("nCMh"),uo=i("j5EZ"),bo=i("6+j8"),po=Object(y.a)("div",{target:"e14tnyez0"})(Mn.a.level1((function(e){return{border:"1px solid "+e,borderTop:"none",borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px"}})),{position:"relative"},"label:Container;"),mo=Object(y.a)((function(e){var t=e.className,i=Object(a.__rest)(e,["className"]);return Object(o.jsx)(bo.a,Object(a.__assign)({},i,{headerClassName:t}),void 0)}),{target:"e14tnyez1"})({background:_.a.grey(2)},"label:StyledTabView;"),go=Object(y.a)("div",{target:"e14tnyez2"})(Mt.a.heading.h3,{height:"160px",display:"flex",alignItems:"center",justifyContent:"center",color:_.a.grey(3),fontWeight:500},"label:SubmitCodeFirstTip;"),jo=Object(y.a)("a",{target:"e14tnyez3"})({position:"absolute",right:"4px",top:"0px",height:"32px",display:"flex",alignItems:"center"},"label:GoToSolutionContainer;"),vo=Object(y.a)("span",{target:"e14tnyez4"})({whiteSpace:"nowrap"},"label:TabHeader;"),fo=function(e){return function(){return Object(o.jsx)(vo,{children:e},void 0)}},Oo=function(e){return function(){return e}},ko=function(e){var t=e.testCase,i=e.visualizerInfo,n=e.onTestCaseChange,d=e.isVisualizerActive,c=e.toggleVisualizer,l=e.submitResult,s=e.runCodeResult,u=e.question,b=e.activeTab,p=e.onActiveTabChange,m=Object(r.useCallback)((function(e){e.submissionId&&window.open("/submissions/detail/"+e.submissionId+"/")}),[]),g=function(e){return e&&"object"===typeof e?e:Ja.a.defaultSubmitResult}(l);return Object(o.jsxs)(po,{children:["Main"===u.questionType&&u.questionTitleSlug&&Object(o.jsx)(jo,Object(a.__assign)({href:oo.cb.newQuestionSolutions(u.questionTitleSlug),target:"_blank"},{children:Object(o.jsx)(S.a,Object(a.__assign)({suffixIcon:Object(o.jsx)(ro.a,{},void 0),kind:"transparent"},{children:"\u67e5\u770b\u9898\u89e3"}),void 0)}),void 0),Object(o.jsxs)(mo,Object(a.__assign)({size:"md",tabHeaderWidth:"74px",tabPosition:"top",type:"default",forceRender:!1,activeKey:b,onChangeActiveKey:p},{children:[Object(o.jsx)(co.a,{body:Oo(Object(o.jsx)("div",{children:Object(o.jsx)(uo.a,{testcase:t,onTestcaseChange:n,visualizerInfo:i,isViewerShown:d,toggleVisualizer:c,onRenderedTestcaseChange:Ia.a},void 0)},void 0)),header:fo("\u6d4b\u8bd5\u7528\u4f8b")},$a.testCase),Object(o.jsx)(co.a,{body:Oo(Object(o.jsx)(lo.a,{result:ho(s),isICPC:u.style===R.cc.Icpc},void 0)),header:fo("\u6267\u884c\u7ed3\u679c")},$a.runCodeResult),Object(o.jsx)(co.a,{body:Oo(g.status?Object(o.jsx)(so.a,{writeAcSolution:null,simpleMode:!1,result:g,onClickResultDetail:m},void 0):Object(o.jsx)(go,{children:"\u8bf7\u5148\u63d0\u4ea4\u60a8\u7684\u4ee3\u7801"},void 0)),header:fo("\u63d0\u4ea4\u7ed3\u679c")},$a.submitCodeResult)]}),void 0)]},void 0)};function ho(e){return e&&"object"===typeof e?e:Ja.a.defaultInterpretResult}var xo=i("NPNp"),yo=new(i("4Fif").a);function _o(e){var t,i=e.sessionId,n=e.question,o=(t=n.codeSnippets,d.a.useMemo((function(){return G()((null!==t&&void 0!==t?t:[]).map((function(e){return(null===e||void 0===e?void 0:e.lang)&&(null===e||void 0===e?void 0:e.langSlug)?{slug:e.langSlug,lang:e.lang}:null})))}),[t])),r=d.a.useMemo((function(){return o.map((function(e){return e.slug}))}),[o]),c=Object(a.__read)(Object(xo.a)(i,n.questionId,r,yo),2);return{lang:c[0],setLang:c[1],langOptions:o}}var So=i("Fiq6");var Co=i("uGSH");var No,Fo=i("veEq"),wo=Object(y.a)("div",{target:"e3o04j10"})({position:"relative",zIndex:0},"label:RootContainer;"),Io=Object(y.a)("div",{target:"e3o04j11"})(((No={height:"52px",display:"flex",alignItems:"center"})[".question.full-width &"]={height:"60px",padding:"0px 16px 0px 5px"},No),"label:Container;"),Po=Object(y.a)(S.a,{target:"e3o04j12"})({marginLeft:"16px"},"label:ActionButton;"),To=Object(y.a)(S.a,{target:"e3o04j13"})({marginRight:"auto"},"label:ConsoleButton;"),Ao=Object(y.a)(Fo.a,{target:"e3o04j14"})((function(e){return{transform:"rotate(-"+(e.isRotate?180:0)+"deg)",transition:"transform .3s"}}),"label:StyledIconTriangleDown;"),Ro=Object(Lt.a)(Object(_i.a)(Po,ut.a.leetbookReadQuestionRuncodeExposure),ut.a.leetbookReadQuestionRuncodeClick),Do=Object(Lt.a)(Object(_i.a)(Po,ut.a.leetbookReadQuestionSubmitExposure),ut.a.leetbookReadQuestionSubmitClick);function Bo(e){var t=e.onRunCode,i=e.onSubmitCode,n=e.isConsoleActive,r=e.onToggleConsole,d=e.submitResult,c=e.runCodeResult,l=e.enableRunCode,s=no.isLoading(d),u=no.isLoading(c);return Object(o.jsx)(wo,{children:Object(o.jsxs)(Io,{children:[Object(o.jsx)(To,Object(a.__assign)({kind:"transparent",size:"xs",onClick:r,suffixIcon:Object(o.jsx)(Ao,{isRotate:n},void 0)},{children:"\u63a7\u5236\u53f0"}),void 0),l&&Object(o.jsx)(Ro,Object(a.__assign)({kind:"primary-border",minWidth:"92px",size:"md",prefixIcon:Object(o.jsx)(bt.a,{},void 0),onClick:t,disabled:s,loading:u},{children:"\u6267\u884c\u4ee3\u7801"}),void 0),Object(o.jsx)(Do,Object(a.__assign)({kind:"primary",minWidth:"78px",size:"md",onClick:i,disabled:u,loading:s},{children:"\u63d0\u4ea4"}),void 0)]},void 0)},void 0)}var zo=i("pu3o"),Lo=i.n(zo),qo=i("RUPt"),Eo=i("AAfO");function Mo(e){var t=e.questionId,i=e.afterFetchRecentSubmission,n=Object(a.__read)(d.a.useState(!1),2),o=n[0],r=n[1],c=d.a.useCallback((function(e){if(!o&&t){r(!0);var n=Lo.a.stringify({qid:t,lang:e});Object(qo.a)("/submissions/latest/?"+n).then((function(e){var t=e.data;i(t.code)})).catch((function(t){var i,n=null===(i=t.response)||void 0===i?void 0:i.status;!function(e,t){404===t?Ya.a.default("\u672c\u9898\u672a\u63d0\u4ea4\u8fc7 "+e+" \u4ee3\u7801"):401===t?Ya.a.danger("\u8bf7\u5148\u767b\u5f55"):Ya.a.danger("\u51fa\u73b0\u4e86\u4e00\u4e9b\u72b6\u51b5\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")}(Eo.a[e],n)})).finally((function(){r(!1)}))}}),[t,r,i,o]);return[o,c]}var Ho,Vo,Wo,Qo,$o,Uo=i("nt9e"),Ko=i("UZNq"),Go=i("DEAa"),Yo=i.n(Go),Jo=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M7.586 15H4a1 1 0 110-2h6a1 1 0 011 1v6a1 1 0 11-2 0v-3.586l-4.293 4.293a1 1 0 01-1.414-1.414L7.586 15zm8.828-6H20a1 1 0 110 2h-6a1 1 0 01-1-1V4a1 1 0 112 0v3.586l4.293-4.293a1 1 0 111.414 1.414L16.414 9z",clipRule:"evenodd"},void 0)}),void 0)})),Xo=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M6.414 19H10a1 1 0 110 2H4a1 1 0 01-1-1v-6a1 1 0 112 0v3.586l4.293-4.293a1 1 0 011.414 1.414L6.414 19zM17.586 5H14a1 1 0 110-2h6a1 1 0 011 1v6a1 1 0 11-2 0V6.414l-4.293 4.293a1 1 0 01-1.414-1.414L17.586 5z",clipRule:"evenodd"},void 0)}),void 0)})),Zo=Object(Lt.a)(Object(_i.a)(I,ut.a.leetbookReadFullscreenExposure),ut.a.leetbookReadFullscreenClick);function er(e){var t=Object(a.__read)(Object(j.a)(x),2),i=t[0],n=i.isNavCollapsed,d=i.isFullWidth,c=t[1],l=c.toggleNavigation,u=c.toggleFullWidth,b=Object(r.useCallback)((function(){l(),n===d&&u()}),[l,n,d,u]);return Object(s.q)()?null:Object(o.jsx)(Zo,Object(a.__assign)({size:"sm",kind:"transparent",onClick:b,prefixIcon:n?Object(o.jsx)(Jo,{},void 0):Object(o.jsx)(Xo,{},void 0),hideInNormalMode:e.hideInNormalMode},e),void 0)}var tr=Object(y.a)("div",{target:"e4c1tj10"})(((Ho={})[".question.full-width &"]={height:"100%",display:"flex",flexDirection:"column"},Ho),"label:Container;"),ir=Object(y.a)(er,{target:"e4c1tj11"})({width:"35px",height:"32px",padding:"0px 6px 0px 9px"},"label:StyledFullWidthButton;"),nr=Object(y.a)(Uo.a,{target:"e4c1tj12"})(((Vo={height:"100%"})["."+Yo.a.container]=((Wo={boxShadow:"none",marginBottom:"4px"})["&, "+_.c]={background:"transparent"},Wo),Vo["."+Yo.a.secondSectionContainer+" div:last-of-type"]={marginRight:"0px"},Vo["."+Ko.a]=Mn.a.level1((function(e){return{border:"1px solid "+e,borderRadius:"3px",overflow:"hidden"}})),Vo[".question.full-width &"]=((Qo={})["."+Yo.a.container]={minHeight:"48px",marginBottom:0},Qo),Vo[".dark.question.full-width &"]={background:_.a.grey(3)},Vo),"label:StyledCodeEditor;"),ar=Object(y.a)("div",{target:"e4c1tj13"})((($o={display:"flex",flexDirection:"column",height:"490px",overflow:"hidden",marginTop:"24px"})[".question.full-width &"]={marginTop:0,hight:"auto",flex:"1 1 auto"},$o),(function(e){var t,i=e.isConsoleActive;return(t={})[nr+" ."+Ko.a]={borderBottomLeftRadius:i?"0px":void 0,borderBottomRightRadius:i?"0px":void 0},t}),"label:EditorLayoutContainer;"),or=Object(y.a)("div",{target:"e4c1tj14"})({flex:"1 1 0px",position:"relative",overflow:"hidden",zIndex:0},"label:EditorContainer;"),rr=d.a.memo((function(e){var t,i=e.pageId,n=e.bookSlug,l=e.question,s=e.reportSubmitQuestion,u=n+"_"+i+"_"+l.questionId,b=_o({sessionId:u,question:l}),p=b.lang,m=b.setLang,g=b.langOptions,v=function(e){var t=e.sessionId,i=e.question,n=e.lang,o=Object(a.__read)(d.a.useState(null),2),r=o[0],c=o[1],l=d.a.useCallback((function(){null===r||void 0===r||r.setValue(Object(So.b)(yo,t,i,n).code)}),[r,t,i,n]),s=d.a.useCallback((function(e){var t;c(e);var i=e.rawEditor;null===(t=i.refresh)||void 0===t||t.call(i)}),[c]),u=d.a.useCallback((function(e){yo.saveCode(t,i.questionId,n,e)}),[t,i.questionId,n]),b=d.a.useCallback((function(e){u(e),l()}),[u,l]),p=d.a.useCallback((function(){b(Object(So.a)(i.codeSnippets,n))}),[b,i.codeSnippets,n]),m=d.a.useCallback((function(){var e;return null!==(e=null===r||void 0===r?void 0:r.getValue())&&void 0!==e?e:""}),[r]),g=d.a.useCallback((function(e){return null===r||void 0===r?void 0:r.setValue(e)}),[r]);return d.a.useEffect(l,[l]),{onEditorDidMount:s,saveCodeIntoStorage:u,resetToDefault:p,updateEditorValue:b,getCode:m,setCode:g}}({sessionId:u,question:l,lang:p}),f=v.onEditorDidMount,O=v.saveCodeIntoStorage,k=v.resetToDefault,h=v.getCode,x=v.updateEditorValue,y=function(e){return d.a.useMemo((function(){return Object(Co.b)(e)}),[e])}(l),_=Object(a.__read)(Object(j.a)(Xe,{scope:i}),1)[0].page,S=!("LeetbookQuestionPage"!==(null===_||void 0===_?void 0:_.__typename)||!(null===(t=null===_||void 0===_?void 0:_.question)||void 0===t?void 0:t.enableRunCode)),C=Object(a.__read)(Object(j.a)(no,{scope:u}),2),N=C[0],F=C[1],w=Object(a.__read)(Object(j.a)(io,{scope:u}),2),I=w[0],T=w[1],A=Object(a.__read)(Mo({questionId:l.questionId,afterFetchRecentSubmission:x}),2),D=A[0],B=A[1],z=d.a.useCallback((function(){F.submitCode({lang:p,typedCode:h(),questionId:l.questionId,pageId:i})}),[p,h,l,i,F]),L=d.a.useCallback((function(){S&&F.runCode({lang:p,typedCode:h(),questionId:l.questionId,pageId:i})}),[S,F,p,h,l.questionId,i]);!function(e){var t=Object(a.__read)(Object(j.a)(Fe),2),i=t[0].activityConfig,n=t[1].showRetryModal;Object(r.useEffect)((function(){var t;if(Wa()(e)){var a=null===(t=Object(c.h)(window.location.pathname,{path:ue.a.leetbook.read}))||void 0===t?void 0:t.params;if(a){var o=a.bookSlug,r=a.pageId;if(o===P&&i){var d=i.questions.find((function(e){return e.pageId===r}));if(d)switch(e.status){case Qa.a.AC:window.location.href=d.redirect;break;default:n()}}}}}),[i,e,n])}(N.submitResult),d.a.useEffect((function(){F.updateRunCodeTestCase(l.sampleTestCase)}),[l.sampleTestCase,F]),d.a.useEffect((function(){if(N.submitResult&&"object"===typeof N.submitResult){var e=N.submitResult.status===Qa.a.AC,t=setTimeout((function(){return s(e)}),600);return function(){return clearTimeout(t)}}}),[N.submitResult,s]);var q=Object(a.__read)(function(e){void 0===e&&(e=!1);var t=Object(a.__read)(d.a.useState(e),2),i=t[0],n=t[1];return[i,d.a.useCallback((function(){n((function(e){return!e}))}),[n])]}(),2),E=q[0],M=q[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Le,{},void 0),Object(o.jsxs)(tr,{children:[Object(o.jsxs)(ar,Object(a.__assign)({isConsoleActive:I.isConsoleActive,onCopy:dr},{children:[Object(o.jsxs)(or,{children:[Object(o.jsx)(nr,{lang:p,langOptions:g,onLangChange:m,onValueChange:O,handleResetToDefaultClick:k,onEditorDidMount:f,getRecentSubmission:B,fetchingCode:D,quickSubmit:z,quickInterpret:L,lspDisabled:l.style===R.cc.Icpc,extraTools:Object(o.jsx)(ir,{hideInNormalMode:!0},void 0)},void 0),Object(o.jsx)(ao.a,{shown:E,data:N.runCodeTestCase,visualizerType:y.type},u)]},void 0),Object(o.jsx)(st.a,Object(a.__assign)({isActive:I.isConsoleActive},{children:Object(o.jsx)(ko,{activeTab:I.activeTab,onActiveTabChange:T.setActiveTab,question:l,submitResult:N.submitResult,runCodeResult:N.runCodeResult,sessionId:u,isVisualizerActive:E,toggleVisualizer:M,visualizerInfo:y,testCase:N.runCodeTestCase,onTestCaseChange:F.updateRunCodeTestCase},void 0)}),void 0)]}),void 0),Object(o.jsx)(Bo,{submitResult:N.submitResult,runCodeResult:N.runCodeResult,onRunCode:L,onSubmitCode:z,isConsoleActive:I.isConsoleActive,onToggleConsole:T.toggleConsole,enableRunCode:S},void 0)]},void 0)]},void 0)}));function dr(e){e.stopPropagation()}var cr=i("NLsq"),lr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookProgrammingQuestionSkippable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookProgrammingQuestionSkippable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"questionId"},value:{kind:"Variable",name:{kind:"Name",value:"questionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"skippable"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query leetbookProgrammingQuestionSkippable($questionId: ID!) {\n  leetbookProgrammingQuestionSkippable(questionId: $questionId) {\n    skippable\n  }\n}\n"}},operationName:"leetbookProgrammingQuestionSkippable",defName:"leetbookProgrammingQuestionSkippable"},sr=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={skippable:!1},i}var i,n,o,r,d;return Object(a.__extends)(t,e),t.prototype.fetchSkippable=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:lr,variables:{questionId:e}}).pipe(Object(q.a)((function(e){var i=e.data;return t.getActions()._handleFetchSkippableResult(i)})))})))},t.prototype._handleFetchSkippableResult=function(e,t){var i=t.leetbookProgrammingQuestionSkippable;e.skippable=!!(null===i||void 0===i?void 0:i.skippable)},Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object]),Object(a.__metadata)("design:returntype","function"===typeof(n="undefined"!==typeof z.a&&z.a)?n:Object)],t.prototype,"fetchSkippable",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object,"function"===typeof(r="undefined"!==typeof W.LeetbookProgrammingQuestionSkippable&&W.LeetbookProgrammingQuestionSkippable.Query)?r:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchSkippableResult",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof H.a&&H.a)?d:Object])],t)}(k.a),ur=Object(y.a)("div",{target:"eftsfwg0"})({background:_.a.primary(0),border:"1px solid "+_.a.primary(1),padding:"25px 32px 20px",borderRadius:"3px",marginBottom:"36px"},Object(Ct.e)({display:"flex",alignItems:"flex-end",justifyContent:"space-between"}),"label:Container;"),br=Object(y.a)("p",{target:"eftsfwg1"})(Mt.a.paragraph.md,{margin:"0px",display:"flex",alignItems:"center","&:not(:last-of-type)":{marginBottom:"8px"}},"label:Tips;"),pr=Object(y.a)(ft.a,{target:"eftsfwg2"})({margin:"0px 2px"},"label:StyledIconCheckTaskCircle;"),mr=Object(y.a)("span",{target:"eftsfwg3"})({display:"inline-flex",alignItems:"center",color:_.a.green(5)},"label:CompleteContainer;"),gr=Object(y.a)(S.a,{target:"eftsfwg4"})({"&:not(:first-of-type)":{marginLeft:"10px"}},"label:StyledButton;"),jr=Object(y.a)("div",{target:"eftsfwg5"})({display:"flex",alignItems:"center"},Object(Ct.k)({marginTop:"12px"}),"label:ActionContainer;"),vr=Object(Lt.a)(Object(_i.a)(gr,ut.a.leetbookReadQuestionRedoExposure),ut.a.leetbookReadQuestionRedoClick),fr=Object(Lt.a)(Object(_i.a)(gr,ut.a.leetbookReadQuestionSkipExposure),ut.a.leetbookReadQuestionSkipClick);function Or(e){var t=e.reportSubmitQuestion,i=e.bookSlug,n=e.pageId,r=e.questionId,s=Object(a.__read)(Object(di.b)(i+"-"+n+"-leetbook-question-hide-skip-banner",!1),2),u=s[0],b=s[1],p=Object(a.__read)(d.a.useState(!1),2),m=p[0],g=p[1],v=Object(a.__read)(Object(j.a)(re,{scope:i}),1)[0].pageProgressMap,f=d.a.useMemo((function(){var e;return!1!==(null===(e=null===v||void 0===v?void 0:v.get(n))||void 0===e?void 0:e.completed)}),[v,n]),O=d.a.useCallback((function(){t(!0),g(!0)}),[t,g]),k=d.a.useCallback((function(){b(!0)}),[b]),h=Object(a.__read)(Object(j.a)(sr,{scope:bn.a}),2),x=h[0].skippable,y=h[1].fetchSkippable,_=Object(a.__read)(Object(j.a)(yi,{scope:i}),1)[0].next,S=Object(c.i)();return d.a.useEffect((function(){y(r)}),[y,r]),d.a.useEffect((function(){f&&m&&_&&S.push(l.a.main.paths.leetbook.read({bookSlug:i,pageId:_.id}))}),[m,f,S,_,i]),f||u||!x?null:Object(o.jsxs)(ur,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(br,{children:"\u60a8\u5df2\u6709\u6210\u529f\u63d0\u4ea4\u8bb0\u5f55\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u8df3\u8fc7\uff1f"},void 0),Object(o.jsxs)(br,{children:["\u8df3\u8fc7\u5373\u89c6\u4e3a\u672c\u8282",Object(o.jsxs)(mr,{children:[Object(o.jsx)(pr,{size:16},void 0),"\u5df2\u5b8c\u6210"]},void 0)]},void 0)]},void 0),Object(o.jsxs)(jr,{children:[Object(o.jsx)(fr,Object(a.__assign)({size:"sm",kind:"primary-border",minWidth:"56px",onClick:O,loading:m},{children:"\u8df3\u8fc7"}),void 0),Object(o.jsx)(vr,Object(a.__assign)({size:"sm",kind:"primary",minWidth:"64px",onClick:k,disabled:m},{children:"\u91cd\u65b0\u505a\u9898"}),void 0)]},void 0)]},void 0)}var kr,hr,xr=i("Tb4y"),yr=i.n(xr),_r=i("sqX5"),Sr=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M15.823 17.235l-1.981-1.98a3.732 3.732 0 01-5.12-5.121L6.508 7.921a15.8 15.8 0 00-3.393 4.069 16.77 16.77 0 002.204 2.955c1.962 2.093 4.197 3.327 6.652 3.327a8.168 8.168 0 003.85-1.037zm2.27-.558a.884.884 0 01.021.022l4.598 4.597a1 1 0 11-1.414 1.414l-4.017-4.016a10.19 10.19 0 01-5.292 1.578c-3.106 0-5.822-1.499-8.128-3.959a18.748 18.748 0 01-2.06-2.645 13.905 13.905 0 01-.723-1.234 1 1 0 01.013-.92 17.8 17.8 0 014-5.01L1.265 2.677A1 1 0 012.68 1.264L7.275 5.86a.998.998 0 01.022.021l3.465 3.465a.384.384 0 01.006.007l3.855 3.854.007.007 3.463 3.463zm-7.856-5.027a1.73 1.73 0 002.09 2.089l-2.09-2.09zm10.26-.259a16.77 16.77 0 00-1.84-2.362c-1.962-2.093-4.197-3.326-6.67-3.326a7.304 7.304 0 00-1.682.192 1 1 0 01-.456-1.948 9.302 9.302 0 012.14-.244c3.106 0 5.821 1.498 8.128 3.958a18.744 18.744 0 012.06 2.645c.351.545.593.975.722 1.234a1 1 0 01-.012.919 17.841 17.841 0 01-2.084 3.077 1 1 0 01-1.53-1.288 15.85 15.85 0 001.589-2.263c-.108-.184-.23-.383-.366-.594z",clipRule:"evenodd"},void 0)}),void 0)})),Cr=Object(y.a)("div",{target:"e12t6idf0"})(Mt.a.paragraph.md,En.a.primary,{margin:"0 16px 12px 0",lineHeight:"24px",userSelect:"none"},"label:Title;"),Nr=Object(y.a)("span",{target:"e12t6idf1"})({verticalAlign:"middle",marginRight:"8.67px"},"label:Text;"),Fr=Object(Ze.b)({verticalAlign:"middle",color:_.a.grey(5),cursor:"pointer"},"label:iconStyle;"),wr=Object(y.a)(_r.a,{target:"e12t6idf2"})(Fr,"label:StyledIconEye;"),Ir=Object(y.a)(Sr,{target:"e12t6idf3"})(Fr,"label:StyledIconEyeOff;"),Pr=function(e){var t=e.className,i=e.tags,n=Object(a.__read)(Object(r.useState)(!1),2),d=n[0],c=n[1],l=Object(r.useCallback)((function(){c((function(e){return!e}))}),[]),s=d?wr:Ir;return Object(o.jsxs)("div",Object(a.__assign)({className:t},{children:[Object(o.jsxs)(Cr,{children:[Object(o.jsx)(Nr,{children:"\u76f8\u5173\u6807\u7b7e"},void 0),Object(o.jsx)(s,{onClick:l},void 0)]},void 0),d&&Object(o.jsx)(ua,{tags:i},void 0)]}),void 0)},Tr=function(e){var t,i=e.className,n=de().pageId,r=Object(a.__read)(Object(j.a)(Xe,{scope:n}),1)[0].page,d="LeetbookQuestionPage"===(null===r||void 0===r?void 0:r.__typename)?null===(t=r.question.topicTags)||void 0===t?void 0:t.map((function(e){var t=e.name,i=e.translatedName;return{name:t,slug:e.slug,nameTranslated:null!==i&&void 0!==i?i:""}})):null===r||void 0===r?void 0:r.commonTags;return d&&d.length?Object(o.jsx)(Pr,{tags:d,className:i},void 0):null},Ar=Object(y.a)("div",{target:"ecf3w8e0"})(((kr={})["."+yr.a.description]={padding:"0px",overflow:"visible"},kr),"label:DescriptionContainer;"),Rr=Object(y.a)(Tr,{target:"ecf3w8e1"})(((hr={margin:"32px 0px 22px 0px"})[".question.full-width &"]={margin:"32px 0px 0px 0px"},hr),"label:StyledRelatedTags;"),Dr=d.a.memo((function(e){var t=e.pageId,i=e.bookSlug,n=e.question,r=e.reportSubmitQuestion,c=d.a.useContext(D.d).useTranslation;return Object(o.jsxs)("div",{children:[Object(o.jsx)(De,Object(a.__assign)({type:Pe.skipBannerInReadPage},{children:Object(o.jsx)(Or,{bookSlug:i,pageId:t,reportSubmitQuestion:r,questionId:n.questionId},void 0)}),void 0),Object(o.jsx)(Ar,{children:Object(o.jsx)(cr.a,{question:n,isRawContent:!c},void 0)},void 0),Object(o.jsx)(Rr,{},void 0)]},void 0)}));var Br,zr,Lr,qr=i("CT16"),Er=i("1QlS"),Mr=i("fRVn"),Hr=i("Zz61"),Vr=i("kPof"),Wr=i("8VRj"),Qr=(i("jz31"),i("WfVQ")),$r=i("IDXw"),Ur=i("7a+J"),Kr=Object(Ze.b)({borderRadius:"3px",background:_.b.Layer1()},"label:cardStyle;"),Gr=(Ur.a.card,_.b.Layer1(),Object(Ze.b)({maxWidth:$r.e,minWidth:$r.f},"label:desktopWidth;")),Yr=Object(Ze.b)(Gr,{minWidth:"1120px"},"label:detailDesktopWidth;"),Jr=Object(Ze.b)(Lr||(Lr=Object(a.__makeTemplateObject)(["\n  #lc-home {\n    min-width: 1120px;\n  }\n\n  #lc-footer > div {\n    ",";\n  }\n\n  #lc-header > nav {\n    ",";\n  }\n"],["\n  #lc-home {\n    min-width: 1120px;\n  }\n\n  #lc-footer > div {\n    ",";\n  }\n\n  #lc-header > nav {\n    ",";\n  }\n"])),Yr,Yr),Xr=Object(y.a)("div",{target:"e1cgt2i20"})({width:"100%",flex:"1 1 auto",background:_.b.LayerBg(),"@media (max-width: 679px)":{marginTop:"50px"}},"label:RootContainer;"),Zr=Object(y.a)("div",{target:"e1cgt2i21"})((function(e){var t,i=e.background,n=e.loaded;return{width:"100%",position:"relative",zIndex:0,"::before":(t={content:'""',height:"800px",position:"absolute",top:0,right:0,bottom:0,left:0,backgroundImage:n?"linear-gradient(to bottom, "+_.a.grey(0,0)+", "+_.a.grey(0,1)+'), url("'+i+'")':void 0,backgroundPosition:"50% 17%",opacity:n?.2:0,backgroundSize:"cover",filter:"blur(20px)",zIndex:-1},t[_.c]={backgroundImage:n?"linear-gradient(to bottom, "+_.a.grey(3,0)+", "+_.a.grey(3,1)+'), url("'+i+'")':void 0},t)}}),Object(Ct.e)({overflow:"hidden","::before":{transition:"opacity 0.3s ease-out"}}),"label:BackgroundContainer;"),ed=Object(y.a)("div",{target:"e1cgt2i22"})(Object(Ct.e)(Yr),{width:"100%",height:"776px",margin:"0 auto"},Object(Ct.k)({height:"450px"}),"label:PlaceholderContainer;"),td=Object(y.a)("div",{target:"e1cgt2i23"})(Yr,{padding:"32px 90px",margin:"0 auto"},"label:Container;"),id=Object(y.a)("div",{target:"e1cgt2i24"})({display:"flex",marginTop:"40px"},"label:ContentContainer;"),nd=Object(y.a)("div",{target:"e1cgt2i25"})({flex:"1 1 auto",width:"0px",marginRight:"56px"},"label:LeftPanel;"),ad=Object(y.a)("div",{target:"e1cgt2i26"})({flex:"0 0 auto",width:"300px"},"label:RightPanel;"),od=(Mt.a.paragraph.md,Object(y.a)("div",{target:"e1cgt2i28"})(Mt.a.paragraph.sm,{color:_.a.grey(7),display:"flex",alignItems:"center"},"label:SubText;")),rd=Object(y.a)("span",{target:"e1cgt2i29"})({color:_.a.grey(9),fontWeight:500},"label:Em;"),dd=Object(y.a)("h3",{target:"e1cgt2i210"})(Mt.a.heading.h3,((Br={margin:0,color:_.a.grey(8),paddingBottom:17,borderBottom:"1px solid "+_.a.grey(3)})[_.c]={borderColor:_.a.grey(4),color:_.a.grey(9)},Br),"label:DetailTitle;"),cd=Object(y.a)("div",{target:"e1cgt2i211"})(Object(a.__assign)({},Object(Ct.h)()),"label:LineClampWrapper;"),ld=(Object(a.__assign)({},Ct.l),Object(y.a)(Wr.a,{target:"e1cgt2i213"})(((zr={a:{":hover":{color:_.b.BlueStandard()+" !important"}}})[_.c]={span:{a:{color:_.a.grey(7)},span:{color:_.a.grey(8)}}},zr),"label:StyledBreadcrumb;")),sd=Object(y.a)(Qr.a,{target:"e1cgt2i214"})({border:"1px solid",borderColor:_.a.grey(4),transition:"border-color .3s",background:"transparent","&:hover, &:focus":{borderColor:_.a.primary(5)}},"label:StyledTextarea;"),ud=Object(y.a)(ua,{target:"e1cgt2i215"})({marginBottom:"26px",marginTop:"-14px"},"label:StyledTags;"),bd=Object(y.a)("div",{target:"e1pellf81"})(Mt.a.paragraph.sm,{display:"flex",alignItems:"center",marginTop:"6px",marginBottom:"22px"},"label:Row;"),pd=Object(y.a)("div",{target:"e1pellf82"})(En.a.secondary,{width:"100px",textAlign:"right",marginRight:"20px"},"label:RowLabel;"),md=Object(y.a)("span",{target:"e1pellf83"})({color:_.a.red(5)},"label:RequiredDot;"),gd=Object(y.a)(sd,{target:"e1pellf84"})({width:"428px",height:"48px"},"label:StyledTextArea;"),jd=Object(y.a)(S.a,{target:"e1pellf85"})({color:_.a.grey(6),"&:hover:not(:disabled), &:active:not(:disabled)":{color:_.a.grey(5)}},"label:StyledButton;"),vd=Object(y.a)("div",{target:"e1pellf86"})({marginTop:"-6px",marginLeft:"43px",fontSize:"13px",lineHeight:"18px"},"label:StyledGitHubTips;"),fd=Object(y.a)("a",{target:"e1pellf87"})({margin:"0 6px"},"label:StyledGitHubAnchor;"),Od=function(e){var t=e.title,i=e.deactive,n=e.pageId,d=Object(a.__read)(Object(j.a)(Di.a),2),c=d[0],l=c.leetbookPageFeedbackType,s=c.submitStatus,u=d[1],b=u.fetchLeetbookPageFeedbackType,p=u.submitPageFeedback,m=Object(a.__read)(Object(r.useState)(),2),g=m[0],v=m[1],f=Object(a.__read)(Object(r.useState)(null),2),O=f[0],k=f[1],h=Object(a.__read)(Object(r.useState)(""),2),x=h[0],y=h[1];Object(r.useEffect)((function(){b()}),[b]),Object(r.useEffect)((function(){l.length&&v(l[0].mark)}),[l]),Object(r.useEffect)((function(){ut.a.leetbookSubmitFeedbackExposure()}),[]),Object(r.useEffect)((function(){s===Di.b.Success&&(ut.a.leetbookSubmitFeedbackClick(),i())}),[s,i]);var _=Object(r.useMemo)((function(){return l.map((function(e){return{label:e.desc,value:e.mark}}))}),[l]),S=Object(r.useMemo)((function(){var e=l.find((function(e){return e.mark===g}));return null===e||void 0===e?void 0:e.subtype}),[g,l]),C=Object(r.useMemo)((function(){return!x||!!S&&!O}),[x,S,O]),N=Object(r.useCallback)((function(e){v(e),k(null)}),[]),F=Object(r.useCallback)((function(){p({feedbackInfo:{feedbackType:Number(g),subtype:S?O:void 0,description:x,pageId:n}})}),[p,x,g,O,n,S]);return Object(o.jsxs)(be.a,Object(a.__assign)({type:"default",isActive:!0,onConfirm:F,onClose:i,confirmDisabled:C,confirmLoading:s===Di.b.Loading,width:"626px",title:"\u8bf7\u586b\u5199\u53cd\u9988\u5185\u5bb9"},{children:[Object(o.jsxs)(bd,{children:[Object(o.jsx)(pd,{children:"LeetBook:"},void 0),Object(o.jsx)("div",{children:t},void 0)]},void 0),Object(o.jsxs)(bd,{children:[Object(o.jsxs)(pd,{children:[Object(o.jsx)(md,{children:"*"},void 0),"\u53cd\u9988\u7c7b\u578b:"]},void 0),Object(o.jsx)(Hr.a,{options:_,checkedValue:g,onValueChange:N},void 0)]},void 0),S&&Object(o.jsxs)(bd,{children:[Object(o.jsxs)(pd,{children:[Object(o.jsx)(md,{children:"*"},void 0),"\u5177\u4f53\u95ee\u9898:"]},void 0),Object(o.jsx)(Vr.a,Object(a.__assign)({value:O,onSelect:k,placeholder:"\u8bf7\u9009\u62e9",width:"216px"},{children:S.map((function(e){var t=e.mark,i=e.desc;return Object(o.jsx)(Vr.a.Option,{value:t,label:i},t)}))}),void 0)]},void 0),Object(o.jsxs)(bd,{children:[Object(o.jsxs)(pd,{children:[Object(o.jsx)(md,{children:"*"},void 0),"\u53cd\u9988\u5185\u5bb9:"]},void 0),Object(o.jsx)(gd,{value:x,onChange:y},void 0)]},void 0),Object(o.jsxs)(vd,{children:["\u82e5\u60a8\u5bf9\u672c\u4e66\u4e2d\u5305\u542b\u7684\u7b97\u6cd5\u9898\u6709\u7591\u95ee\uff0c\u8bf7\u81f3",Object(o.jsx)(fd,Object(a.__assign)({href:"https://github.com/LeetCode-Feedback/LeetCode-Feedback/issues/new?assignees=&labels=&template=bug--------.md&title=",target:"_blank"},{children:"GitHub \u9898\u76ee\u5feb\u901f\u53cd\u9988\u901a\u9053"}),void 0),"\u8fdb\u884c\u53cd\u9988"]},void 0)]}),void 0)};function kd(e){var t=de(),i=t.bookSlug,n=t.pageId,d=Object(a.__read)(Object(j.a)(Q,{scope:i}),1)[0].title,c=Object(a.__read)(Object(Er.a)(!1),3),l=c[0],s=c[1],u=c[2],b=Object(r.useCallback)((function(){s(),ut.a.leetbookFeedbackButtonClick()}),[s]);return d&&n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(jd,Object(a.__assign)({size:"sm",kind:"transparent",prefixIcon:Object(o.jsx)(Mr.a,{},void 0),onClick:b},e),void 0),l&&Object(o.jsx)(Od,{pageId:n,title:d,deactive:u},void 0)]},void 0):null}var hd,xd,yd=i("+qzo"),_d=Object(y.a)(Et.a,{target:"e1ks18e10"})({marginRight:"auto"},"label:ReturnLink;"),Sd=Object(y.a)(S.a,{target:"e1ks18e11"})({display:"flex"},"label:StyledButton;"),Cd=Object(Lt.a)(Object(_i.a)(_d,ut.a.leetbookReadReturnDetailExposure),ut.a.leetbookReadReturnDetailClick);function Nd(e){var t=de().bookSlug,i=Object(a.__read)(Object(j.a)(Q,{scope:t}),1)[0].title;return Object(o.jsx)(Cd,Object(a.__assign)({to:l.a.main.paths.leetbook.detail({bookSlug:t})},e,{children:Object(o.jsxs)(Sd,Object(a.__assign)({size:"md",kind:"transparent",prefixIcon:Object(o.jsx)(yd.a,{},void 0)},{children:["\u8fd4\u56de ",i]}),void 0)}),void 0)}var Fd=Object(y.a)(nn.Faded,{target:"e1gwia7e0"})({height:"100%"},"label:AnimatedContainer;"),wd=Object(y.a)(Ma,{shouldForwardProp:function(e){return Object(qt.a)(e)},target:"e1gwia7e1"})({flex:"1 1 auto",width:"100%",height:"100%","> div":{height:"100%"}},(function(e){var t;return e.isBarActive?((t={})["."+Yo.a.firstSectionContainer]={transform:"translateX(10px)"},t):{}}),"label:FullWidthEditorSlot;"),Id=Object(y.a)("div",{target:"e1gwia7e2"})(((hd={})[".question.full-width &"]={display:"none"},hd),"label:NormalLayoutContainer;"),Pd=Object(y.a)("div",{target:"e1gwia7e3"})(((xd={position:"absolute",zIndex:-1,top:0,left:0,right:0,opacity:0,pointerEvents:"none"})[".question.full-width &"]={display:"block",overflow:"hidden",height:"100%",position:"unset",zIndex:"unset",top:"unset",left:"unset",right:"unset",opacity:1,pointerEvents:"unset"},xd[""+qr.b]={height:"100%"},xd[""+qr.d]={background:"transparent",'&[data-is-collapsed="true"]':{background:_.a.grey(2)}},xd),"label:FullWidthLayoutContainer;"),Td=Object(y.a)("div",{target:"e1gwia7e4"})({height:"100%",display:"flex",flexDirection:"column"},"label:SectionContainer;"),Ad=Object(y.a)("div",{target:"e1gwia7e5"})(it.a.layer1,{flex:"0 0 auto",height:"48px",paddingLeft:"16px",display:"flex",alignItems:"center"},"label:NavigationContainer;"),Rd=Object(y.a)("div",{target:"e1gwia7e6"})(Mn.a.level1((function(e){return{borderTop:"1px solid "+e,borderRight:"1px solid "+e}})),{flex:"1 1 auto",padding:"40px 25px 16px 55px",overflowY:"auto",borderTopRightRadius:"3px",display:"flex",flexDirection:"column",justifyContent:"space-between"},"label:DescriptionContainer;"),Dd=Object(y.a)("div",{target:"e1gwia7e7"})(Mn.a.level1((function(e){return{borderTop:"3px solid "+e}})),{margin:"18px 0px"},"label:TitleDivider;"),Bd=Object(y.a)("div",{target:"e1gwia7e8"})(Mn.a.level1((function(e){return{borderTop:"1px solid "+e}})),{margin:"45px 0px 30px 0px"},"label:Divider;"),zd=Object(y.a)(kd,{target:"e1gwia7e9"})((function(e){return{transition:"transform .3s",transform:"translateX("+(e.isBarActive?"-10px":"0px")+")"}}),"label:StyledFeedback;"),Ld=Object(y.a)("div",{target:"e1gwia7e10"})({width:"100%",height:"100%",display:"flex"},"label:EditorContainer;"),qd=Object(y.a)("div",{target:"e1gwia7e11"})({width:"40px",height:"100%"},"label:EditorFullWidthPlaceholder;"),Ed=Object(y.a)("div",{target:"e1gwia7e12"})(it.a.layer1,{width:"100%",height:"48px",display:"flex",alignItems:"center"},"label:ButtonContainer;"),Md=Object(y.a)(Nd,{shouldForwardProp:function(e){return Object(qt.a)(e)},target:"e1gwia7e13"})((function(e){return{opacity:e.isFullWidth?1:0}}),"label:ReturnButtonInFullWidth;"),Hd=Object(y.a)(Nd,{target:"e1gwia7e14"})({marginLeft:"6px",marginRight:"0px",span:{display:"none"}},"label:ReturnButtonInEditorFullWidth;"),Vd=d.a.memo((function(e){var t=e.title,i=Object(a.__rest)(e,["title"]),n=function(e){return d.a.useMemo((function(){return Object(a.__assign)(Object(a.__assign)({},e),Object(Co.a)(e))}),[e])}(i.question);return Object(o.jsx)(Ha,Object(a.__assign)({descRender:Object(o.jsx)(Dr,Object(a.__assign)({},i,{question:n}),void 0),editorRender:Object(o.jsx)(rr,Object(a.__assign)({},i,{question:n}),void 0)},{children:Object(o.jsxs)(Wd,{children:[Object(o.jsxs)(Id,{children:[Object(o.jsx)(La,{},void 0),Object(o.jsx)(qa,{},void 0)]},void 0),Object(o.jsx)(Pd,{children:Object(o.jsx)(Na.a,{Left:Object(o.jsx)(Qd,{title:t,bookSlug:i.bookSlug,pageId:i.pageId},void 0),Right:Object(o.jsx)(Ud,{},void 0)},void 0)},void 0)]},void 0)}),void 0)}));function Wd(e){var t,i,n=(t=Object(r.useContext)(Ba.SlotContext).renderToSlot,i=Object(r.useContext)(za.SlotContext).renderToSlot,Object(r.useCallback)((function(e){var n=e?Da:Ra;t(n),i(n)}),[t,i]));return Object(o.jsx)(Fd,Object(a.__assign)({onModeChange:n},e),void 0)}function Qd(e){return Object(o.jsx)(Fa.a,{children:function(t){var i=t.isBarActive;return Object(o.jsxs)(Td,{children:[Object(o.jsxs)(Ad,{children:[Object(o.jsx)($d,{},void 0),Object(o.jsx)(zd,{isBarActive:i},void 0)]},void 0),Object(o.jsxs)(Rd,{children:[Object(o.jsxs)("div",{children:[e.title,Object(o.jsx)(Dd,{},void 0),Object(o.jsx)(Ea,{},void 0),Object(o.jsx)(Bd,{},void 0),Object(o.jsx)($i,{pageId:e.pageId},void 0)]},void 0),Object(o.jsx)(Ti,{bookSlug:e.bookSlug},void 0)]},void 0)]},void 0)}},void 0)}function $d(){var e=Object(a.__read)(Object(j.a)(x),1)[0].isFullWidth;return Object(o.jsx)(Md,{isFullWidth:e},void 0)}function Ud(){return Object(o.jsx)(Fa.a,{children:function(e){var t=e.isBarActive,i=e.isLeftSectionCollapsed;return Object(o.jsxs)(Ld,{children:[i&&Object(o.jsx)(qd,{children:Object(o.jsx)(Ed,{children:Object(o.jsx)(Hd,{},void 0)},void 0)},void 0),Object(o.jsx)(wd,{isBarActive:t&&!i},void 0)]},void 0)}},void 0)}var Kd=i("fJNf"),Gd=Object(y.a)("div",{target:"e1dnflk40"})(it.a.overlay,{marginTop:"80px",height:"90px",borderRadius:"8px",paddingLeft:"80px",display:"flex",alignItems:"center",overflow:"hidden"},"label:Container;"),Yd=Object(y.a)("img",{target:"e1dnflk41"})({width:"72px",height:"96px",cursor:"default",flex:"0 0 auto",borderRadius:"5px",transform:"translateY(16px)"},"label:BookCover;"),Jd=Object(y.a)("div",{target:"e1dnflk42"})({marginLeft:"20px"},"label:TextContainer;"),Xd=Object(y.a)("div",{target:"e1dnflk43"})(Mt.a.paragraph.md,{color:_.b.LabelTertiary(),fontWeight:400},"label:Notice;"),Zd=Object(y.a)("span",{target:"e1dnflk44"})(Mt.a.paragraph.md,{color:_.b.LabelSecondary(),fontWeight:500},"label:BookName;"),ec=Object(y.a)(S.a,{target:"e1dnflk45"})({marginTop:"8px",borderRadius:"5px"},"label:JumpButton;"),tc=Object(y.a)("div",{target:"e1dnflk46"})({display:"flex",flex:"0 0 auto",alignItems:"center",justifyContent:"center"},"label:ButtonContent;"),ic=function(e){var t=e.cover,i=e.bookName,n=e.bookSlug;return Object(o.jsxs)(Gd,{children:[Object(o.jsx)(Yd,{src:t},void 0),Object(o.jsxs)(Jd,{children:[Object(o.jsxs)(Xd,{children:["\u5185\u5bb9\u6765\u81ea LeetBook ",Object(o.jsxs)(Zd,{children:["\u300a",i,"\u300b"]},void 0),"\uff0c\u524d\u5f80\u9605\u8bfb\u66f4\u591a"]},void 0),Object(o.jsx)(Et.a,Object(a.__assign)({to:l.a.main.paths.leetbook.detail({bookSlug:n})},{children:Object(o.jsx)(ec,Object(a.__assign)({kind:"primary"},{children:Object(o.jsxs)(tc,{children:["\u53bb\u9605\u8bfb ",Object(o.jsx)(Kd.a,{size:16,style:{marginLeft:"8px"}},void 0)]},void 0)}),void 0)}),void 0)]},void 0)]},void 0)},nc=function(e){var t=e.page,i=e.bookSlug,n=e.authorSlug,c=Object(r.useRef)(null),l=Object(r.useRef)(null),u=Object(a.__read)(Object(j.a)(re,{scope:i}),2)[1],b=u.markAsStarted,p=u.markAsCompleted,m=Object(a.__read)(Object(j.a)(Q,{scope:i}),1)[0],g=m.title,v=m.coverImg,f=mi({page:t,scrollingElementRef:c,bottomAnchorRef:l}),O=f.isAllComplete,k=f.reportBlockComplete,h=f.reportSubmitQuestion,x=Ae(),y=t.id;d.a.useEffect((function(){b(y)}),[b,y]),Object(r.useEffect)((function(){O&&p(y)}),[O,p,y]);var _=Object(r.useMemo)((function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(Oa,{children:[Object(o.jsx)(xa,{page:t,colorful:!0},void 0),t.title]},void 0),t.subtitle&&Object(o.jsx)(ka,{children:t.subtitle},void 0)]},void 0)}),[t]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ca,{relatedType:R.c.Leetbook,relatedKey:i},void 0),Object(o.jsxs)(va,Object(a.__assign)({ref:c},{children:[Object(o.jsxs)(fa,{children:[Object(o.jsxs)(nn.Hidden,{children:[_,Object(o.jsx)(ha,{},void 0)]},void 0),"LeetbookMixedPage"===t.__typename&&Object(o.jsx)(ra,{blocks:t.blocks,pageId:t.id,reportBlockComplete:k},void 0),"LeetbookQuestionPage"===t.__typename&&Object(o.jsx)(Vd,{title:_,question:t.question,pageId:t.id,bookSlug:i,reportSubmitQuestion:h},void 0),"LeetbookChapterPage"===t.__typename&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ra,{blocks:t.blocks,pageId:t.id,reportBlockComplete:k},void 0),Object(o.jsx)(ac,{pageId:t.id,bookSlug:i,paddingLeft:"12px"},void 0)]},void 0),x&&Object(o.jsx)(ic,{bookSlug:i,cover:v,bookName:g},void 0),Object(o.jsxs)(nn.Hidden,{children:["LeetbookQuestionPage"!==t.__typename&&Object(o.jsx)(Sa,{marginTop:"LeetbookChapterPage"===t.__typename?-64:32},void 0),Object(o.jsx)(De,Object(a.__assign)({type:Pe.bottomNavInReadPage},{children:Object(o.jsx)(Ti,{bookSlug:i},void 0)}),void 0),"LeetbookChapterPage"===t.__typename&&Object(o.jsx)(_a,{},void 0),Object(o.jsx)("div",{ref:l,style:{marginBottom:"1px"}},void 0),Object(o.jsx)(Yi,{pageId:t.id},void 0),t.qaQuestionUuid&&Object(o.jsx)(lt.d,{questionAuthorSlug:n,qaQuestionUuid:t.qaQuestionUuid,scrollingElementRef:c},void 0)]},void 0)]},void 0),Object(o.jsx)(nn.Hidden,{children:Object(s.q)()?null:Object(o.jsx)(ct.a,{styles:dt,scrollElement:c},void 0)},void 0)]}),void 0)]},void 0)};function ac(e){var t,i=null===(t=Object(a.__read)(Object(j.a)(Q,{scope:e.bookSlug}),1)[0].sortedPageMap)||void 0===t?void 0:t.get(e.pageId);return!(null===i||void 0===i?void 0:i.children)||i.children.length<1?null:Object(o.jsx)(ya,{children:Object(o.jsx)(ti,Object(a.__assign)({},e),void 0)},void 0)}var oc,rc,dc,cc=Object(y.a)("div",{target:"e1t6ajs0"})({width:"100%",flex:"1 1 auto",zIndex:0},"label:ContentLayoutContainer;"),lc=Object(y.a)("div",{target:"e1t6ajs1"})({width:"100%",height:"500px"},"label:DefaultContainer;"),sc=function(e){var t,i=e.pageId,n=e.bookSlug,r=Object(a.__read)(Object(j.a)(Xe,{scope:i}),2),c=r[0],l=r[1],s=Object(a.__read)(Object(j.a)(Q,{scope:n}),1)[0].author,u=Object(a.__read)(Object(j.a)(x),1)[0].isFullWidth,p="LeetbookQuestionPage"===(null===(t=c.page)||void 0===t?void 0:t.__typename);Object(Ke.a)((function(){p?document.body.classList.add(C):document.body.classList.remove(C)}),[p]),Object(Ke.a)((function(){p||w(u)}),[p,u]),d.a.useEffect((function(){c.page||l.fetchPageInfo(i)}),[i,l,c.page]);var m=Object(Ge.a)([],(function(){return(null===s||void 0===s?void 0:s.realName)?Object(Ye.j)(s.realName,location.pathname):""}));return Object(o.jsx)(cc,Object(a.__assign)({onCopy:m},{children:function(){var e;switch(c.status){case"loading":return Object(o.jsx)(lc,{children:Object(o.jsx)(b.a,{isBlocking:!0},void 0)},void 0);case"loaded":return Object(o.jsx)(nc,{authorSlug:null!==(e=null===s||void 0===s?void 0:s.userSlug)&&void 0!==e?e:"",page:c.page,bookSlug:n},void 0);case"error":return Object(o.jsx)(lc,{children:Object(o.jsx)(rt,{type:"img",size:"lg",description:"\u6682\u65e0\u8be5 LeetBook \u6570\u636e"},void 0)},void 0)}}()}),void 0)},uc=i("RNvQ"),bc=i.n(uc),pc=i("N390"),mc=Object(y.a)("div",{target:"et50l7l0"})(Object(Ct.k)({marginBottom:"30px"}),"label:Container;"),gc=Object(y.a)("div",{target:"et50l7l1"})(((oc={height:"45px",borderBottom:"1px solid "+_.a.grey(3),display:"flex"})[_.c]={borderColor:_.a.grey(4)},oc),Object(Ct.k)({margin:"0px -16px",padding:"0px 16px"}),"label:Header;"),jc=Object(y.a)("h3",{target:"et50l7l2"})(Mt.a.heading.h3,En.a.title,(function(e){return{marginRight:"40px",cursor:"pointer",marginBottom:"-1px",borderBottom:e.isActive?"2px solid "+_.a.grey(8):void 0,fontWeight:500}}),"label:HeaderItem;"),vc=Object(y.a)("div",{target:"et50l7l3"})({marginTop:"30px"},Object(Ct.k)({marginTop:"5px"}),"label:Content;"),fc=Object(y.a)("span",{target:"et50l7l4"})({lineHeight:"20px",fontSize:"12px",padding:"0px 6px",color:_.b.fixed.LabelPrimaryReverse(),background:_.b.GreenStandard(),borderRadius:"13px",marginLeft:"8px",alignSelf:"center"},"label:ChapterTrialReadingTag;"),Oc=i("WwGZ"),kc=Object(s.q)()?320:350,hc={transform:"translateX(-100%)",top:"64px",bottom:"64px"},xc=Object(y.a)("div",{target:"eb8cxhe0"})(Oc.a.layer1,Mn.a.level1((function(e){return{borderRight:"1px solid "+e}})),{position:"absolute",left:"0px",width:kc+"px",overflow:"auto"},Object(s.q)()?hc:{top:"0px",bottom:"0px"},((rc={})[".full-width &"]=hc,rc),"label:Container;"),yc=Object(y.a)("circle",{target:"eh3qnw60"})((function(e){var t,i=e.strokeColor,n=e.strokeDarkColor;return(t={cx:"8px",cy:"8px",r:"6.5px",fill:"transparent",strokeWidth:"3px",strokeLinecap:"round",strokeDasharray:40,stroke:i})[_.c]={stroke:n},t}),"label:BaseCircle;"),_c=Object(y.a)(yc,{target:"eh3qnw61"})({strokeDashoffset:40},"label:MainCircle;"),Sc=d.a.forwardRef((function(e,t){var i=e.percent,n=e.baseColor,r=void 0===n?_.a.grey(2):n,c=e.mainColor,l=void 0===c?_.b.BlueStandard():c,s=e.completedColor,u=void 0===s?_.b.Success():s,b=e.baseDarkColor,p=void 0===b?_.a.grey(5):b,m=Object(a.__rest)(e,["percent","baseColor","mainColor","completedColor","baseDarkColor"]),g=d.a.useRef(null);return Object(pc.a)(i,g,(function(){return{strokeDashoffset:40*(1-i/100),easing:"easeInOutSine",duration:500}})),Object(o.jsxs)(Ot.a,Object(a.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",ref:t},m,{children:[Object(o.jsx)(yc,{transform:"rotate(-90 8 8)",strokeColor:r,strokeDarkColor:p},void 0),Object(o.jsx)(_c,{transform:"rotate(-90 8 8)",strokeColor:i>=99.99999?u:i>0?l:"",ref:g},void 0)]}),void 0)})),Cc=Object(y.a)(Sc,{target:"e1rgwdwj1"})({marginRight:"-2px"},"label:StyledProgressCircle;"),Nc=Object(y.a)(st.a,{target:"e1rgwdwj2"})({paddingLeft:"24px"},"label:IndentAnimatedContainer;"),Fc=Object(y.a)(Ut,{target:"e1rgwdwj3"})({paddingRight:"12px"},(function(e){var t,i=e.isActive;return Object(zt.a)(Object(Ze.b)(dc||(dc=Object(a.__makeTemplateObject)(["\n      ",";\n      opacity: ",";\n      border-radius: 5px;\n    "],["\n      ",";\n      opacity: ",";\n      border-radius: 5px;\n    "])),i&&((t={})["&, "+_.c]={background:_.a.grey(8)},t),i?1:0))}),"label:MenuItemInRead;");function wc(e){var t,i=[e.id];return null===(t=e.children)||void 0===t||t.forEach((function(e){var t=wc(e);i.push.apply(i,Object(a.__spread)(t))})),i}function Ic(e,t,i){var n=Object(c.k)().pageId,a=d.a.useMemo((function(){return n&&e.children&&wc(e).includes(n)?n:null}),[n,e]);d.a.useEffect((function(){a&&t&&i(!1)}),[a])}var Pc,Tc=d.a.memo((function(e){var t,i=e.page,n=e.className,r=e.progressPercent,c=e.bookSlug,l=e.pageId,s=e.isChapter,u=void 0!==s&&s,b=Object(a.__rest)(e,["page","className","progressPercent","bookSlug","pageId","isChapter"]),p=Object(a.__read)(d.a.useState(!0),2),m=p[0],g=p[1],v=Object(a.__read)(Object(j.a)(Q,{scope:c}),1)[0],f=Object(a.__read)(Object(j.a)(re,{scope:c}),1)[0].pageProgressMap,O=Boolean(i.children);d.a.useEffect((function(){m?ut.a.leetbookReadCatalogMenuExpandClick(c):ut.a.leetbookReadCatalogMenuCollapseClick(c)}),[m,c]),Ic(i,m,g);var k=O&&r?Object(o.jsx)(Cc,{percent:r,size:20},void 0):null,h=u?k:b.suffix;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Fc,Object(a.__assign)({},b,{folded:m,setFolded:g,suffix:h,paddingLeft:r?void 0:"12px"}),void 0),O&&Object(o.jsx)(Nc,Object(a.__assign)({className:n,isActive:!m},{children:null===(t=i.children)||void 0===t?void 0:t.map((function(e){return Object(o.jsx)(Tc,Object(a.__assign)({page:e,label:e.title,bookSlug:c,pageId:l},Zt({catalogState:v,bookSlug:c,activePageId:l,page:e,pageProgressMap:f})),e.id)}))}),void 0)]},void 0)})),Ac=d.a.forwardRef((function(e,t){var i=e.bookSlug,n=e.pageId,r=Object(a.__rest)(e,["bookSlug","pageId"]),s=Object(a.__read)(Object(j.a)(Q,{scope:i}),2),u=s[0],p=s[1],m=Object(a.__read)(Object(j.a)(re,{scope:i}),2),g=m[0].pageProgressMap,v=m[1],f=d.a.useMemo((function(){var e,t;return null!==(t=null===(e=A()(u.pages))||void 0===e?void 0:e.id)&&void 0!==t?t:null}),[u.pages]),O=d.a.useContext(D.d).isPremium;if(d.a.useEffect((function(){p.fetchCatalog({bookSlug:i})}),[p,i]),d.a.useEffect((function(){v.setMeta({bookSlug:i}),v.fetchPageProgressList()}),[v,i]),void 0===n&&f)return Object(o.jsx)(c.b,{to:l.a.main.paths.leetbook.read({bookSlug:i,pageId:f})},void 0);switch(u.status){case"error":return Object(o.jsx)("div",{children:"\u51fa\u9519\u4e86"},void 0);case"loading":return Object(o.jsx)(b.a,{isBlocking:!0},void 0);case"loaded":return Object(o.jsx)(xc,Object(a.__assign)({ref:t},r,{children:u.pages.map((function(e){var t=re.getPageProgressPercent(e,g,O),r=!e.isGreyTitle||!e.publishedAt?void 0:Object(o.jsx)(fc,{children:"\u5b9a\u65f6\u89e3\u9501"},void 0);return Object(o.jsx)(Tc,Object(a.__assign)({page:e,label:e.title,progressPercent:t,bookSlug:i,pageId:n,isChapter:!0},Zt({catalogState:u,pageProgressMap:g,page:e,bookSlug:i,labelSuffixTag:r,activePageId:n,isChapter:!0})),e.id)}))}),void 0)}})),Rc=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M5 6a1 1 0 011-1h12a1 1 0 110 2H6a1 1 0 01-1-1zm0 6a1 1 0 011-1h12a1 1 0 110 2H6a1 1 0 01-1-1zm1 5a1 1 0 100 2h12a1 1 0 100-2H6z",clipRule:"evenodd"},void 0)}),void 0)})),Dc=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M11.707 7.707L7.414 12l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414zM14.414 12l4.293 4.293a1 1 0 01-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L14.414 12z",clipRule:"evenodd"},void 0)}),void 0)})),Bc=Object(y.a)(Rc,{target:"e1eayeh40"})("label:StyledIconMenuHamburg;"),zc=Object(y.a)(Dc,{target:"e1eayeh41"})("label:StyledIconChevronsLeft;"),Lc=Object(y.a)("div",{target:"e1eayeh42"})(it.a.layer1,Ur.a.level1,(function(e){var t,i,n;return"active"!==e.status?((t={"&:hover":(i={},i[""+Bc]={display:"none"},i[""+zc]={display:"block"},i)})[""+Bc]={display:"block"},t[""+zc]={display:"none"},t):((n={})[""+Bc]={display:"none"},n[""+zc]={display:"block"},n)}),{position:"absolute",top:"30px",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",fontSize:"16px",borderRadius:"12px",transitionProperty:"background-color, color, transform, opacity",transitionDuration:".3s",transitionTimingFunction:"ease-out",cursor:"pointer","&:hover":{backgroundColor:_.a.fix.primary(5),color:_.a.fix.grey(0)},"&::after":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"125%",height:"125%",zIndex:-1}},"label:FloatButton;"),qc="hide-shadow",Ec=Object(y.a)("div",{target:"e1eayeh43"})(((Pc={flex:"0 0 auto",position:"relative",display:"flex",alignItems:"center",zIndex:1})[".question.full-width &"]={transform:"translateY(48px)",marginBottom:"48px"},Pc),(function(e){var t,i=e.isActive,n="rotate("+(i?0:180)+"deg)",a="translateX("+(i?50:100)+"%)";return(t={width:(i?kc:0)+"px",transition:"width .3s","&::after":{display:i?"block":"none",content:'""',position:"absolute",right:"-15px",width:"15px",top:"0px",bottom:"0px",zIndex:-1}})[""+Lc]={opacity:i?0:1,right:i?"0px":"-16px",transform:a+" "+n+" scale("+(i?0:1)+")"},t["&:hover "+Lc]={opacity:1,transform:a+" "+n+" scale(1)"},t[""+xc]={boxShadow:"0px 2px 32px "+_.a.fix.grey(9,i?0:.18)},t[".hide-shadow"+xc]={boxShadow:"unset"},t}),"label:Container;");function Mc(e,t){if(Object(s.q)())switch(e){case"float":switch(t){case"fb-click":return"hide";default:return e}case"hide":switch(t){case"fb-click":return"float";default:return e}default:return e}else switch(e){case"active":switch(t){case"fb-click":return"hide";default:return e}case"float":switch(t){case"fb-click":return"active";case"container-leave":return"hide";default:return e}case"hide":switch(t){case"fb-click":return"active";case"fb-enter":return"float";default:return e}}}var Hc=function(){var e=de(),t=e.bookSlug,i=e.pageId,n=Object(a.__read)(Object(j.a)(x),2),r=n[0].isFullWidth,c=n[1].toggleFullWidth,l=Object(a.__read)(d.a.useReducer(Mc,Object(s.q)()||r?"hide":"active"),2),u=l[0],b=l[1],p=d.a.useRef(null),m=d.a.useRef(null),g=d.a.useCallback((function(){"active"===u?ut.a.leetbookReadCatalogCollapseClick(t):ut.a.leetbookReadCatalogExpandClick(t),b("fb-click"),c()}),[u,c,t]),v=d.a.useCallback((function(){return b("fb-enter")}),[]),f=d.a.useMemo((function(){return bc()((function(){return b("container-leave")}),600)}),[]);Object(Ke.a)((function(){Object(s.q)()||(r&&"active"===u||!r&&"hide"===u)&&b("fb-click")}),[r,u]),d.a.useEffect((function(){return f.cancel()}),[f,u]),d.a.useEffect((function(){"active"===u?ut.a.leetbookReadCatalogCollapseExposure(t):ut.a.leetbookReadCatalogExpandExposure(t)}),[u,t]);var O=Object(a.__read)(Object(pc.a)(u,p,(function(e){var t=e.target,i="easeOutQuart",n=300;switch(u){case"hide":return{translateX:"-100%",top:"64px",bottom:"64px",easing:i,duration:n,complete:function(){t.classList.add(qc)}};case"float":return{translateX:"0%",top:"64px",bottom:"64px",easing:i,duration:n,delay:Object(s.q)()?0:n,begin:function(){t.classList.remove(qc)}};case"active":return{translateX:"0%",top:"0px",bottom:"0px",easing:i,duration:n}}})),1)[0];!function(e,t){var i=d.a.useCallback((function(i){var n,a=i.target;a instanceof Element&&!(null===(n=e.current)||void 0===n?void 0:n.contains(a))&&t()}),[e,t]);d.a.useEffect((function(){return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}}),[i])}(m,(function(){Object(s.q)()&&"float"===u&&b("fb-click")}));var k=O&&"hide"===u;return Object(o.jsxs)(Ec,Object(a.__assign)({ref:m,"data-status":u,isActive:"active"===u,onMouseLeave:f,onMouseEnter:f.cancel},{children:[Object(o.jsxs)(Lc,Object(a.__assign)({onClick:g,status:u,onMouseEnter:k?void 0:v},{children:[Object(o.jsx)(zc,{},void 0),Object(o.jsx)(Bc,{},void 0)]}),void 0),Object(o.jsx)(Ac,{ref:p,bookSlug:t,pageId:i},void 0)]}),void 0)};var Vc=Object(y.a)(st.a,{target:"eg0kclk0"})({zIndex:Ve.Navbar,nav:{maxWidth:"100%"}},"label:StyledAnimatedContainer;"),Wc=Object(y.a)(nn.Hidden,{target:"eg0kclk1"})({zIndex:Ve.TopNavigation},"label:AnimatedNavigation;"),Qc=Object(y.a)("div",{target:"eg0kclk2"})(Oc.a.layer1,Ur.a.level1,{display:"flex",alignItems:"center",height:"48px",zIndex:Ve.TopNavigation,padding:"0 16px"},Object(s.q)()&&{marginTop:"50px"},"label:Container;"),$c=Object(y.a)(kd,{target:"eg0kclk3"})({marginRight:"20px"},"label:StyledFeedback;"),Uc=function(){var e=de(),t=e.bookSlug,i=e.pageId,n=Object(a.__read)(Object(j.a)(yi,{scope:t}),2)[1],r=Object(a.__read)(Object(j.a)(x),1)[0].isNavCollapsed;return d.a.useEffect((function(){return i&&n.syncState(i),function(){return n.stopSyncState$()}}),[n,i]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Vc,Object(a.__assign)({isActive:!r},{children:Object(o.jsx)(m.a,{fluid:!0},void 0)}),void 0),Object(o.jsx)(De,Object(a.__assign)({type:Pe.navInReadPage},{children:Object(o.jsx)(Wc,{children:Object(o.jsxs)(Qc,{children:[Object(o.jsx)(Nd,{},void 0),Object(o.jsx)($c,{},void 0),Object(o.jsx)(er,{},void 0)]},void 0)},void 0)}),void 0)]},void 0)},Kc=i("lDZ0"),Gc=i("rzNM"),Yc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookDetail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookBookDetail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookSlug"},value:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"leetbookDetailNode"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"leetbookDetailNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LeetbookDetailBookNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStudied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chapterNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnlyPageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numCompletedPremium"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"productInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowBorrow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPremiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAfter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBefore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"descBlocks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commonTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"forSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"companyForm"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"windowName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formDesc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formFields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueMaxLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"myExtraInfo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayInLbDetail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBeforeOwning"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"#import '../fragments/leetbook-detail-node.graphql'\n\nquery leetbookDetail($bookSlug: String!) {\n  leetbookBookDetail(bookSlug: $bookSlug) {\n    ...leetbookDetailNode\n  }\n}"}},operationName:"leetbookDetail",defName:"leetbookBookDetail"},Jc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookOpenBook"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookOpenBook"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookSlug"},value:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation leetbookOpenBook($bookSlug: String!) {\n  leetbookOpenBook(bookSlug: $bookSlug) {\n    ok\n  }\n}"}},operationName:"leetbookOpenBook",defName:"leetbookOpenBook"},Xc=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={detail:null,loading:!1},i}var i,n,o,r,d,c,l,s,u,b;return Object(a.__extends)(t,e),t.prototype.resetStore=function(){return{detail:null,loading:!1}},t.prototype.setOwnedType=function(e,t){e.detail&&(e.detail.ownedType=t)},t.prototype.setLoading=function(e,t){e.loading=t},t.prototype.setDetail=function(e,t){e.detail=t},t.prototype.fetchDetail=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:Yc,variables:e,fetchPolicy:"network-only"}).pipe(Object(M.a)((function(){return Y.a})),Object(q.a)((function(e){var i=e.data;return t.getActions().setDetail(i.leetbookBookDetail)})),Object(E.a)(t.getActions().setLoading(!0)),Object(Se.a)(t.getActions().setLoading(!1)),Object(hi.a)(t.dispose$))})))},t.prototype.openBook=function(e){var t=this;return e.pipe(Object(Gc.a)((function(e){return t.client.mutate({mutation:Jc,variables:e}).pipe(Object(M.a)((function(){return Y.a})),Object(Z.b)((function(){return Y.a})),Object(hi.a)(t.dispose$))})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object,"function"===typeof(o="undefined"!==typeof R.Pb&&R.Pb)?o:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setOwnedType",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof h.Draft&&h.Draft)?r:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof h.Draft&&h.Draft)?d:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setDetail",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof z.a&&z.a)?c:Object]),Object(a.__metadata)("design:returntype","function"===typeof(l="undefined"!==typeof z.a&&z.a)?l:Object)],t.prototype,"fetchDetail",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof z.a&&z.a)?s:Object]),Object(a.__metadata)("design:returntype","function"===typeof(u="undefined"!==typeof z.a&&z.a)?u:Object)],t.prototype,"openBook",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof H.a&&H.a)?b:Object])],t)}(k.a),Zc=i("l8fx"),el=i("GGvj"),tl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"submitUserExtraInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"companySlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userInfo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"JSONString"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitExtraInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"companySlug"},value:{kind:"Variable",name:{kind:"Name",value:"companySlug"}}},{kind:"Argument",name:{kind:"Name",value:"userInfo"},value:{kind:"Variable",name:{kind:"Name",value:"userInfo"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation submitUserExtraInfo ($companySlug: ID!, $userInfo: JSONString!) {\n  submitExtraInfo (companySlug: $companySlug, userInfo: $userInfo) {\n    ok\n  }\n}"}},operationName:"submitUserExtraInfo",defName:"submitExtraInfo"},il=i("BQ33"),nl=i.n(il),al=i("wxYD"),ol=i.n(al),rl=i("jq/l"),dl=i.n(rl),cl="86",ll=function(e,t){var i=[],n=function(e){var t=null===e||void 0===e?void 0:e.myExtraInfo;if(t)try{return JSON.parse(t)}catch(e){Ya.a.danger("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25")}return{}}(t);return e.reduce((function(e,t){var o=t.valueType,r=t.displayName,d=t.keyName;return r.length>=8&&(o===R.A.Radio||o===R.A.Checkbox)?i.push(Object(a.__assign)(Object(a.__assign)({},t),{value:n[d]})):e.push(Object(a.__assign)(Object(a.__assign)({},t),{value:n[d]})),e}),[]).concat(i)},sl=function(e,t){return t?t.reduce((function(t,i){var n;return i.valueType===R.A.Phone&&e[i.keyName]?t[i.keyName]={phone_num:e[i.keyName],country_code:(n=e.countryCode,n===cl?"":n)}:i.valueType===R.A.Year&&e[i.keyName]?t[i.keyName]=nl()(e[i.keyName]).year():t[i.keyName]=e[i.keyName],dl()(t,(function(e){return""===e||null===e}))}),{}):{}},ul=function(e){function t(t,i){var n=e.call(this)||this;return n.client=t,n.axios=i,n.defaultState={allSchoolInfo:[],isSubmitSuccess:!1,source:""},n}var i,n,o,r,d,c,l,s,u,b;return Object(a.__extends)(t,e),t.prototype.setSource=function(e,t){e.source=t},t.prototype.setAllSchoolInfo=function(e,t){e.allSchoolInfo=t},t.prototype.fetchSchoolInfos=function(e){var t=this;return e.pipe(Object(L.a)((function(){return t.client.query({query:el.a}).pipe(Object(q.a)((function(e){return e.data.allSchoolInfoUrl})),Object(L.a)((function(e){return t.axios.get(e,{withCredentials:!1}).pipe(Object(q.a)((function(e){return t.getActions().setAllSchoolInfo(e)})))})),Object(M.a)((function(){return Ya.a.danger("\u83b7\u53d6\u5b66\u6821\u5217\u8868\u5931\u8d25"),Y.a})))})))},t.prototype.setIsSubmitSuccess=function(e,t){e.isSubmitSuccess=t},t.prototype.submitUserInfo=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(L.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],o=n.companySlug,r=n.userInfo,d=n.pageId,c=t[1].source;return i.client.mutate({mutation:tl,variables:{companySlug:o,userInfo:r}}).pipe(Object(M.a)((function(){return Ya.a.danger("\u63d0\u4ea4\u7528\u6237\u4fe1\u606f\u5931\u8d25"),i.getActions().setIsSubmitSuccess(!1),Y.a})),Object(q.a)((function(){return Ya.a.success("\u63d0\u4ea4\u6210\u529f"),function(e,t,i){i?ut.a.leetbookContentPageModalSubmitButtonClick(e):ut.a.leetbookDetailPageModalSubmitButtonClick(e,t)}(o,c,d),i.getActions().setIsSubmitSuccess(!0)})))})))},Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof h.Draft&&h.Draft)?i:Object,String]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setSource",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object,Array]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setAllSchoolInfo",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof z.a&&z.a)?o:Object]),Object(a.__metadata)("design:returntype","function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object)],t.prototype,"fetchSchoolInfos",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof h.Draft&&h.Draft)?d:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setIsSubmitSuccess",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof z.a&&z.a)?c:Object,"function"===typeof(l="undefined"!==typeof z.a&&z.a)?l:Object]),Object(a.__metadata)("design:returntype","function"===typeof(s="undefined"!==typeof z.a&&z.a)?s:Object)],t.prototype,"submitUserInfo",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof H.a&&H.a)?u:Object,"function"===typeof(b="undefined"!==typeof Zc.a&&Zc.a)?b:Object])],t)}(k.a);function bl(){return Object(c.k)()}function pl(){var e=bl().bookSlug;return Object(j.a)(Xc,{scope:e})}function ml(){var e=bl().bookSlug,t=Object(a.__read)(pl(),2)[1],i=Object(a.__read)(Object(j.a)(ul),1)[0].isSubmitSuccess;d.a.useEffect((function(){if(e||i)return t.fetchDetail({bookSlug:e}),function(){return t.dispose$()}}),[e,t,i])}var gl=i("cQOC"),jl=i("9xzp"),vl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookPageAnswerCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionUuid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"qaAnswerListV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"questionUuid"},value:{kind:"Variable",name:{kind:"Name",value:"questionUuid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalNum"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query leetbookPageAnswerCount($questionUuid: String!) {\n  qaAnswerListV2(questionUuid: $questionUuid) {\n    totalNum\n  }\n}"}},operationName:"leetbookPageAnswerCount",defName:"qaAnswerListV2"},fl=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={loading:!0,helpfulCount:0,answerCount:0},i}var i,n,o,r,d,c;return Object(a.__extends)(t,e),t.prototype._disableLoading=function(e){e.loading=!1},t.prototype._setCount=function(e,t){var i=t.helpfulCount,n=t.answerCount;e.helpfulCount=i,e.answerCount=n},t.prototype.fetchCount=function(e){var t=this;return e.pipe(Object(L.a)((function(e){var i=e.pageId,n=e.questionUuid;return Object(gl.a)([t.client.query({query:jl.a,variables:{pageId:i}}).pipe(Object(M.a)((function(){return Y.a}))),t.client.query({query:vl,variables:{questionUuid:n}}).pipe(Object(M.a)((function(){return Y.a})))]).pipe(Object(q.a)((function(e){var i,n=Object(a.__read)(e,2),o=n[0].data.leetbookPageHelpfulFeedback,r=n[1].data.qaAnswerListV2;return t.getActions()._setCount({helpfulCount:null!==(i=null===o||void 0===o?void 0:o.helpfulCount)&&void 0!==i?i:0,answerCount:r.totalNum})})),Object(Se.a)(t.getActions()._disableLoading()),Object(hi.a)(t.dispose$))})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_disableLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setCount",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object]),Object(a.__metadata)("design:returntype","function"===typeof(d="undefined"!==typeof z.a&&z.a)?d:Object)],t.prototype,"fetchCount",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof H.a&&H.a)?c:Object])],t)}(k.a),Ol=i("lBWp"),kl=i("QdGi");function hl(e){var t=Object(a.__read)(Object(j.a)(Ol.a,{scope:e}),2),i=t[0].borrowBookStatus,n=t[1].borrowBook,o=Object(r.useCallback)((function(){return n({bookId:e})}),[n,e]);return{status:i,borrow:Object(kl.b)(o)}}function xl(e,t){var i=Object(a.__read)(Object(j.a)(Ol.a,{scope:e}),2),n=i[0].obtainBookStatus,o=i[1],d=o.obtainBook,c=o.obtainBookByAuthor,l=t?c:d,s=Object(r.useCallback)((function(){return l({bookId:e})}),[l,e]);return{status:n,obtain:Object(kl.b)(s)}}var yl,_l,Sl,Cl,Nl,Fl=function(e){var t=Object(a.__read)(Object(Er.a)(!1),3),i=t[0],n=t[1],o=t[2],c=Object(r.useContext)(D.d),l=d.a.useMemo((function(){return{isModalActive:i,needToShowModal:!1,showModal:n,hideModal:o,displayBeforeOwning:!1,displayInLbDetail:!1,userInfo:null}}),[n,o,i]);return d.a.useMemo((function(){if(e){var t=e.companyForm;if(t){var i=t.myExtraInfo,n=t.company,a=t.displayBeforeOwning,o=t.displayInLbDetail;try{var r=i?JSON.parse(i):null;c.isSignedIn?(l.userInfo=r,l.needToShowModal=!r||!r["allow_sync_to_"+n.slug]):l.needToShowModal=!1}catch(e){Ya.a.danger("\u83b7\u53d6\u8868\u5355\u4fe1\u606f\u6709\u8bef")}l.displayBeforeOwning=a,l.displayInLbDetail=o}}return l}),[e,l,c])},wl=i("+19b"),Il=i("/zI6"),Pl=(i("oj2R"),i("UL5a")),Tl=(i("vgpD"),i("SCaQ")),Al=(i("zI7Q"),i("ibId")),Rl=(i("Iw6u"),i("uZih")),Dl=i.n(Rl),Bl=i("a9yc"),zl=Object(Ze.b)(Bl.d,Bl.e,Bl.h,Bl.b,Bl.f,Bl.g,Bl.a,Bl.c,"label:globalFormStyle;"),Ll=Object(y.a)("div",{target:"e1v20uvk0"})((function(e){return{".ant-form-item-label":{opacity:e.isDisplayNameTooLong?0:1}}}),"label:RadioOrCheckboxWrapper;"),ql=Object(y.a)("div",{target:"e1v20uvk2"})({".ant-select-selection":{width:"83px"},".ant-select-selection__rendered":{display:"flex",justifyContent:"flex-start",marginRight:"30px"}},"label:CodeSelect;"),El=i("q7mc"),Ml=i.n(El),Hl=i("3x5J"),Vl={labelCol:{xs:{span:8},sm:{span:9}},wrapperCol:{xs:{span:16},sm:{span:9}}},Wl=i("lS25"),Ql=i.n(Wl),$l=i("7u43"),Ul=i.n($l),Kl=function(e,t){return function(i,n,a){/\s/.test(n)&&a("\u5b57\u6bb5\u4e0d\u80fd\u5305\u542b\u7a7a\u683c"),function(e,t){return!e||!t||t>=e.length}(n,t)||a(e+"\u7684\u957f\u5ea6\u4e0d\u53ef\u4ee5\u8d85\u8fc7"+t+"\u4e2a\u5b57\u7b26"),a()}},Gl=function(e,t,i){t&&!Ql()(t)&&i("\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u90ae\u7bb1\u5730\u5740"),i()},Yl=function(e,t){return function(i,n,a){n&&(e===R.A.ChinaMainlandPhone||t===cl?Ul()(n,"zh-CN")||a("\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u8054\u7cfb\u7535\u8bdd"):Ul()(n)||a("\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u8054\u7cfb\u7535\u8bdd")),a()}},Jl=function(e,t,i,n,a){return e===R.A.String?[{required:i,message:"\u8bf7\u8f93\u5165"+t},{validator:Kl(t,n)}]:e===R.A.Phone||e===R.A.ChinaMainlandPhone?[{required:i,message:"\u8bf7\u8f93\u5165"+t},{validator:Yl(e,a)}]:e===R.A.Year?[{required:i,message:"\u8bf7\u9009\u62e9"+t}]:e===R.A.Email?[{required:i,message:"\u8bf7\u8f93\u5165"+t},{validator:Gl}]:e===R.A.School?[{required:i,message:"\u8bf7\u9009\u62e9"+t}]:[]},Xl=function(e){var t=e.placeholder,i=e.keyName,n=e.displayName,r=e.required,d=e.valueType,c=e.value,l=c;return Object(o.jsx)(Pl.a.Item,Object(a.__assign)({},Vl,{name:i,label:n,required:r,initialValue:c?nl()(l):null,rules:Jl(d,n,r)},{children:Object(o.jsx)(Hl.a,{placeholder:t,picker:"year",format:"YYYY",locale:Ml.a.DatePicker},void 0)}),void 0)},Zl=i("BmDy"),es=(i("oeo2"),i("x2dm")),ts=(i("ljfu"),i("208l")),is="countryCode",ns=function(e){var t=e.placeholder,i=e.valueType,n=e.form,d=e.keyName,c=e.displayName,l=e.required,s=e.value,u=e.valueMaxLimit,b=n.setFieldsValue,p=Object(a.__read)(Object(r.useState)(cl),2),m=p[0],g=p[1],j=i===R.A.ChinaMainlandPhone,v=s&&s.country_code?s.country_code:cl,f=s&&s.phone_num?s.phone_num:s;Object(r.useEffect)((function(){var e;i===R.A.Phone&&(b(((e={}).countryCode=v,e)),g(v))}),[b,v,i]);var O=Object(r.useCallback)((function(e){var t,i=e.split("_")[1];b(((t={}).countryCode=i,t)),g(i)}),[b]),k=Object(r.useMemo)((function(){return i===R.A.Phone||i===R.A.ChinaMainlandPhone?Object(o.jsx)(Pl.a.Item,Object(a.__assign)({noStyle:!0,name:is,initialValue:v},{children:Object(o.jsx)(ql,{children:Object(o.jsx)(es.a,Object(a.__assign)({value:"+ "+m,dropdownMatchSelectWidth:!1,optionLabelProp:"label",onSelect:O,disabled:j},{children:ts.c.map((function(e){var t=e.countryName,i=e.code;return Object(o.jsx)(es.a.Option,Object(a.__assign)({value:t+"_"+i,label:i},{children:t+"\uff08"+i+"\uff09"}),t+"_"+i)}))}),void 0)},void 0)}),void 0):null}),[i,m,O,j,v]);return Object(o.jsx)(Pl.a.Item,Object(a.__assign)({},Vl,{name:d,label:c,required:l,initialValue:f,rules:Jl(i,c,l,u,m)},{children:Object(o.jsx)(Zl.a,{addonBefore:k,placeholder:t},void 0)}),void 0)},as=function(e){var t=Object(a.__read)(Object(r.useState)(),2),i=t[0],n=t[1],d=e.schoolInfos,c=e.placeholder,l=e.keyName,s=e.displayName,u=e.required,b=e.valueType,p=e.value,m=Object(r.useMemo)((function(){var e=null!==d&&void 0!==d?d:[],t=["\u6d77\u5916\u9ad8\u6821","\u5176\u4ed6"];return i&&i.trim()&&(e=e.filter((function(e){return!!t.includes(e.name)||!!e.name&&e.name.includes(i)}))),e.slice(0,100)}),[d,i]);return Object(o.jsx)(Pl.a.Item,Object(a.__assign)({},Vl,{name:l,label:s,required:u,initialValue:p,rules:Jl(b,s,u)},{children:Object(o.jsx)(es.a,Object(a.__assign)({showSearch:!0,filterOption:!1,onSearch:n,placeholder:c},{children:m.map((function(e){return Object(o.jsx)(es.a.Option,Object(a.__assign)({value:e.name},{children:e.name}),e.id)}))}),void 0)}),void 0)},os=i("NwOV"),rs=(i("LCbC"),Object(y.a)("div",{target:"e141blze0"})({display:"flex"},"label:Detail;")),ds=Object(y.a)("div",{target:"e141blze1"})({flex:1},"label:DetailOption;"),cs=Object(y.a)(Pl.a.Item,{target:"e141blze2"})({".ant-form-item-label":{marginLeft:"22px",height:"22px",lineHeight:"22px"}},"label:DisplayNameItem;"),ls=Object(y.a)("div",{target:"e141blze3"})({display:"flex",flexWrap:"wrap",maxWidth:"340px"},"label:OptionsWrapper;"),ss=Object(y.a)(Al.a,{target:"e141blze4"})({whiteSpace:"nowrap"},"label:CheckboxWrap;"),us=Object(y.a)(os.a,{target:"e141blze5"})({whiteSpace:"nowrap"},"label:RadioWrap;"),bs=function(e){var t=e.required,i=e.displayName;return Object(o.jsx)(cs,{required:t,label:i,labelCol:{xs:{span:8},sm:{span:14}},style:{marginBottom:0}},void 0)},ps=function(e){var t=e.type,i=e.options,n=i.length>=4||function(e){return e.reduce((function(e,t){return e+t.label.length}),0)>=6}(i),d=Object(r.useCallback)((function(e,t){return e===R.A.Radio?Object(o.jsx)(ls,{children:t.map((function(e){var t=e.key,i=e.label;return Object(o.jsx)(us,Object(a.__assign)({value:t},{children:i}),t)}))},void 0):e===R.A.Checkbox?Object(o.jsx)(ls,{children:t.map((function(e){var t=e.key,i=e.label;return Object(o.jsx)(ss,Object(a.__assign)({value:t},{children:i}),t)}))},void 0):null}),[]);return Object(r.useCallback)((function(e){if(i&&n){var t=i.filter((function(e,t){return t%2===1})),a=i.filter((function(e,t){return t%2===0}));return Object(o.jsxs)(rs,{children:[Object(o.jsx)(ds,{children:d(e,a)},void 0),Object(o.jsx)(ds,{children:d(e,t)},void 0)]},void 0)}return d(e,i)}),[i,d,n])(t)},ms=function(e){var t=e.displayName,i=e.required,n=e.keyName,c=e.options,l=e.valueType,s=e.value,u=t.length>=8,b=Object(a.__read)(d.a.useState(),2),p=b[0],m=b[1],g=Object(r.useCallback)((function(e){m(e.target.value)}),[]);return c?Object(o.jsxs)(o.Fragment,{children:[u&&Object(o.jsx)(bs,{required:i,displayName:t},void 0),Object(o.jsx)(Ll,Object(a.__assign)({isDisplayNameTooLong:u},{children:Object(o.jsx)(Pl.a.Item,Object(a.__assign)({},Vl,{name:n,label:t,required:i,initialValue:null!==s&&void 0!==s?s:p},{children:Object(o.jsx)(os.a.Group,Object(a.__assign)({onChange:g},{children:Object(o.jsx)(ps,{options:c,type:l},void 0)}),void 0)}),void 0)}),void 0)]},void 0):null},gs=function(e){var t=e.displayName,i=e.keyName,n=e.required,r=e.options,d=e.valueType,c=e.value,l=t.length>=8;return r?Object(o.jsxs)(o.Fragment,{children:[l&&Object(o.jsx)(bs,{required:n,displayName:t},void 0),Object(o.jsx)(Ll,Object(a.__assign)({isDisplayNameTooLong:l},{children:Object(o.jsx)(Pl.a.Item,Object(a.__assign)({},Vl,{name:i,label:t,required:n,initialValue:c},{children:Object(o.jsx)(Al.a.Group,{children:Object(o.jsx)(ps,{options:r,type:d},void 0)},void 0)}),void 0)}),void 0)]},void 0):null},js=function(e){var t=e.valueType;return t===R.A.Year?Object(o.jsx)(Xl,Object(a.__assign)({},e),void 0):t===R.A.Email||t===R.A.String||t===R.A.Phone||t===R.A.ChinaMainlandPhone?Object(o.jsx)(ns,Object(a.__assign)({},e),void 0):t===R.A.School?Object(o.jsx)(as,Object(a.__assign)({},e),void 0):t===R.A.Radio?Object(o.jsx)(ms,Object(a.__assign)({},e),void 0):t===R.A.Checkbox?Object(o.jsx)(gs,Object(a.__assign)({},e),void 0):null},vs=i("XKjd"),fs=Object(y.a)(sn.a,{target:"e649imi0"})({background:_.a.grey(2),color:_.a.grey(7),padding:"16px 12px"},"label:StyledRenderedMarkdown;"),Os=Object(y.a)("div",{target:"e649imi1"})(((yl={padding:"16px 24px"})[_.c]={background:_.a.grey(3)},yl),"label:Description;"),ks=Object(y.a)("div",{target:"e649imi2"})(((_l={paddingTop:"18px",textAlign:"center",fontSize:"18px",color:_.a.grey(7)})[_.c]={background:_.a.grey(3)},_l),"label:ModalTitle;"),hs=Object(y.a)(Pl.a.Item,{target:"e649imi3"})({textAlign:"center","&.ant-row":{marginBottom:0}},"label:AllowSyncMessage;"),xs=Object(y.a)("div",{target:"e649imi4"})(((Sl={".ant-picker":{width:"261px",boxShadow:"none"},".ant-form-item-label":{marginRight:"5px"},"input::-webkit-input-placeholder":{color:_.a.grey(5)},"input:-webkit-autofill":{WebkitBoxShadow:"0 0 0 1000px "+_.a.grey(0)+" inset"},"input:-internal-autofill-previewed, input:-internal-autofill-selected":{transition:"5000s ease-in-out 0s",background:_.a.grey(0)}})[_.c]={"input:-webkit-autofill":{WebkitBoxShadow:"0 0 0 1000px "+_.a.grey(3)+" inset",WebkitTextFillColor:_.a.grey(8)},"input:-internal-autofill-previewed, input:-internal-autofill-selected":{transition:"5000s ease-in-out 0s",background:_.a.grey(3),color:_.a.grey(8)}},Sl),"label:FormContainer;"),ys=Object(y.a)("div",{target:"e649imi5"})({padding:"12px 24px",".ant-radio-wrapper, .ant-checkbox-wrapper":{margin:"0 26px 0 0","& + .ant-checkbox-wrapper":{margin:"0 26px 0 0"}}},"label:FormBody;"),_s=Object(y.a)("div",{target:"e649imi6"})(((Cl={textAlign:"right",padding:"12px 16px",borderTop:"1px solid "+_.a.grey(4)})[_.c]={background:_.a.grey(3)},Cl),"label:FormFooter;"),Ss=Object(vs.a)(((Nl={".ant-modal-header":{borderBottom:"1px solid "+_.a.grey(4)},".ant-form-item":{".ant-select-selection, .ant-input":{boxShadow:"none"}}})[_.c]={".ant-radio-wrapper, .ant-checkbox-wrapper, .ant-checkbox":{"&:last-of-type":{marginBottom:0}}},Nl)),Cs=function(e){var t,i=e.isActive,n=e.hideModal,d=e.companyForm,l=Object(a.__read)(Object(j.a)(ul),2),s=l[0],u=s.allSchoolInfo,b=s.isSubmitSuccess,p=s.source,m=l[1],g=Object(a.__read)(Pl.a.useForm(),1)[0],v=Object(a.__read)(Object(r.useState)(!0),2),f=v[0],O=v[1],k=Object(a.__read)(Object(r.useState)(!1),2),h=k[0],x=k[1],y=Object(r.useRef)(null),_=null===(t=null===d||void 0===d?void 0:d.company)||void 0===t?void 0:t.slug,S=Object(c.k)().pageId;Object(r.useEffect)((function(){i?(y.current&&clearTimeout(y.current),x(!0)):y.current=window.setTimeout((function(){return x(!1)}),2e3)}),[i]),Object(r.useEffect)((function(){b&&n()}),[b,n]),Object(r.useEffect)((function(){i&&(m.fetchSchoolInfos(),_&&function(e,t,i){i?ut.a.leetbookContentPageModalExposure(e):ut.a.leetbookDetailPageModalExposure(e,t)}(_,p,S))}),[m,i,S,_,p]);var C=Object(r.useMemo)((function(){var e=null===d||void 0===d?void 0:d.myExtraInfo;if(e)try{return JSON.parse(e)}catch(e){Ya.a.danger("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6709\u8bef")}return{}}),[d]),N=Object(r.useCallback)((function(){var e=function(e,t){if(t){var i=t.reduce((function(t,i){return i.required&&(t[i.keyName]=e[i.keyName]),t}),{});return!Object.keys(i).every((function(e){return ol()(i[e])?!!i[e].length:!!i[e]}))}return!1}(g.getFieldsValue(),null===d||void 0===d?void 0:d.formFields);O(e)}),[g,d]),F=Object(r.useCallback)((function(e){return function(){g.validateFields().then((function(t){m.submitUserInfo({companySlug:e,userInfo:JSON.stringify(Dl()(sl(t,null===d||void 0===d?void 0:d.formFields),"countryCode")),pageId:S})}))}}),[g,m,d,S]);if(!d)return null;var w=d.windowName,I=d.formTitle,P=d.formDesc,T=d.formFields,A=d.company;if(!A)return null;var R="allow_sync_to_"+A.slug;return Object(o.jsxs)(o.Fragment,{children:[h&&Object(o.jsx)(Ze.a,{styles:zl},void 0),Object(o.jsxs)(Il.a,Object(a.__assign)({visible:i,title:w,width:"744",style:{maxWidth:"744px"},bodyStyle:{padding:"0"},footer:null,onCancel:n,wrapClassName:Ss,destroyOnClose:!0},{children:[Object(o.jsx)(ks,{children:I},void 0),Object(o.jsx)(Os,{children:Object(o.jsx)(fs,{children:null!==P&&void 0!==P?P:""},void 0)},void 0),Object(o.jsx)(xs,{children:Object(o.jsxs)(Pl.a,Object(a.__assign)({form:g,onValuesChange:N},{children:[T&&Object(o.jsxs)(ys,{children:[ll(T,d).map((function(e){return Object(o.jsx)(js,Object(a.__assign)({form:g,schoolInfos:u},e),e.keyName)})),Object(o.jsx)(hs,Object(a.__assign)({name:R,labelCol:{sm:24},valuePropName:"checked"},{children:Object(o.jsx)(Al.a,Object(a.__assign)({defaultChecked:C[R]},{children:"\u6211\u540c\u610f\u5c06\u4fe1\u606f\u540c\u6b65\u7ed9"+A.name+"\u5e76\u540c\u610f\u5176\u5de5\u4f5c\u9080\u7ea6"}),void 0)}),void 0)]},void 0),Object(o.jsx)(_s,{children:Object(o.jsx)(Tl.a,Object(a.__assign)({type:"primary",onClick:F(A.slug),disabled:f},{children:"\u786e\u5b9a"}),void 0)},void 0)]}),void 0)},void 0)]}),void 0)]},void 0)},Ns=i("SnoL"),Fs=i("N+rM"),ws=Object(y.a)("div",{target:"ezdi9cy0"})({flex:"1 1 auto",display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"column",textAlign:"center",overflow:"auto",padding:"8vh 0px"},"label:LayoutContainer;"),Is=Object(y.a)("div",{target:"ezdi9cy1"})(Mt.a.paragraph.md,En.a.primary,{margin:"24px auto 0px auto"},"label:Tips;"),Ps=Object(y.a)(Ns.a,{target:"ezdi9cy2"})({pointerEvents:"none"},"label:StyledBook;"),Ts=Object(y.a)("div",{target:"ezdi9cy3"})(Mt.a.paragraph.md,{color:_.b.LabelSecondary(),display:"flex",alignItems:"center",margin:"14px auto 0px auto"},"label:PageCountsContainer;"),As=Object(y.a)("div",{target:"ezdi9cy4"})({marginTop:"20px"},"label:Space;"),Rs=Object(y.a)("div",{target:"ezdi9cy5"})({marginRight:"10px"},"label:PageCountText;"),Ds=Object(y.a)("div",{target:"ezdi9cy6"})({display:"flex",alignItems:"center",svg:{marginRight:"4px"},marginRight:"14px"},"label:PageCountContainer;"),Bs=Object(y.a)(Fs.a,{target:"ezdi9cy7"})({padding:"0 "+(Object(s.q)()?"10px":"0"),maxWidth:"604px"},"label:StyledPremiumCover;"),zs=Object(Lt.a)(Object(_i.a)(S.a,ut.a.leetbookReadLockDetailButtonExposure),ut.a.leetbookReadLockDetailButtonClick),Ls=Object(Lt.a)(Object(_i.a)(S.a,ut.a.leetbookReadLockObtainButtonExposure),ut.a.leetbookReadLockObtainButtonClick),qs=Object(Lt.a)(Object(_i.a)(S.a,ut.a.leetbookReadLockBorrowButtonExposure),ut.a.leetbookReadLockBorrowButtonClick),Es=Object(Lt.a)(Object(_i.a)(S.a,ut.a.leetbookReadLockPrerequisiteButtonExposure),ut.a.leetbookReadLockPrerequisiteButtonClick);function Ms(e){var t=e.reason,i=de().bookSlug,n=Object(a.__read)(Object(j.a)(Q,{scope:i}),1)[0],r=function(e){var t=e.coverImg;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ps,{coverImg:t},void 0),Object(o.jsxs)(Is,{children:["\u8bd5\u8bfb\u7ed3\u675f\u3002",Object(o.jsx)("br",{},void 0),"\u8d2d\u4e70\u6210\u529f\u540e\uff0c\u5373\u53ef\u9605\u8bfb\u4f59\u4e0b\u5185\u5bb9\u3002"]},void 0),Object(o.jsx)(Hs,{},void 0),Object(o.jsx)(Et.a,Object(a.__assign)({to:l.a.main.paths.leetbook.detail({bookSlug:i})},{children:Object(o.jsx)(zs,Object(a.__assign)({kind:"primary"},{children:"\u67e5\u770b\u8be6\u60c5"}),void 0)}),void 0)]},void 0)},d=function(e){var t=e.bookId;return Object(o.jsx)(Bs,{type:"leetbook",options:{source:"leetbook",leetbookId:t}},void 0)},s=function(e){var t=e.bookId,n=e.coverImg;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ps,{coverImg:n},void 0),Object(o.jsxs)(Is,{children:["PLUS \u4f1a\u5458\u4eab\u6709\u6b64 LeetBook \u501f\u9605\u7279\u6743\u3002",Object(o.jsx)("br",{},void 0),"\u501f\u9605\u6210\u529f\u540e\uff0c\u5373\u53ef\u9605\u8bfb\u4f59\u4e0b\u5185\u5bb9\u3002"]},void 0),Object(o.jsx)(Hs,{},void 0),Object(o.jsx)(Vs,{bookId:t,bookSlug:i},void 0)]},void 0)};return Object(o.jsx)(ws,{children:function(){switch(n.status){case"loading":return Object(o.jsx)(b.a,{isBlocking:!0},void 0);case"error":return Object(o.jsx)(rt,{type:"img",size:"lg",description:"\u6682\u65e0\u8be5 LeetBook \u6570\u636e"},void 0);case"loaded":var e=n.id,u=n.coverImg;switch(t.reason){case ce.noCompletePrerequisite:return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ps,{coverImg:u},void 0),Object(o.jsxs)(Is,{children:["\u672c\u9875\u4e3a\u795e\u79d8\u5185\u5bb9\uff0c\u8bf7\u5148\u5b8c\u6210\u300c",t.prerequisite.title,"\u300d\u3002"]},void 0),Object(o.jsx)(Hs,{},void 0),Object(o.jsx)(Et.a,Object(a.__assign)({to:l.a.main.paths.leetbook.read({pageId:t.prerequisite.id,bookSlug:i})},{children:Object(o.jsx)(Es,Object(a.__assign)({kind:"primary"},{children:"\u524d\u5f80\u9605\u8bfb"}),void 0)}),void 0)]},void 0);case ce.premiumOnly:return d({bookId:e,coverImg:u});case ce.noBuy:switch(t.bookKind){case wl.a.PremiumOnly:return t.isPremiumUser?s({bookId:e,coverImg:u}):d({bookId:e,coverImg:u});case wl.a.PremiumFree:return t.isPremiumUser?s({bookId:e,coverImg:u}):r({coverImg:u});case wl.a.Free:return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ps,{coverImg:u},void 0),Object(o.jsxs)(Is,{children:["\u6b64\u4e3a\u514d\u8d39 LeetBook\u3002",Object(o.jsx)("br",{},void 0),"\u83b7\u53d6\u6210\u529f\u540e\uff0c\u5373\u53ef\u9605\u8bfb\u4f59\u4e0b\u5185\u5bb9\u3002"]},void 0),Object(o.jsx)(Hs,{},void 0),Object(o.jsx)(Ws,{bookId:e,bookSlug:i},void 0)]},void 0);case wl.a.Charge:case wl.a.UnKnown:default:return r({coverImg:u})}case ce.noPageInfo:return Object(o.jsx)(c.b,{to:l.a.main.paths.leetbook.read({bookSlug:i})},void 0);case ce.noPageIdYet:case ce.noPageInfoMapYet:case ce.noPageProgressMapYet:return Object(o.jsx)(b.a,{},void 0);case ce.unpublished:return function(e){var t=e.coverImg,n=e.publishedAt;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ps,{coverImg:t},void 0),Object(o.jsx)(Is,{children:"\u672c\u7ae0\u4e8e "+Object(jt.a)(n)+" \u5f00\u653e\u9605\u8bfb\uff0c\u656c\u8bf7\u671f\u5f85"},void 0),Object(o.jsx)(As,{},void 0),Object(o.jsx)(Et.a,Object(a.__assign)({to:l.a.main.paths.leetbook.detail({bookSlug:i})},{children:Object(o.jsx)(zs,Object(a.__assign)({kind:"primary"},{children:"\u67e5\u770b\u8be6\u60c5"}),void 0)}),void 0)]},void 0)}({coverImg:u,publishedAt:t.publishedAt})}}}()},void 0)}function Hs(){var e,t=de(),i=t.bookSlug,n=t.pageId,d=Object(a.__read)(Object(j.a)(Q,{scope:i}),1)[0].sortedPageMap,c=Object(a.__read)(Object(j.a)(fl,{scope:n}),2),l=c[0],s=l.loading,u=l.helpfulCount,b=l.answerCount,p=c[1].fetchCount,m=n?null===(e=null===d||void 0===d?void 0:d.get(n))||void 0===e?void 0:e.qaQuestionUuid:null,g=!s&&!!u||!!b;return Object(r.useEffect)((function(){n&&m&&p({pageId:n,questionUuid:m})}),[n,m,p]),Object(o.jsxs)(o.Fragment,{children:[g&&Object(o.jsxs)(Ts,{children:[Object(o.jsx)(Rs,{children:"\u672c\u9875\u5171"},void 0),!!u&&Object(o.jsxs)(Ds,{children:[Object(o.jsx)(Bi.a,{size:16},void 0),u]},void 0),!!b&&Object(o.jsxs)(Ds,{children:[Object(o.jsx)(Kc.a,{size:16},void 0),b]},void 0)]},void 0),Object(o.jsx)(As,{},void 0)]},void 0)}function Vs(e){var t=e.bookId,i=e.bookSlug,n=hl(t),d=n.status,c=n.borrow,l=Object(a.__read)(Object(j.a)(Q,{scope:i}),2)[1];return Object(r.useEffect)((function(){d===Ol.b.Success&&l.fetchCatalog({bookSlug:i})}),[d,l,i]),Object(o.jsx)(qs,Object(a.__assign)({kind:"primary",loading:d===Ol.b.Loading,onClick:c},{children:"\u7acb\u5373\u501f\u9605"}),void 0)}function Ws(e){var t=e.bookId,i=e.bookSlug,n=Object(a.__read)(pl(),1)[0],d=n.detail,c=n.loading,l=xl(t),s=l.status,u=l.obtain,b=Object(a.__read)(Object(j.a)(Q,{scope:i}),2)[1],p=Fl(d),m=p.isModalActive,g=p.needToShowModal,v=p.showModal,f=p.hideModal,O=p.displayBeforeOwning;ml();var k=Object(r.useCallback)((function(){g&&O?v():u()}),[v,g,u,O]);return Object(r.useEffect)((function(){s===Ol.b.Success&&b.fetchCatalog({bookSlug:i})}),[s,b,i]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ls,Object(a.__assign)({kind:"primary",loading:s===Ol.b.Loading,onClick:k,disabled:c},{children:"\u7acb\u5373\u83b7\u53d6"}),void 0),Object(o.jsx)(Cs,{isActive:m,hideModal:f,companyForm:null===d||void 0===d?void 0:d.companyForm},void 0)]},void 0)}var Qs=Object($e.a)((function(){var e,t,i=de(),n=i.bookSlug,d=i.pageId,l=se(),s=Object(a.__read)(Object(j.a)(Q,{scope:n}),1)[0],u=s.title,p=s.status,m=Ae(),g="error"===p||m;return function(){var e=Object(c.k)().bookSlug,t=Object(a.__read)(Object(j.a)(x),2),i=t[0],n=i.isFullWidth,o=i.isNavCollapsed,r=t[1],d=r.toggleFullWidth,l=r.toggleNavigation;e===P&&(n&&(w(!1),d()),o&&l())}(),e=m,t=Object(a.__read)(Object(j.a)(x),2)[1].toggleFullWidth,Object(r.useEffect)((function(){e&&t()}),[e,t]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(v.a,{},void 0),Object(o.jsx)(qe,{children:Object(o.jsxs)(nt,{children:[Object(o.jsx)(Ue.a,{title:u,titleSuffix:We.b},void 0),Object(o.jsx)(Uc,{},void 0),Object(o.jsx)(Ee,{children:Object(o.jsxs)(at,{children:["loading"===p&&Object(o.jsx)(ot,{children:Object(o.jsx)(b.a,{isBlocking:!0,delayTimeToUpdateLoadingCountInMs:300},void 0)},void 0),g||Object(o.jsx)(Be,{children:Object(o.jsx)(De,Object(a.__assign)({type:Pe.catalogInReadPage},{children:Object(o.jsx)(Hc,{},void 0)}),void 0)},void 0),l&&Object(o.jsx)(Ms,{reason:l},void 0),!l&&d&&Object(o.jsx)(sc,{bookSlug:n,pageId:d},d)]},void 0)},void 0)]},void 0)},void 0),!l&&d&&Object(o.jsx)(Qe.a,{targetId:d,noteType:R.Ab.CommonLeetbook},void 0)]},void 0)})),$s=i("N49g"),Us=Object(y.a)((function(e){var t=e.onClose,i=Object(a.__rest)(e,["onClose"]);return Object(o.jsx)($s.a,Object(a.__assign)({},i,{onClickOutside:t}),void 0)}),{target:"eh27p180"})({padding:"0px",maxWidth:"720px",div:{padding:"0px"},backgroundColor:"unset"},Object(Ct.k)({boxShadow:"none",padding:"15px"}),"label:StyledModal;"),Ks=Object(y.a)("div",{target:"eh27p181"})(Mt.a.paragraph.md,{fontWeight:500,color:_.b.Pink(),display:"flex",alignItems:"center",position:"relative",height:"20px",span:{position:"absolute",minWidth:"max-content"},"@media (max-width: 1140px)":{position:"unset",span:{position:"unset",minWidth:"unset"}}},Object(Ct.k)(Mt.a.paragraph.sm,{fontWeight:400,position:"fixed",bottom:"52px",left:"0px",zIndex:2,width:"100vw",height:"28px",padding:"0px 16px",color:_.b.fixed.LabelPrimaryReverse(),backgroundColor:_.b.Pink(),"@media (max-width: 1140px)":{position:"fixed",span:{position:"unset",minWidth:"unset"}},span:{position:"unset",minWidth:"unset"}}),"label:GuideTextContainer;"),Gs=Object(y.a)("img",{target:"eh27p182"})({width:"100%"},"label:Picture;");function Ys(e){var t=e.guideText;return Object(o.jsx)(Ks,{children:Object(o.jsx)("span",{children:t},void 0)},void 0)}var Js=i("wdc6"),Xs=Object(y.a)("div",{target:"ez89fa90"})({display:"flex",alignItems:"center",marginTop:"12px","> button":{marginRight:"8px"}},Object(Ct.k)({flex:"1 1 auto",marginTop:"0px",marginLeft:"8px","> button":{height:"32px",flex:"1 1 auto",padding:"6px 30px",":last-child":{marginRight:"0px"}}}),"label:ButtonGroup;"),Zs=Object(y.a)(Js.a,{target:"ez89fa91"})({boxShadow:"0 0 2px "+_.a.fix.grey(9,.12)},"label:StyledButton;"),eu=Object(y.a)(S.a,{target:"ez89fa92"})(Object(_.h)(_.a.yellow,_.a.primary),"label:PremiumButton;"),tu=Object(Lt.a)(Zs,ut.a.leetbookDetailPayButtonClick),iu=function(e){var t=e.guideImage,i=e.payButtonText,n=e.appGuideImage,d=Object(a.__read)(Object(Er.a)(!1),3),c=d[0],l=d[1],u=d[2];Object(r.useEffect)((function(){ut.a.leetbookDetailPayButtonExposure()}),[]);var b=Object(s.q)()&&n||t;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(tu,Object(a.__assign)({kind:"detail-dark",onClick:l},{children:i}),void 0),c&&Object(o.jsx)(Us,Object(a.__assign)({isActive:c,onClose:u},{children:Object(o.jsx)(Gs,{src:b,alt:""},void 0)}),void 0)]},void 0)},nu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookActivityConfigByActivity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"activity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LeetbookActivityEnum"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookActivityConfigSearchByActivity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"activity"},value:{kind:"Variable",name:{kind:"Name",value:"activity"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query leetbookActivityConfigByActivity($activity: LeetbookActivityEnum!) {\n  leetbookActivityConfigSearchByActivity(activity: $activity) {\n    config\n    slug\n  }\n}\n"}},operationName:"leetbookActivityConfigByActivity",defName:"leetbookActivityConfigSearchByActivity"},au=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.activityEnum=R.tb.AppInvitation,i.defaultState={configMap:new Map,loading:!1},i}var i,n,o,r,d;return Object(a.__extends)(t,e),t.prototype.setLoading=function(e,t){e.loading=t},t.prototype.setConfig=function(e,t){var i=new Map;t.forEach((function(e){var t=e.slug,n=e.config;try{i.set(t,JSON.parse(n))}catch(e){return}})),e.configMap=i},t.prototype.fetchActivityConfig=function(e){var t=this;return e.pipe(Object(L.a)((function(){return t.client.query({query:nu,variables:{activity:t.activityEnum}}).pipe(Object(q.a)((function(e){var i=e.data;return t.getActions().setConfig(i.leetbookActivityConfigSearchByActivity)})),Object(E.a)(t.getActions().setLoading(!0)),Object(Se.a)(t.getActions().setLoading(!1)))})))},Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof h.Draft&&h.Draft)?i:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setConfig",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof z.a&&z.a)?o:Object]),Object(a.__metadata)("design:returntype","function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object)],t.prototype,"fetchActivityConfig",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof H.a&&H.a)?d:Object])],t)}(k.a);function ou(){var e=Object(a.__read)(Object(j.a)(au),1)[0],t=e.loading,i=e.configMap,n=Object(a.__read)(pl(),1)[0].detail;return[t,Object(r.useMemo)((function(){return i.get((null===n||void 0===n?void 0:n.slug)||"")}),[n,i])]}function ru(e){var t=e.children,i=Object(a.__read)(Object(j.a)(au),2)[1].fetchActivityConfig;return Object(r.useEffect)((function(){i()}),[i]),Object(o.jsx)(o.Fragment,{children:t},void 0)}function du(e){var t=e.children,i=Object(a.__read)(ou(),2)[1];return i?Object(o.jsx)(iu,Object(a.__assign)({},i),void 0):Object(o.jsx)(o.Fragment,{children:t},void 0)}function cu(e){var t=e.children,i=Object(a.__read)(ou(),2)[1];return i?Object(o.jsx)(Ys,Object(a.__assign)({},i),void 0):Object(o.jsx)(o.Fragment,{children:t},void 0)}var lu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookHotBooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"size"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookHotBooks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookSlug"},value:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}}},{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"Variable",name:{kind:"Name",value:"size"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"leetbookBriefNode"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"leetbookBriefNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LeetbookBriefBookNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStudied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chapterNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnlyPageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numCompletedPremium"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"productInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowBorrow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPremiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAfter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBefore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"forSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastNewPageForSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commonTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"#import '../fragments/leetbook-brief-node.graphql'\n\nquery leetbookHotBooks($bookSlug: String!, $size: Int!) {\n  leetbookHotBooks(bookSlug: $bookSlug, size: $size) {\n    ...leetbookBriefNode\n  }\n}"}},operationName:"leetbookHotBooks",defName:"leetbookHotBooks"};var su=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={hots:null},i}var i,n,o,r,d;return Object(a.__extends)(t,e),t.prototype.resetStore=function(){return{hots:null}},t.prototype.setResult=function(e,t){e.hots=null!==t&&void 0!==t?t:[]},t.prototype.fetchHot=function(e){var t=this;return e.pipe(Object(Gc.a)((function(e){return t.client.query({query:lu,variables:Object(a.__assign)(Object(a.__assign)({},e),{size:3})}).pipe(Object(M.a)((function(){return Y.a})),Object(q.a)((function(e){var i=e.data;return t.getActions().setResult(i.leetbookHotBooks)})),Object(hi.a)(t.dispose$))})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"resetStore",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setResult",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof z.a&&z.a)?o:Object]),Object(a.__metadata)("design:returntype","function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object)],t.prototype,"fetchHot",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof H.a&&H.a)?d:Object])],t)}(k.a);function uu(){var e=bl().bookSlug;return Object(j.a)(su,{scope:e})}var bu,pu,mu,gu,ju=i("jWBs"),vu=i("uhKY"),fu=i("YUEC"),Ou=i("8gmi"),ku=i("cPtI"),hu=i("X3NY"),xu=Object(y.a)("div",{target:"e17gapb0"})({width:"100%",display:"flex",marginBottom:"54px"},Object(Ct.k)({marginBottom:"24px"}),"label:Container;"),yu=Object(y.a)(Ns.a,{target:"e17gapb1"})({cursor:"default",flex:"0 0 auto"},"label:BookCoverComponent;"),_u=Object(Ct.n)(yu,{coverWidth:120,coverHeight:160}),Su=Object(y.a)("div",{target:"e17gapb2"})({flex:"1 1 auto",marginLeft:"24px",display:"flex",flexDirection:"column",width:0},Object(Ct.k)({marginLeft:"20px"}),"label:BookInfo;"),Cu=Object(y.a)("h2",{target:"e17gapb3"})(Mt.a.heading.h2,En.a.title,Object(Ct.k)({fontSize:"20px",lineHeight:"28px"}),Object(Ct.e)(Ct.l),"label:StyledTitle;"),Nu=Object(y.a)("div",{target:"e17gapb4"})(Mt.a.paragraph.md,((bu={flex:"1 1 auto",lineHeight:"24px",marginTop:"4px"})[_.c]={color:_.a.grey(7)},bu),Object(Ct.k)({marginTop:"8px"}),"label:BookDesc;"),Fu=Object(y.a)("div",{target:"e17gapb5"})({marginTop:"8px",width:"100%",display:"flex",alignItems:"flex-end"},"label:ButtonWrapper;"),wu=Object(y.a)("div",{target:"e17gapb6"})({display:"flex",alignItems:"center",marginTop:"12px","> button":{marginRight:"8px"}},"label:ButtonGroup;"),Iu=Object(y.a)("div",{target:"e17gapb7"})({flex:"1"},"label:LeftButtonGroup;"),Pu=Object(y.a)("div",{target:"e17gapb8"})({flex:"1",display:"flex",flexDirection:"column",alignItems:"flex-end"},"label:RightButtonGroup;"),Tu=Object(y.a)("span",{target:"e17gapb9"})({marginTop:"4px"},"label:PremiumNote;"),Au=Object(y.a)("span",{target:"e17gapb10"})(((pu={display:"inline-flex",svg:{transition:"transform 0.1s ease-in"},"&:hover":{"> button":{boxShadow:"0px 0px 2px "+_.a.grey(9,.12),backgroundColor:_.a.grey(1),color:_.a.grey(8)},svg:{transform:"rotate(180deg)"}},"> button":{":first-of-type":{borderTopRightRadius:0,borderBottomRightRadius:0},":last-of-type":{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"-1px"}}})[_.c]={"&:hover":{"> button":{boxShadow:"0px 0px 2px "+_.a.grey(9,.12),backgroundColor:_.a.grey(5),color:_.a.grey(7)}}},pu),"label:ShareButtonWrapper;"),Ru=(_.a.grey(6),Object(y.a)(Js.a,{target:"e17gapb12"})({boxShadow:"0 0 2px "+_.a.fix.grey(9,.12)},"label:StyledButton;")),Du=Object(y.a)(Ru,{target:"e17gapb13"})((function(e){return e.isFavorite?{svg:{color:_.b.Yellow()+" !important"}}:{}}),"label:StyledFavoriteButton;"),Bu=Object(y.a)("div",{target:"e17gapb14"})({marginTop:"20px"},"label:MobileInfoContainer;"),zu=Object(y.a)("div",{target:"e1dool2i0"})({minHeight:"127px",marginBottom:"45px"},Object(Ct.k)({minHeight:"unset",marginBottom:"32px"}),"label:Wrapper;"),Lu=Object(y.a)(ku.a,{target:"e1dool2i1"})(((mu={width:"100%"})[""+hu.a]=Ct.l,mu),"label:StyledUserName;"),qu=Object(y.a)("div",{target:"e1dool2i2"})({display:"flex"},"label:TopInfo;"),Eu=Object(y.a)("img",{target:"e1dool2i3"})({width:"40px",height:"40px",borderRadius:"20px"},"label:Avatar;"),Mu=Object(y.a)("div",{target:"e1dool2i4"})({flex:"1",marginLeft:"12px",overflow:"hidden"},"label:BaseInfo;"),Hu=Object(y.a)("a",{target:"e1dool2i5"})(Mt.a.paragraph.md,En.a.title,Object(a.__assign)(Object(a.__assign)({},Ct.l),((gu={display:"block",fontWeight:500})[_.c]={color:_.a.fix.grey(0)},gu)),"label:StyledLink;"),Vu=Object(y.a)("div",{target:"e1dool2i6"})(Mt.a.paragraph.sm,En.a.primary,Object(a.__assign)({},Ct.l),"label:Title;"),Wu=Object(y.a)("div",{target:"e1dool2i7"})(Mt.a.paragraph.md,En.a.primary,Object(a.__assign)({lineHeight:"24px",marginTop:"12px"},Object(Ct.h)(3)),"label:Bio;"),Qu=Object(y.a)("div",{target:"e1dool2i8"})({marginLeft:"5px"},"label:ButtonContainer;"),$u=Object(y.a)(Ru,{target:"e1dool2i9"})((function(e){return e.haveFollowed?{color:_.a.grey(6),backgroundColor:_.a.grey(3)}:{}}),"label:FollowButton;"),Uu=l.a.main.paths,Ku=Object(_i.a)(zu,ut.a.leetbookDetailAuthorExposure),Gu=Object(_i.a)(Qu,ut.a.leetbookDetailSubscribeButtonExposure);function Yu(e){var t=e.author,i=Object(r.useCallback)((function(){ut.a.leetbookDetailAuthorClick()}),[]),n=Object(r.useCallback)((function(){ut.a.leetbookDetailSubscribeButtonClick()}),[]),d=t.realName,c=t.avatar,l=t.title,u=t.bio,b=t.userSlug,p=Object(a.__read)(Object(Ou.a)(b),2),m=p[0],g=p[1];return Object(o.jsxs)(Ku,{children:[Object(o.jsxs)(qu,{children:[Object(o.jsx)("a",Object(a.__assign)({href:Uu.publicProfile.home({userSlug:b}),onClick:i},{children:Object(o.jsx)(Eu,{src:Object(vu.b)(c,40)},void 0)}),void 0),Object(o.jsxs)(Mu,{children:[Object(o.jsx)(Hu,Object(a.__assign)({href:Uu.publicProfile.home({userSlug:b}),onClick:i},{children:Object(o.jsx)(Lu,{realName:d,userSlug:b,defaultColor:_.a.grey(8),hideReputation:!0},void 0)}),void 0),Object(o.jsx)(Vu,{children:l},void 0)]},void 0),Object(o.jsx)(Gu,Object(a.__assign)({onClickCapture:n},{children:Object(o.jsx)($u,Object(a.__assign)({size:"xs",haveFollowed:m,onClick:g,prefixIcon:!m&&Object(o.jsx)(fu.a,{},void 0)},{children:m?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"}),void 0)}),void 0)]},void 0),!Object(s.q)()&&Object(o.jsx)(Wu,{children:u},void 0)]},void 0)}function Ju(e){var t=e.author;return t?Object(o.jsx)(Yu,{author:t},void 0):null}var Xu,Zu=i("M8E6"),eb=i.n(Zu),tb=Object(y.a)("div",{target:"e1p4def10"})(Object(zt.a)({top:"0px",left:"0px",right:"0px",bottom:"0px"}),((Xu={backgroundColor:_.a.grey(2,.5),height:"64px",display:"flex",alignItems:"center",marginTop:"40px",borderRadius:8,cursor:"pointer"})[_.c]={backgroundColor:_.a.grey(9,.08)},Xu),"label:Wrapper;"),ib=Object(y.a)("figure",{target:"e1p4def11"})({width:"72px",display:"flex",justifyContent:"center",marginBottom:0},"label:LeftItem;"),nb=Object(y.a)("img",{target:"e1p4def12"})({width:"40px",height:"40px"},"label:Img;"),ab=Object(y.a)("div",{target:"e1p4def13"})(Mt.a.heading.h4,{flex:"1",lineHeight:"64px",color:_.a.grey(7)},"label:CenterItem;"),ob=Object(y.a)("div",{target:"e1p4def14"})({width:"52px",display:"flex",justifyContent:"center",color:_.a.grey(6)},"label:RightItem;"),rb=(_.a.grey(7),_.a.red(5),Object(Lt.a)(Object(_i.a)(tb,ut.a.leetbookDetailBecomeCreatorExposure),ut.a.leetbookDetailBecomeCreatorClick));function db(){return Object(o.jsx)("a",Object(a.__assign)({href:"https://wenjuan.feishu.cn/m/cfm?t=st8Jyokgvyxi-myg0",target:"_blank"},{children:Object(o.jsxs)(rb,{children:[Object(o.jsx)(ib,{children:Object(o.jsx)(nb,{src:eb.a},void 0)},void 0),Object(o.jsx)(ab,{children:"\u6210\u4e3a\u521b\u4f5c\u4eba"},void 0),Object(o.jsx)(ob,{children:Object(o.jsx)(ro.a,{size:16},void 0)},void 0)]},void 0)}),void 0)}var cb=i("BmmU"),lb=Object(y.a)(cb.a,{target:"ep4fb760"})({color:_.a.grey(7),fontSize:"14px","*":{fontSize:"14px"},"ul li":{paddingLeft:"4px"}},"label:CardContent;"),sb=Object(y.a)("div",{target:"ep4fb761"})({marginBottom:"40px"},"label:Container;");function ub(e){var t=e.block;if(!t)return null;var i=t.content,n=t.title,r=t.type;return Object(o.jsxs)(sb,{children:[n&&Object(o.jsx)(dd,{children:n},void 0),Object(o.jsx)(lb,Object(a.__assign)({type:r},{children:i}),void 0)]},void 0)}function bb(e){var t=e.descBlocks,i=void 0===t?[]:t;return Object(o.jsx)(o.Fragment,{children:i.map((function(e,t){return Object(o.jsx)(ub,{block:e},t)}))},void 0)}var pb=i("OfpK"),mb=i("Ac6o");function gb(e){var t=Object(a.__read)(Object(j.a)(Q,{scope:e}),1)[0].ownedType;return Q.isOwned({ownedType:t})}var jb=i("MUeP"),vb=i("qUDi"),fb=i("fjYZ"),Ob=i("kI3w"),kb=i("qFH2"),hb=i("24DN"),xb=i("WIpE"),yb=Object(Lt.a)(Zs,(function(e){(null===e||void 0===e?void 0:e.title)&&ut.a.leetbookDetailBorrowButtonClick(e.title)})),_b=function(e){var t=e.bookId,i=e.bookSlug,n=e.title,d=Object(a.__read)(pl(),2)[1],c=Object(a.__read)(Object(j.a)(Q,{scope:i}),2)[1],l=hl(t),s=l.status,u=l.borrow;Object(r.useEffect)((function(){s===Ol.b.Success&&(d.setOwnedType(R.Pb.Borrowed),c.setOwnedType(R.Pb.Borrowed))}),[s,d,c]),Object(r.useEffect)((function(){n&&ut.a.leetbookDetailBorrowButtonExposure(n)}),[n]);var b=s===Ol.b.Loading;return Object(o.jsx)(yb,Object(a.__assign)({kind:"detail-dark",title:n,loading:b,onClick:u},{children:"\u501f\u9605"}),void 0)},Sb=Object(Lt.a)(Zs,ut.a.leetbookDetailObtainButtonClick),Cb=function(e){var t=e.bookId,i=e.bookSlug,n=Object(a.__read)(pl(),2),d=n[0].detail,c=n[1],l=Object(a.__read)(Object(j.a)(Q,{scope:i}),2)[1],s=Object(a.__read)(Object(j.a)(ul),2)[1].setSource,u=xl(t),b=u.status,p=u.obtain,m=Fl(d),g=m.isModalActive,v=m.needToShowModal,f=m.showModal,O=m.hideModal,k=m.displayBeforeOwning,h=m.userInfo,x=Object(r.useCallback)((function(){if(v&&k)return f(),void s("obtain");p()}),[f,v,p,k,s]);Object(r.useEffect)((function(){b===Ol.b.Success&&(c.setOwnedType(R.Pb.Purchased),l.setOwnedType(R.Pb.Purchased))}),[b,c,l]),Object(r.useEffect)((function(){ut.a.leetbookDetailObtainButtonExposure()}),[]);var y=b===Ol.b.Loading;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Sb,Object(a.__assign)({kind:"detail-dark",loading:y,onClick:x},{children:"\u83b7\u53d6"}),void 0),Object(o.jsx)(Cs,{isActive:g,hideModal:O,userInfo:h,companyForm:null===d||void 0===d?void 0:d.companyForm},void 0)]},void 0)},Nb=function(e){var t=e.bookId,i=e.bookSlug,n=Object(a.__read)(pl(),2)[1],d=Object(a.__read)(Object(j.a)(Q,{scope:i}),2)[1],c=xl(t,!0),l=c.status,s=c.obtain,u=Object(r.useCallback)((function(){s()}),[s]);Object(r.useEffect)((function(){l===Ol.b.Success&&(n.setOwnedType(R.Pb.Purchased),d.setOwnedType(R.Pb.Purchased))}),[l,n,d]),Object(r.useEffect)((function(){ut.a.leetbookDetailObtainButtonExposure()}),[]);var b=l===Ol.b.Loading;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(Sb,Object(a.__assign)({kind:"detail-dark",loading:b,onClick:u},{children:"\u83b7\u53d6"}),void 0)},void 0)},Fb=Object(Lt.a)(Zs,ut.a.leetbookDetailPayButtonClick),wb=function(e){var t=e.productSlug,i=Object(Ob.c)(t),n=i.loading,d=i.getTokenAndGotoLeetbookPay;return Object(r.useEffect)((function(){ut.a.leetbookDetailPayButtonExposure()}),[]),Object(o.jsx)(Fb,Object(a.__assign)({kind:"detail-dark",loading:n,onClick:d},{children:"\u7acb\u5373\u8d2d\u4e70"}),void 0)},Ib=Object(Lt.a)(S.a,ut.a.leetbookDetailOriginalPayButtonClick),Pb=function(e){var t=e.productSlug,i=e.originalPrice,n=Object(Ob.c)(t),d=n.loading,c=n.getTokenAndGotoLeetbookPay;return Object(r.useEffect)((function(){ut.a.leetbookDetailOriginalPayButtonExposure()}),[]),Object(o.jsx)(Ib,Object(a.__assign)({kind:"transparent",loading:d,suffixIcon:Object(o.jsx)(jb.a,{},void 0),onClick:c},{children:"\u539f\u4ef7 \xa5 "+i+" \u8d2d\u4e70"}),void 0)},Tb=Object(Lt.a)(Zs,ut.a.leetbookDetailPreviewButtonClick),Ab=function(e){var t=e.bookSlug,i=Object(fb.a)(t),n=i.loading,d=i.continueReading;return Object(r.useEffect)((function(){ut.a.leetbookDetailPreviewButtonExposure()}),[]),Object(o.jsx)(Tb,Object(a.__assign)({loading:n,onClick:d},{children:"\u8bd5\u8bfb"}),void 0)},Rb=Object(Lt.a)(Zs,ut.a.leetbookDetailReadButtonClick),Db=function(e){var t=e.bookSlug,i=e.disabled,n=Object(fb.a)(t),d=n.loading,c=n.continueReading;return Object(r.useEffect)((function(){ut.a.leetbookDetailReadButtonExposure()}),[]),Object(o.jsx)(Rb,Object(a.__assign)({disabled:i,loading:d,onClick:c},{children:Object(o.jsx)(ze,{children:"\u9605\u8bfb"},void 0)}),void 0)};function Bb(e){var t=e.bookId,i=e.isExpired,n=Object(kb.a)({leetbookId:t}),d=n.paymentUrl,c=n.isLoading;Object(r.useEffect)((function(){i?ut.a.leetbookDetailPremiumExpiredButtonExposure():ut.a.leetbookDetailPremiumButtonExposure()}),[i]);var l=Object(r.useCallback)((function(){i?ut.a.leetbookDetailPremiumExpiredButtonClick():ut.a.leetbookDetailPremiumButtonClick(),d&&(hb.a.payPremiumLeetbookDetailButtonClick(),xb.b.report({event_key:"premium_pay_web_leetbook_plus_click"}),window.open(d,"_blank"))}),[i,d]);return Object(o.jsx)(eu,Object(a.__assign)({kind:"text",size:"xs",loading:c,prefixIcon:i?Object(o.jsx)(vb.a,{},void 0):void 0,suffixIcon:i?void 0:Object(o.jsx)(jb.a,{},void 0),onClick:l},{children:i?"\u5347\u7ea7 Plus \u4f1a\u5458\uff0c\u7ee7\u7eed\u514d\u8d39\u8bfb":"\u5347\u7ea7 Plus \u4f1a\u5458\uff0c\u7acb\u4eab\u514d\u8d39\u8bfb"}),void 0)}var zb=i("oUHe"),Lb=i("zdNe"),qb=i("EsD6"),Eb=Object(y.a)("div",{target:"e1sf4yh00"})(Mt.a.paragraph.md,{fontWeight:500,color:_.b.Pink(),display:"flex",alignItems:"center"},Object(Ct.k)(Mt.a.paragraph.sm,{fontWeight:400,position:"fixed",bottom:"52px",left:"0px",zIndex:2,width:"100vw",height:"28px",padding:"0px 16px",color:_.b.fixed.LabelPrimaryReverse(),backgroundColor:_.b.Pink()}),"label:Container;"),Mb=Object(y.a)("div",{target:"e1sf4yh01"})({display:"flex",alignItems:"center"},Object(Ct.k)({marginLeft:"auto"}),"label:CountdownContainer;"),Hb=Object(y.a)("div",{target:"e1sf4yh02"})(Mt.a.paragraph.md,{fontWeight:500,height:"20px",padding:"0px 2px",margin:"0px 4px",color:_.b.LabelPrimaryReverse(),backgroundColor:_.b.Pink(),borderRadius:"3px"},Object(Ct.k)({color:_.b.Pink(),backgroundColor:_.b.fixed.LabelPrimaryReverse()}),"label:Num;");function Vb(e){var t=e.discounts,i=A()(t);return Object(qb.b)(i)?Object(o.jsxs)(Eb,{children:["\u9650\u65f6\u6298\u6263\u5269\u4f59",Object(o.jsx)(Wb,{targetDate:i.availableBefore},void 0)]},void 0):null}function Wb(e){var t=e.targetDate,i=Object(a.__read)(Object(zb.b)(nl()(t).valueOf()),1)[0],n=i.days,r=i.hours,c=i.minutes,l=i.seconds;return Object(o.jsx)(Mb,{children:G()([!!n&&Object(o.jsxs)(d.a.Fragment,{children:[Object(o.jsx)(Hb,{children:Object(Lb.c)(n)},void 0),"\u5929"]},"day"),Object(o.jsxs)(d.a.Fragment,{children:[Object(o.jsx)(Hb,{children:Object(Lb.c)(r)},void 0),"\u65f6"]},"hour"),Object(o.jsxs)(d.a.Fragment,{children:[Object(o.jsx)(Hb,{children:Object(Lb.c)(c)},void 0),"\u5206"]},"minute"),Object(o.jsxs)(d.a.Fragment,{children:[Object(o.jsx)(Hb,{children:Object(Lb.c)(l)},void 0),"\u79d2"]},"second")]).slice(0,3)},void 0)}function Qb(){var e,t,i,n,d,c,l=Object(r.useContext)(D.d).isPremium,s=Object(a.__read)(pl(),1)[0].detail,u=(n=null===s||void 0===s?void 0:s.slug,d=Object(a.__read)(Object(j.a)(Q,{scope:n}),1)[0].author,c=Object(r.useContext)(D.d).userSlug,(null===d||void 0===d?void 0:d.userSlug)===c),b=gb((null===s||void 0===s?void 0:s.slug)||"");if((null===s||void 0===s?void 0:s.visibility)===R.u.Published)return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),null];if(!(null===s||void 0===s?void 0:s.productInfo))return[null,null];if(u)return b?[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),null]:[Object(o.jsx)(Xs,{children:Object(o.jsx)(Nb,{bookId:s.id,bookSlug:s.slug},void 0)},void 0),null];var p=s.productInfo,m=Object(le.a)(p),g=null===(e=p.product)||void 0===e?void 0:e.slug,v=p.allowBorrow;switch(m){case wl.a.PremiumOnly:if(l)switch(s.ownedType){case R.Pb.Unowned:return[Object(o.jsx)(Xs,{children:v&&Object(o.jsx)(_b,{bookId:s.id,bookSlug:s.slug,title:s.title},void 0)},void 0),null];case R.Pb.Borrowed:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),null];default:return[null,null]}else switch(s.ownedType){case R.Pb.Unowned:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Ab,{bookSlug:s.slug},void 0)},void 0),Object(o.jsx)(Bb,{bookId:s.id,isExpired:!1},void 0)];case R.Pb.Expired:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{disabled:!0,bookSlug:s.slug},void 0)},void 0),Object(o.jsx)(Bb,{bookId:s.id,isExpired:!0},void 0)];default:return[null,null]}case wl.a.Free:switch(s.ownedType){case R.Pb.Unowned:case R.Pb.Refunded:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Cb,{bookId:s.id,bookSlug:s.slug},void 0)},void 0),null];case R.Pb.Purchased:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),null];default:return[null,null]}case wl.a.PremiumFree:var f=Object(mb.a)(null!==(i=null===(t=p.product)||void 0===t?void 0:t.price)&&void 0!==i?i:0);if(l)switch(s.ownedType){case R.Pb.Refunded:case R.Pb.Unowned:return[Object(o.jsx)(Xs,{children:v&&Object(o.jsx)(_b,{bookId:s.id,bookSlug:s.slug,title:s.title},void 0)},void 0),g&&Object(o.jsx)(Pb,{originalPrice:f,productSlug:g},void 0)];case R.Pb.Borrowed:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),g&&Object(o.jsx)(Pb,{originalPrice:f,productSlug:g},void 0)];case R.Pb.Purchased:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),null];default:return[null,null]}else switch(s.ownedType){case R.Pb.Refunded:case R.Pb.Unowned:return[Object(o.jsxs)(Xs,{children:[Object(o.jsx)(Ab,{bookSlug:s.slug},void 0),g&&Object(o.jsx)(wb,{productSlug:g},void 0)]},void 0),Object(o.jsx)(Bb,{bookId:s.id,isExpired:!1},void 0)];case R.Pb.Purchased:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),null];case R.Pb.Expired:return[Object(o.jsxs)(Xs,{children:[Object(o.jsx)(Db,{disabled:!0,bookSlug:s.slug},void 0),g&&Object(o.jsx)(wb,{isOriginalPrice:!0,productSlug:g},void 0)]},void 0),Object(o.jsx)(Bb,{bookId:s.id,isExpired:!0},void 0)];default:return[null,null]}case wl.a.Charge:switch(s.ownedType){case R.Pb.Refunded:case R.Pb.Unowned:return[Object(o.jsxs)(Xs,{children:[Object(o.jsx)(Ab,{bookSlug:s.slug},void 0),Object(o.jsx)(du,{children:g&&Object(o.jsx)(wb,{productSlug:g},void 0)},void 0)]},void 0),Object(o.jsx)(cu,{children:s.productInfo.product?Object(o.jsx)(Vb,Object(a.__assign)({},s.productInfo.product),void 0):null},void 0)];case R.Pb.Purchased:return[Object(o.jsx)(Xs,{children:Object(o.jsx)(Db,{bookSlug:s.slug},void 0)},void 0),null];default:return[null,null]}default:return[null,null]}}var $b=i("RwRN"),Ub=i("Bj0B"),Kb=i("YHQ3"),Gb=function(e){var t=e.bookId,i=e.defaultIsFavorite,n=Object(a.__read)(function(e,t){var i=Object(a.__read)(d.a.useState(t),2),n=i[0],o=i[1],r=d.a.useCallback((function(){o((function(e){return!e}))}),[o]);return[n,Object(Kb.a)({bookId:e,isFavorite:n,onToggleSuccess:r})]}(t,i),2),r=n[0],c=n[1];return Object(o.jsx)(Du,Object(a.__assign)({size:"md",onClick:c,isFavorite:r,prefixIcon:r?Object(o.jsx)($b.a,{},void 0):Object(o.jsx)(Ub.a,{},void 0)},{children:r?"\u5df2\u6536\u85cf":"\u6536\u85cf"}),void 0)},Yb=i("XoRX"),Jb=i("e96/"),Xb=i("Y9Gt"),Zb=i("2DAU"),ep=i("/ZaN"),tp=Object(y.a)("div",{target:"e1fsqqsd0"})({padding:"12px",p:{display:"none"},button:{display:"block",margin:"10px auto 0px auto"}},"label:ShareContainer;"),ip=d.a.memo((function(e){var t=e.title,i=e.description,n=e.img,d=e.children,c=e.className,l={title:"\u300c\u8d85\u68d2\u5b66\u4e60\u8d44\u6599\u63a8\u8350\u7ed9\u4f60\uff1a"+t+"\u300d",description:i},u=Object(r.useCallback)((function(){Jb.a.copy(window.location.href,(function(){return Ya.a.success("\u94fe\u63a5\u590d\u5236\u6210\u529f")}))}),[]),b=Object(r.useCallback)((function(){Zb.c.showShareMask({title:l.title,desc:l.description,link:window.location.href,imgUrl:n})}),[n,l.description,l.title]);return Object(s.t)()?Object(o.jsx)("div",Object(a.__assign)({className:c,onClick:b},{children:d}),void 0):Object(o.jsx)(Xb.a,Object(a.__assign)({content:Object(o.jsxs)(tp,{children:[Object(o.jsx)(ep.a,{flatten:!1,shareConfig:l},void 0),Object(o.jsx)(S.a,Object(a.__assign)({kind:"border",onClick:u},{children:"\u590d\u5236\u94fe\u63a5"}),void 0)]},void 0),placement:Object(s.q)()?"top":"bottom",trigger:Object(s.q)()?"click":"hover"},{children:Object(o.jsx)("div",Object(a.__assign)({className:c},{children:d}),void 0)}),void 0)}));function np(e){return Object(o.jsx)(ip,Object(a.__assign)({},e,{children:Object(s.t)()?Object(o.jsx)(Ru,Object(a.__assign)({size:"md"},{children:"\u5206\u4eab"}),void 0):Object(o.jsxs)(Au,{children:[Object(o.jsx)(Ru,Object(a.__assign)({size:"md"},{children:"\u5206\u4eab"}),void 0),Object(o.jsx)(Ru,{size:"sm",prefixIcon:Object(o.jsx)(Yb.a,{size:20},void 0)},void 0)]},void 0)}),void 0)}function ap(){var e,t=Object(a.__read)(pl(),1)[0].detail,i=Object(a.__read)(Qb(),2),n=i[0],r=i[1],d=!(e=Object(a.__read)(ou(),2)[1])||!!e.isPriceVisible;if(!t)return null;var c=Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(od,{children:[Object(o.jsx)(rd,{children:Object(pb.a)(t.totalStudied)+" \u4eba"},void 0),"\xa0",We.c]},void 0),Object(o.jsx)(od,{children:t.premiumOnlyPageNum>0&&Object(o.jsx)(Tu,{children:"\u542b\u6709 Plus \u4f1a\u5458\u4e13\u4eab\u5185\u5bb9"},void 0)},void 0)]},void 0);return Object(o.jsxs)(xu,{children:[Object(o.jsx)(_u,{coverImg:t.coverImg,coverWidth:150,coverHeight:200,coverRadius:8,ownedType:t.ownedType,productInfo:t.productInfo,priceVisible:d,forSaleAt:t.forSaleAt},void 0),Object(o.jsxs)(Su,{children:[Object(o.jsx)(Cu,{children:t.title},void 0),Object(o.jsx)(Nu,{children:Object(o.jsx)(cd,{children:t.description},void 0)},void 0),Object(s.q)()?Object(o.jsxs)(Bu,{children:[c,r]},void 0):Object(o.jsxs)(Fu,{children:[Object(o.jsxs)(Iu,{children:[r,n]},void 0),Object(o.jsxs)(Pu,{children:[c,Object(o.jsxs)(wu,{children:[Object(o.jsx)(Gb,{bookId:t.id,defaultIsFavorite:t.isFavorite},void 0),Object(o.jsx)(np,{title:t.title,description:t.description,img:t.coverImg},void 0)]},void 0)]},void 0)]},void 0)]},void 0)]},void 0)}var op=Object(y.a)("div",{target:"ea355s30"})({marginLeft:0},"label:ListWrapper;"),rp=Object(y.a)(Et.a,{target:"ea355s31"})({marginTop:"16px",display:"flex"},"label:ListItem;"),dp=Object(y.a)("div",{target:"ea355s32"})({flex:"1",marginLeft:"16px",display:"flex",flexDirection:"column",minWidth:0},"label:BookInfo;"),cp=Object(y.a)("h4",{target:"ea355s33"})(Mt.a.paragraph.md,Object(a.__assign)({margin:0,marginBottom:"8px",color:_.a.grey(8)},Ct.l),"label:BookTitle;"),lp=Object(y.a)("div",{target:"ea355s34"})(Mt.a.paragraph.sm,{color:_.a.grey(7),flex:1},"label:AuthorInfo;"),sp=Object(y.a)("div",{target:"ea355s35"})(Mt.a.paragraph.sm,"label:StudentInfo;"),up=Object(y.a)("span",{target:"ea355s36"})({color:_.a.grey(8)},"label:LearningNumber;"),bp=Object(y.a)("span",{target:"ea355s37"})({color:_.a.grey(6)},"label:LearningStatus;"),pp=l.a.main.paths,mp=Object(Lt.a)(Object(_i.a)(rp,ut.a.leetbookDetailHotExposure),ut.a.leetbookDetailHotClick);function gp(e){var t=e.books;return Object(o.jsxs)("div",{children:[Object(o.jsx)(dd,{children:"\u70ed\u95e8 LeetBook"},void 0),Object(o.jsx)(op,{children:t.map((function(e){return Object(o.jsxs)(mp,Object(a.__assign)({to:pp.leetbook.detail({bookSlug:e.slug})},{children:[Object(o.jsx)(Ns.a,{coverImg:e.coverImg,coverWidth:90,coverHeight:120},void 0),Object(o.jsxs)(dp,{children:[Object(o.jsx)(cp,{children:e.title},void 0),Object(o.jsx)(lp,{children:Object(o.jsxs)(cd,{children:[e.author.realName," ",e.author.title&&"\xb7 "+e.author.title]},void 0)},void 0),Object(o.jsxs)(sp,{children:[Object(o.jsx)(up,{children:Object(pb.a)(e.totalStudied)+" \u4eba"},void 0),Object(o.jsx)(bp,{children:We.c},void 0)]},void 0)]},void 0)]}),e.id)}))},void 0)]},void 0)}var jp,vp,fp,Op=i("577J"),kp=i("o46c"),hp=i("bFrd"),xp=Object(y.a)("div",{target:"ezk2kfv0"})({padding:"24px 16px 0px 16px"},"label:MobileContainer;"),yp=Object(y.a)("div",{target:"ezk2kfv1"})(it.a.layer0,{margin:"0px -16px",padding:"30px 16px 80px 16px"},"label:SectionContainer;"),_p=Object(y.a)("div",{target:"ezk2kfv2"})(it.a.layer1,Mn.a.level2((function(e){return{borderTop:"1px solid "+e}})),{position:"fixed",bottom:"0px",width:"100%",height:"52px",padding:"0px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},"label:FixedButtonGroup;"),Sp=Object(y.a)("div",{target:"ezk2kfv3"})(En.a.primary,((jp={width:"60px",display:"flex",flexDirection:"column",alignItems:"center",svg:{width:"20px",height:"20px"}})[""+hp.a]=En.a.primary,jp),"label:ButtonContainer;"),Cp=Object(y.a)("div",{target:"ezk2kfv4"})(Mt.a.paragraph.sm,"label:ButtonText;"),Np=Object(y.a)(ua,{target:"ezk2kfv5"})({marginBottom:"30px"},"label:StyledTags;"),Fp=i("r0ob"),wp=i("UqMZ"),Ip=i("EdJC"),Pp=i("wR8M"),Tp=i("U5ty"),Ap=i("gd5h"),Rp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookScoreSubject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookScoreSubject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookSlug"},value:{kind:"Variable",name:{kind:"Name",value:"bookSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"maxScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scoreDesc"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"score"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"desc"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"myScore"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"score"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbookScoreSubject($bookSlug: String!) {\n  leetbookScoreSubject(bookSlug: $bookSlug) {\n    id\n    config {\n      maxScore\n      scoreDesc {\n        score\n        desc\n      }\n    }\n    myScore {\n      score\n      comment\n      time\n    }\n  }\n}"}},operationName:"leetbookScoreSubject",defName:"leetbookScoreSubject"},Dp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"markScore"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"in"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkScoreInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markScore"},arguments:[{kind:"Argument",name:{kind:"Name",value:"in"},value:{kind:"Variable",name:{kind:"Name",value:"in"}}}],directives:[]}]}}],loc:{source:{body:"mutation markScore ($in: MarkScoreInput!) {\n  markScore(in: $in)\n}"}},operationName:"markScore",defName:"markScore"},Bp=i("g06B"),zp=i("uhc8"),Lp=i("twFB"),qp=i.n(Lp),Ep=i("YkLR"),Mp=i("p9o4"),Hp=function(e){var t=e.size,i=void 0===t?20:t,n=e.active,d=e.score,c=e.setHoverScore,l=e.onClickScore,u=n?Ep.a:Mp.a,b=Object(r.useCallback)((function(){l(d)}),[d,l]),p=Object(r.useCallback)((function(){c(d)}),[d,c]),m=Object(s.q)()?{}:{onMouseEnter:p};return Object(o.jsx)(u,Object(a.__assign)({onClick:b,size:i},m,{style:{color:n?_.b.Yellow():_.b.BaseGrey5()}}),void 0)},Vp=Object(y.a)("div",{target:"e1jtni0d0"})({color:_.b.LabelTertiary(),fontWeight:500,fontSize:14,lineHeight:"22px",marginRight:8},"label:Label;"),Wp=Object(y.a)("div",{target:"e1jtni0d1"})({color:_.b.LabelTertiary(),fontSize:12,lineHeight:"16px",marginLeft:8},"label:Level;"),Qp=Object(y.a)("div",{target:"e1jtni0d2"})((function(e){return{cursor:"pointer",display:"flex",alignItems:"center","svg:not(:first-of-type)":{marginLeft:e.space}}}),"label:StarsWrapper;"),$p=new Array(5).fill(1),Up=function(e){var t=e.space,i=void 0===t?4:t,n=e.score,d=e.confirmScore,c=e.onDisplayedScoreChange,l=e.starSize,s=void 0===l?20:l,u=Object(a.__read)(Object(r.useState)(n),2),b=u[0],p=u[1];Object(r.useEffect)((function(){c(n),p(n)}),[n,c,p]);var m=Object(r.useCallback)((function(){p(n),c(n)}),[p,n,c]),g=Object(r.useCallback)((function(){}),[]),j=Object(r.useCallback)((function(e){d&&d(e)}),[d]);return Object(o.jsx)(Qp,Object(a.__assign)({space:i,onPointerLeave:m,onClick:g},{children:$p.map((function(e,t){return Object(o.jsx)(Hp,{size:s,active:b>=t+1,score:t+1,setHoverScore:qp()(p,c),onClickScore:j},t)}))}),void 0)},Kp=Object(y.a)("div",{target:"e4ei4d0"})({display:"flex",justifyContent:"center",alignContent:"center",color:_.b.LabelTertiary(),span:{color:_.b.LabelSecondary(),marginLeft:"8px"}},"label:Text;"),Gp=Object(y.a)("div",{target:"e4ei4d1"})({display:"flex",justifyContent:"center",margin:"10px 0 18px"},"label:StarsWrap;"),Yp=Object(y.a)("div",{target:"e4ei4d2"})({color:_.b.LabelTertiary(),lineHeight:"16px",fontSize:"12px",marginTop:"12px"},"label:Note;"),Jp=Object(y.a)("textarea",{target:"e4ei4d3"})({display:"block",width:"100%",height:"90px",padding:"4px 10px",fontSize:"12px",lineHeight:"20px",color:_.b.LabelPrimary(),background:_.b.FillQuaternary(),border:"1px solid",borderColor:_.b.Border3(),borderRadius:"8px",outline:"none",transition:"border-color .3s",":hover, :focus":{border:"1px solid "+_.b.PrimaryStandard()},"::placeholder":{color:_.b.LabelQuaternary()}},"label:Textarea;"),Xp=Object(y.a)(Bp.a,{target:"e4ei4d4"})(Ur.a.level4,((vp={backgroundColor:_.b.Layer2(),">div":{boxShadow:"none"},borderRadius:"8px"})[_.c]={backgroundColor:_.b.Layer2()},vp),"label:StyledBaseModal;"),Zp=Object(y.a)("div",{target:"e4ei4d5"})({padding:"16px 24px",color:_.b.LabelPrimary(),display:"flex",justifyContent:"space-between",alignContent:"center",lineHeight:"24px","@media (min-width: 680px)":{borderBottom:"1px solid "+_.b.Border2()},div:{height:"28px",fontSize:"18px"},svg:{cursor:"pointer",transition:"all .15s","&:hover":{color:_.b.LabelSecondary()}}},"label:ModalHeader;"),em=Object(y.a)("div",{target:"e4ei4d6"})({padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",button:{width:60,":not(:first-of-type)":{marginLeft:"16px"}}},"label:ModalFooter;"),tm=Object(y.a)("div",{target:"e4ei4d7"})({color:_.b.LabelQuaternary(),fontSize:"12px"},"label:Time;"),im=function(e){var t=e.isActive,i=e.onClose,n=e.onConfirm,d=e.defaultComment,c=e.getScoreDesc,l=e.lastCommentAt,u=e.defaultScore,b=Object(a.__read)(Object(r.useState)(d),2),p=b[0],m=b[1],g=Object(a.__read)(Object(r.useState)(u),2),j=g[0],v=g[1],f=Object(a.__read)(Object(r.useState)(j),2),O=f[0],k=f[1];Object(r.useEffect)((function(){m(d)}),[m,d]),Object(r.useEffect)((function(){v(u),k(u)}),[k,u,v]);var h=Object(r.useCallback)((function(){n(j,p),k(u),m(d),v(u)}),[j,p,n,v,m,k,u,d]),x=Object(r.useCallback)((function(e){v(e)}),[v]),y=Object(r.useCallback)((function(){i(),k(u),m(d),v(u)}),[i,k,m,v,u,d]);return Object(o.jsxs)(Xp,Object(a.__assign)({isActive:t,width:Object(s.q)()?"352px":"600px",type:"default",contentPadding:"12px 16px",header:Object(o.jsxs)(Zp,{children:[Object(o.jsx)("div",{children:l?"\u4fee\u6539\u8bc4\u5206":"\u6dfb\u52a0\u8bc4\u5206"},void 0),Object(o.jsx)(zp.a,{onClick:y,size:24,color:_.b.BaseGrey6()},void 0)]},void 0),footer:Object(o.jsxs)(em,{children:[Object(o.jsx)(tm,{children:l&&"\u4e0a\u6b21\u8bc4\u5206\u65f6\u95f4\uff1a"+nl()(l).format("YYYY.MM.DD")},void 0),Object(o.jsxs)("div",Object(a.__assign)({style:{display:"flex"}},{children:[Object(o.jsx)(S.a,Object(a.__assign)({kind:"free",onClick:y},{children:"\u53d6\u6d88"}),void 0),Object(o.jsx)(S.a,Object(a.__assign)({kind:"primary",onClick:h},{children:"\u786e\u8ba4"}),void 0)]}),void 0)]},void 0)},{children:[Object(o.jsxs)(Kp,{children:["\u6211\u7684\u8bc4\u5206: ",Object(o.jsxs)("span",{children:[c(O),"\uff01"]},void 0)]},void 0),Object(o.jsx)(Gp,{children:Object(o.jsx)(Up,{space:8,score:j,confirmScore:x,onDisplayedScoreChange:k,starSize:24},void 0)},void 0),Object(o.jsx)(Jp,{placeholder:"\u6211\u89c9\u5f97\u8fd9\u672c\u4e66...",maxLength:350,value:p,onChange:function(e){return m(e.target.value)}},void 0),Object(o.jsx)(Yp,{children:"* \u73b0\u9636\u6bb5\u60a8\u7684\u8bc4\u4ef7\u53cd\u9988\u4ec5\u7528\u4e8e\u529b\u6263\u5185\u90e8\u6536\u96c6\uff0c\u6682\u4e0d\u5bf9\u5916\u5c55\u793a\uff0c\u611f\u8c22\u60a8\u7684\u652f\u6301"},void 0)]}),void 0)},nm=function(e){var t,i,n,d,c,l,s,u,b=e.slug,p=Object(r.useContext)(D.d),m=(l=b,s=!0,Object(Ip.a)(["LeetbookScoreSubject",l],(function(){return Ap.d.query({query:Rp,variables:{bookSlug:l},fetchPolicy:"no-cache",context:{uri:Ap.j}}).then((function(e){return e.data.leetbookScoreSubject}))}),{enabled:s})).data,g=(u=Object(Pp.b)(),Object(Tp.a)((function(e){return Ap.d.mutate({mutation:Dp,variables:e,context:{uri:Ap.j}})}),{onSuccess:function(e,t){u.invalidateQueries(["LeetbookScoreSubject",t.in.bookSlug])}})).mutate,j=Object(a.__read)(Object(Er.a)(!1),3),v=j[0],f=j[1],O=j[2],k=Object(r.useCallback)((function(){wp.a.ensureSignedIn((function(){f()}),{user:p})()}),[f,p]),h=null!==(i=null===(t=null===m||void 0===m?void 0:m.myScore)||void 0===t?void 0:t.score)&&void 0!==i?i:0,x=null!==(d=null===(n=null===m||void 0===m?void 0:m.myScore)||void 0===n?void 0:n.comment)&&void 0!==d?d:"",y=Object(a.__read)(Object(r.useState)(h),2),S=y[0],C=y[1],N=Object(a.__read)(Object(r.useState)(x),2),F=N[0],w=N[1],I=Object(a.__read)(Object(r.useState)(h),2),P=I[0],T=I[1],A=Object(a.__read)(Object(r.useState)(h),2),R=A[0],B=A[1];Object(r.useEffect)((function(){C(h),w(x),T(h),B(h)}),[h,C,w,T,B,x]);var z=Object(r.useCallback)((function(e,t){O(),C(e),w(t),g({in:{bookSlug:b,score:e,comment:t}})}),[b,O,g,C,w]),L=Object(r.useCallback)((function(e){T(e),k()}),[k]),q=Object(r.useCallback)((function(e){var t;return e>0?null===(t=null===m||void 0===m?void 0:m.config.scoreDesc.find((function(t){return t.score===e})))||void 0===t?void 0:t.desc:"\u8bc4\u5206"}),[null===m||void 0===m?void 0:m.config.scoreDesc]);return m?Object(o.jsxs)(Fp.b,Object(a.__assign)({justify:"space-between",align:"center",style:{marginBottom:16}},{children:[Object(o.jsx)(Vp,{children:h>0?"\u6211\u7684\u8bc4\u5206":"\u8bc4\u4ef7\u8fd9\u672c\u4e66"},void 0),Object(o.jsxs)(Fp.b,Object(a.__assign)({onClick:k,align:"center",style:{cursor:"pointer"}},{children:[Object(o.jsx)(Up,{confirmScore:L,score:S,onDisplayedScoreChange:B},void 0),Object(o.jsx)(Wp,{children:q(R)},void 0),Object(o.jsx)(jb.a,{size:16,color:_.b.LabelTertiary()},void 0)]}),void 0),Object(o.jsx)(im,{getScoreDesc:q,isActive:v,onClose:O,onConfirm:z,defaultComment:F,lastCommentAt:null===(c=null===m||void 0===m?void 0:m.myScore)||void 0===c?void 0:c.time,defaultScore:P},void 0)]}),void 0):null},am=i("V2LZ"),om=i("VH/u"),rm=Object(y.a)("div",{target:"e1tqmqed0"})({display:"flex",width:"300px",height:"46px",alignItems:"center",marginBottom:"34px"},Object(Ct.k)({width:"100%",marginBottom:"20px"}),"label:Wrapper;"),dm=Object(y.a)("div",{target:"e1tqmqed1"})((function(e){var t=e.width,i=e.paddingLeft;return{width:t,paddingLeft:void 0===i?0:i,boxSizing:"border-box"}}),Object(Ct.k)({flex:"1 1 auto"}),"label:Item;"),cm=Object(y.a)("div",{target:"e1tqmqed2"})(Mt.a.paragraph.sm,{color:_.a.grey(6),marginTop:"2px"},"label:GreyText;"),lm=Object(y.a)("div",{target:"e1tqmqed3"})({backgroundColor:_.a.grey(3),height:"36px",width:"1px"},"label:Spacer;"),sm=((fp={})[R.hd.Finished]="\u5df2\u5b8c\u7ed3",fp[R.hd.Wip]="\u8fde\u8f7d\u4e2d",fp),um=function(e){return e>=60?qn()(e/60,1)+" \u5c0f\u65f6":e+" \u5206\u949f"};function bm(e){var t=e.detail,i=Object(om.a)(t),n=t.chapterNum,r=t.pageNum,d=t.premiumOnlyPageNum,c=t.readTime,l=t.workStatus;return Object(o.jsxs)(rm,{children:[Object(o.jsxs)(dm,Object(a.__assign)({width:88},{children:[Object(o.jsx)(am.c,{children:null!==i?i+"%":"\u6682\u65e0"},void 0),Object(o.jsx)(cm,{children:"\u5b66\u4e60\u8fdb\u5ea6"},void 0)]}),void 0),Object(o.jsx)(lm,{},void 0),Object(o.jsxs)(dm,Object(a.__assign)({width:126,paddingLeft:12},{children:[Object(o.jsx)(am.c,{children:n+" \u7ae0 / "+(r+d)+" \u8282"},void 0),Object(o.jsx)(cm,{children:sm[l]},void 0)]}),void 0),Object(o.jsx)(lm,{},void 0),Object(o.jsxs)(dm,Object(a.__assign)({width:85,paddingLeft:12},{children:[Object(o.jsx)(am.c,{children:um(c)},void 0),Object(o.jsx)(cm,{children:"\u9884\u8ba1\u65f6\u957f"},void 0)]}),void 0)]},void 0)}function pm(){var e=Object(a.__read)(pl(),1)[0].detail;return e?Object(o.jsx)(bm,{detail:e},void 0):null}var mm=i("Hz96"),gm=i.n(mm),jm=i("jD4q"),vm=i("+gd7"),fm=d.a.forwardRef((function(e,t){return Object(o.jsx)(Ot.a,Object(a.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M11 2a1 1 0 112 0v4a1 1 0 11-2 0V2zm0 16a1 1 0 112 0v4a1 1 0 11-2 0v-4zM4.223 5.637a1 1 0 011.414-1.414l2.83 2.83a1 1 0 01-1.414 1.414l-2.83-2.83zm11.31 11.31a1 1 0 011.414-1.414l2.83 2.83a1 1 0 01-1.414 1.414l-2.83-2.83zM2 13a1 1 0 110-2h4a1 1 0 110 2H2zm16 0a1 1 0 110-2h4a1 1 0 110 2h-4zM5.637 19.777a1 1 0 01-1.414-1.414l2.83-2.83a1 1 0 011.414 1.414l-2.83 2.83zm11.31-11.31a1 1 0 11-1.414-1.414l2.83-2.83a1 1 0 111.414 1.414l-2.83 2.83z",clipRule:"evenodd"},void 0)}),void 0)})),Om=i("p1C/"),km=i.n(Om),hm=i("Qksx"),xm=i("u1hN"),ym=i("c5Vl");var _m,Sm,Cm,Nm=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={loading:!0,lastUuid:"",hasNext:!0,totalNum:0,answers:[]},i}var i,n,o,r,d,c,l;return Object(a.__extends)(t,e),t.prototype._setLoading=function(e,t){e.loading=t},t.prototype._setAnswers=function(e,t){var i,n,a=t.data,o=t.total;e.answers=Object(Ye.h)(Object(xm.a)(e.answers,a.map((function(e){return Object(Ye.l)(e)})),"uuid")),e.totalNum=o,e.lastUuid=null!==(n=null===(i=km()(e.answers))||void 0===i?void 0:i.uuid)&&void 0!==n?n:"",e.hasNext=e.answers.length<o,e.loading=!1},t.prototype.fetchPickedAnswers=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(ee.a)((function(e){return Object(a.__read)(e,2)[1].hasNext})),Object(hm.b)((function(e){return Object(a.__read)(e,2)[1].lastUuid})),Object(Z.b)((function(e){return e.pipe(Object(L.a)((function(e){var t=Object(a.__read)(e,2),n=t[0],o=t[1].lastUuid;return i.client.watchQuery({query:ym.a,variables:Object(a.__assign)(Object(a.__assign)({},n),{lastUuid:o,size:10})}).pipe(Object(M.a)((function(){return Y.a})),Object(q.a)((function(e){var t=e.data;return i.getActions()._setAnswers(t.leetbookPickedDiscussions)})),Object(E.a)(i.getActions()._setLoading(!0)))})))})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setAnswers",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object,"function"===typeof(d="undefined"!==typeof z.a&&z.a)?d:Object]),Object(a.__metadata)("design:returntype","function"===typeof(c="undefined"!==typeof z.a&&z.a)?c:Object)],t.prototype,"fetchPickedAnswers",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof H.a&&H.a)?l:Object])],t)}(k.a),Fm=i("8SGJ"),wm=i("PbXi"),Im=i("2yfB"),Pm=i("GdEe"),Tm=Object(y.a)("div",{target:"e1dnyiei0"})(Object(Ct.e)(it.a.layer1,Ur.a.level1,{padding:"20px 20px 0px 20px"}),{borderRadius:"8px",paddingTop:"20px"},"label:PickedAnswersContainer;"),Am=Object(y.a)("div",{target:"e1dnyiei1"})({"> div:not(:last-of-type)":{borderBottom:"1px solid "+_.b.DividerSecondary()}},"label:AnswersContainer;"),Rm=Object(y.a)("div",{target:"e1dnyiei2"})(((_m={padding:"20px 0px 5px 0px",position:"relative",zIndex:0})[Fm.b+" > "+Pm.a]={display:"none"},_m[""+wm.b]=((Sm={})[_.c]={background:_.b.BaseGrey2()},Sm),_m[""+Im.c]={borderTop:"none",minHeight:"44px"},_m),"label:AnswerContainer;"),Dm=Object(y.a)("div",{target:"e1dnyiei3"})(Mt.a.paragraph.md,{position:"absolute",zIndex:1,right:"0px",bottom:"20px",width:"calc(100% - 30px)",display:"flex",alignItems:"center",justifyContent:"flex-end","> svg":{width:"16px",height:"16px",marginRight:"4px"}},(function(e){return e.isGrey?{color:_.b.BaseGrey6()}:{}}),"label:PageInfo;"),Bm=Object(y.a)("div",{target:"e1dnyiei4"})({color:_.b.LabelTertiary(),marginRight:"8px"},"label:PlainText;"),zm=Object(y.a)(Et.a,{target:"e1dnyiei5"})(Ct.l,{display:"block",maxWidth:"50%",color:_.b.LabelPrimary()},"label:PageTitle;"),Lm=Object(y.a)("div",{target:"e1dnyiei6"})(Mt.a.paragraph.md,{display:"flex",alignItems:"center",justifyContent:"center",color:_.b.LabelQuaternary(),padding:"20px 0px",svg:{marginRight:"8px"}},"label:LoadingContainer;"),qm=Object(y.a)(Et.a,{target:"e1dnyiei7"})({display:"block",height:"16px",width:"92px",background:_.b.BaseGrey2(),borderRadius:"5px"},"label:HidedContent;"),Em=i("Ti8K"),Mm=i("qTyD"),Hm=i("HOg7"),Vm=l.a.main.paths,Wm=Object(Lt.a)(Object(_i.a)(zm,ut.a.leetbookDetailPickedDiscussItemExposure),ut.a.leetbookDetailPickedDiscussItemClick);function Qm(e){var t=Object(c.k)().bookSlug,i=Object(a.__read)(Object(j.a)(Nm,{scope:t}),2),n=i[0],d=n.loading,l=n.hasNext,s=n.totalNum,u=n.answers,b=i[1].fetchPickedAnswers;Object(Hm.a)(u);var p=Object(r.useCallback)((function(){b({bookSlug:t})}),[b,t]);return Object(o.jsxs)(Tm,{children:[Object(o.jsxs)(Mm.h,{children:["\u5171 ",s," \u4e2a\u7cbe\u9009\u8bc4\u8bba"]},void 0),Object(o.jsx)(Am,{children:Object(o.jsx)(an.a,{children:u.map((function(t){return Object(r.createElement)(Um,Object(a.__assign)({},t,e,{key:t.uuid}))}))},void 0)},void 0),Object(o.jsx)(jm.a,{onLoad:p,needLoad:!d&&l},void 0),d&&Object(o.jsx)($m,Object(a.__assign)({timeout:300},{children:Object(o.jsxs)(Lm,{children:[Object(o.jsx)(fm,{spin:!0,size:18},void 0),"\u6b63\u5728\u52a0\u8f7d\u8bc4\u8bba..."]},void 0)}),void 0)]},void 0)}function $m(e){var t=e.timeout,i=e.children,n=Object(a.__read)(Object(r.useState)(!1),2),o=n[0],d=n[1];return Object(r.useEffect)((function(){var e=window.setTimeout((function(){return d(!0)}),t);return function(){window.clearTimeout(e)}}),[t]),o?i:null}function Um(e){var t=e.isOwned,i=e.pageInfo,n=e.questionAuthorSlug,d=e.renderPageIcon,l=Object(a.__rest)(e,["isOwned","pageInfo","questionAuthorSlug","renderPageIcon"]),s=Object(r.useContext)(D.d).isAdmin,u=Object(c.k)().bookSlug,b=null!==i&&void 0!==i?i:{},p=b.id,m=b.title,g=b.pageType,j=b.isTitleHidden,v=b.isSample,f=t||!!v,O=Object(r.useCallback)((function(e){var t=e.answerId;return Object(Em.a)({bookSlug:u,pageId:p,discussionId:t})}),[u,p]);return Object(o.jsxs)(Rm,{children:[Object(o.jsx)(vm.a,Object(a.__assign)({},l,{questionAuthorSlug:n,questionAuthorSuffix:"\u521b\u4f5c\u4eba",getCopyLink:O,forceExpanded:!0,replyToVisible:!0,disabledOperations:G()([Ye.d.Reaction,Ye.d.Comment,Ye.d.Favor,Ye.d.Share,Ye.d.Reply,Ye.d.FeatureRequest,!s&&Ye.d.AllExtra])}),void 0),Object(o.jsxs)(Dm,Object(a.__assign)({isGrey:!f},{children:[Object(o.jsx)(Bm,{children:"\u53d1\u5e03\u4e8e"},void 0),g&&d(g,f),j?Object(o.jsx)(qm,{to:Vm.leetbook.read({bookSlug:u,pageId:p})},void 0):!!m&&Object(o.jsx)(Wm,Object(a.__assign)({to:Vm.leetbook.read({bookSlug:u,pageId:p})},{children:m}),void 0)]}),void 0)]},void 0)}var Km=Object(y.a)("div",{target:"e18zfzfm0"})(Object(Ct.e)(it.a.layer1,Ur.a.level1,{borderRadius:"8px",paddingBottom:"28px"}),{width:"100%"},"label:Container;"),Gm=Object(y.a)("div",{target:"e18zfzfm1"})({position:"relative",paddingLeft:"16px",paddingRight:"8px",paddingTop:"17px"},"label:ChapterContainer;"),Ym=Object(y.a)("div",{target:"e18zfzfm2"})(Mt.a.heading.h3,((Cm={height:"32px",minWidth:"48px",lineHeight:"32px",padding:"0 7px",borderRadius:"16px",textAlign:"center",color:_.a.fix.grey(0),background:_.a.grey(8),position:"absolute",top:"20px",left:"-12px"})[_.c]={background:_.a.grey(5)},Cm),"label:ChapterIndex;"),Jm=Object(y.a)("div",{target:"e18zfzfm3"})({display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:"32px",paddingRight:"14px",minHeight:"40px"},"label:TitleContainer;"),Xm=Object(y.a)("div",{target:"e18zfzfm4"})(Mt.a.heading.h4,Ct.l,{fontWeight:500},(function(e){return{color:e.unavailable?_.b.BaseGrey6():_.b.LabelPrimary()}}),"label:Title;"),Zm=Object(y.a)(Et.a,{shouldForwardProp:qt.a,target:"e18zfzfm5"})(Ct.l,{display:"flex",alignItems:"center",marginRight:"16px"},"label:MenuTitleContainer;"),eg=Object(y.a)("div",{target:"e18zfzfm6"})({display:"flex",flexDirection:"column",alignItems:"center",width:"30px",marginRight:"-6px"},"label:ProgressContainer;"),tg=Object(y.a)("span",{target:"e18zfzfm7"})(Mt.a.paragraph.sm,En.a.secondary,"label:Progress;"),ig=Object(y.a)("span",{target:"e18zfzfm8"})({display:"inline-block",verticalAlign:"-2px",marginLeft:"3px"},"label:DraftIconContainer;"),ng=Object(y.a)("div",{target:"e18zfzfm9"})(Mn.a.level2((function(e){return{background:e,height:"1px",margin:"8px 16px 5px"}})),"label:Divider;"),ag=l.a.main.paths;function og(){var e=d.a.useContext(D.d).isPremium,t=Object(c.k)().bookSlug,i=Object(a.__read)(Object(j.a)(Q,{scope:t}),1)[0],n=i.pages,l=i.ownedType,s=Object(a.__read)(Object(j.a)(re,{scope:t}),1)[0].pageProgressMap;return Object(r.useEffect)((function(){ut.a.leetbookDetailCatalogExposure()}),[]),Object(o.jsx)(Km,{children:null===n||void 0===n?void 0:n.map((function(i,n){var r,c=re.getPageProgressPercent(i,s,e),u=ei({page:i}),b=!i.isGreyTitle||!i.publishedAt;return Object(o.jsxs)(d.a.Fragment,{children:[0!==n&&Object(o.jsx)(ng,{},void 0),Object(o.jsxs)(Gm,{children:[Object(o.jsx)(Ym,{children:rg(n+1)},void 0),Object(o.jsxs)(Jm,{children:[Object(o.jsx)(gt,Object(a.__assign)({content:b?"":Object(jt.a)(null!==(r=i.publishedAt)&&void 0!==r?r:"")+" \u5f00\u653e\u9605\u8bfb"},{children:Object(o.jsxs)(Zm,Object(a.__assign)({to:ag.leetbook.read({bookSlug:t,pageId:i.id}),onClick:ut.a.leetbookDetailCatalogClick},{children:[Object(o.jsx)(Xm,Object(a.__assign)({unavailable:!Q.isOwned({ownedType:l})&&!i.isSample||i.isGreyTitle},{children:i.title}),void 0),u&&Object(o.jsx)(ig,{children:u},void 0),!b&&Object(o.jsx)(fc,{children:"\u5b9a\u65f6\u89e3\u9501"},void 0)]}),void 0)}),void 0),null!==c&&Object(o.jsxs)(eg,{children:[Object(o.jsx)(Sc,{percent:c,size:20},void 0),Object(o.jsxs)(tg,{children:[Math.floor(c),"%"]},void 0)]},void 0)]},void 0),Object(o.jsx)("div",Object(a.__assign)({onClick:ut.a.leetbookDetailCatalogClick},{children:Object(o.jsx)(ti,{paddingLeft:"12px",bookSlug:t,pageId:i.id},void 0)}),void 0)]},void 0)]},i.id)}))},void 0)}function rg(e){return e.toString().padStart(2,"0")}var dg=function(){var e=Object(a.__read)(pl(),1)[0].detail.summary,t=e.content,i=e.type;return Object(o.jsx)(cb.a,Object(a.__assign)({type:i},{children:t}),void 0)},cg=Object(Lt.a)(Object(_i.a)(jc,ut.a.leetbookDetailPickedDiscussTabExposure),ut.a.leetbookDetailPickedDiscussTabClick);function lg(){var e,t,i,n=Object(a.__read)(pl(),1)[0].detail,d=Object(a.__read)(Object(r.useState)(0),2),l=d[0],s=d[1],u=Re(Pe.catalogInDetailPage),b=Object(c.k)().bookSlug,p=function(e){var t=Object(a.__read)(Object(j.a)(Nm,{scope:e}),2),i=t[0].answers,n=t[1].fetchPickedAnswers;return Object(r.useEffect)((function(){n({bookSlug:e})}),[n,e]),!!i.length}(b),m=gb(b),g=Object(r.useCallback)((function(e){var t=e.currentTarget.dataset.index;s(Number(t))}),[]),v=[{name:"\u6982\u89c8",id:"summary",renderer:Object(o.jsx)(dg,{},void 0),shouldRender:!!(null===(e=null===n||void 0===n?void 0:n.summary)||void 0===e?void 0:e.content.trim())},{name:"\u76ee\u5f55",id:"catalog",renderer:Object(o.jsx)(og,{},void 0),shouldRender:!u},{name:"\u7cbe\u9009\u8bc4\u8bba",id:"discuss",renderer:Object(o.jsx)(Qm,{isOwned:m,questionAuthorSlug:null!==(t=null===n||void 0===n?void 0:n.author.userSlug)&&void 0!==t?t:"",renderPageIcon:sg},void 0),shouldRender:p}];if(!n)return null;var f=v.filter((function(e){return e.shouldRender})),O=null===(i=gm()(f,l))||void 0===i?void 0:i.renderer;return Object(o.jsx)(mc,{children:Object(o.jsxs)(qe,{children:[Object(o.jsx)(gc,{children:f.map((function(e,t){return Object(o.jsx)(ug,Object(a.__assign)({"data-index":t,id:e.id,isActive:l===t,onClick:g},{children:e.name}),e.id)}))},void 0),O&&Object(o.jsx)(vc,{children:O},void 0)]},void 0)},void 0)}function sg(e,t){return Object(o.jsx)(Pt,{page:{pageType:e},colorful:t},void 0)}function ug(e){var t=e.id,i=Object(a.__rest)(e,["id"]);return"discuss"===t?Object(o.jsx)(cg,Object(a.__assign)({},i),void 0):Object(o.jsx)(jc,Object(a.__assign)({},i),void 0)}var bg=d.a.memo((function(e){var t=e.detail,i=e.hots,n=Object(a.__read)(Qb(),1)[0];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(xp,{children:[Object(o.jsx)(ap,{},void 0),Object(o.jsx)(nm,{slug:t.slug},void 0),Object(o.jsx)(pm,{},void 0),Object(o.jsx)(Np,{tags:t.commonTags},void 0),Object(o.jsx)(Ju,{author:t.author},void 0),Object(o.jsx)(lg,{},t.slug),Object(o.jsxs)(yp,{children:[Object(o.jsx)(bb,{descBlocks:t.descBlocks},void 0),Object(o.jsx)(gp,{books:i},void 0),Object(o.jsx)(db,{},void 0)]},void 0)]},void 0),Ta.a.createPortal(Object(o.jsxs)(_p,{children:[Object(o.jsx)(pg,{bookId:t.id,defaultIsFavorite:t.isFavorite},void 0),Object(o.jsx)(mg,{},void 0),n]},void 0),document.body)]},void 0)}));function pg(e){var t=e.bookId,i=e.defaultIsFavorite,n=Object(kp.a)(t,i),r=n.isFavorite,d=n.toggleIsFavorite,c=n.star;return Object(o.jsxs)(Sp,Object(a.__assign)({onClick:d},{children:[c,Object(o.jsx)(Cp,{children:r?"\u5df2\u6536\u85cf":"\u6536\u85cf"},void 0)]}),void 0)}function mg(){var e=Object(r.useCallback)((function(){Jb.a.copy(window.location.href,(function(){return Ya.a.success("\u94fe\u63a5\u590d\u5236\u6210\u529f")}))}),[]);return Object(o.jsxs)(Sp,Object(a.__assign)({onClick:e},{children:[Object(o.jsx)(Op.a,{size:20},void 0),Object(o.jsx)(Cp,{children:"\u5206\u4eab"},void 0)]}),void 0)}var gg=l.a.main.paths;function jg(){return Object(o.jsxs)(o.Fragment,{children:[!Object(s.q)()&&Object(o.jsx)(Ze.a,{styles:Jr},void 0),Object(o.jsx)(Og,{},void 0),Object(o.jsx)(Xr,{children:Object(o.jsx)(ru,{children:Object(o.jsx)(vg,{},void 0)},void 0)},void 0)]},void 0)}function vg(){var e,t=Object(c.k)().bookSlug,i=Object(a.__read)(pl(),2),n=i[0],l=n.detail,u=n.loading,p=i[1],m=Object(a.__read)(uu(),1)[0].hots,g=Object(a.__read)(Object(j.a)(Q,{scope:t}),2),v=g[0].status,f=g[1],O=Object(a.__read)(Object(j.a)(re,{scope:t}),2)[1],k=Object(a.__read)(Object(j.a)(ul),2)[1].setSource,h=Object(r.useContext)(D.d).isSignedIn,x=Object(ju.a)().getUsernameConfigs,y=Object(a.__read)(ou(),1)[0],_=Object(r.useRef)(window.document.body),S=Fl(l),C=S.isModalActive,N=S.needToShowModal,F=S.showModal,w=S.hideModal,I=S.displayInLbDetail;ml(),function(){var e=bl().bookSlug,t=Object(a.__read)(uu(),2)[1];d.a.useEffect((function(){if(e)return t.fetchHot({bookSlug:e}),function(){t.dispose$()}}),[t,e])}(),Object(r.useEffect)((function(){N&&I&&(F(),k("auto"))}),[N,I,F,l,k]),Object(r.useEffect)((function(){t&&h&&(p.openBook({bookSlug:t}),O.setMeta({bookSlug:t}),O.fetchPageProgressList("network-only"))}),[t,h,p,O]);var P="loaded"!==v;return Object(r.useEffect)((function(){t&&P&&f.fetchCatalog({bookSlug:t})}),[t,P,f]),Object(r.useEffect)((function(){(null===l||void 0===l?void 0:l.title)&&ut.a.leetbookDetailPageExposure(null===l||void 0===l?void 0:l.title)}),[null===l||void 0===l?void 0:l.title]),Object(r.useEffect)((function(){var e;x([null===(e=null===l||void 0===l?void 0:l.author)||void 0===e?void 0:e.userSlug])}),[null===(e=null===l||void 0===l?void 0:l.author)||void 0===e?void 0:e.userSlug,x]),Object(r.useMemo)((function(){return!l&&u||!m||"loading"===v||y}),[l,u,m,v,y])?Object(o.jsx)(ed,{children:Object(o.jsx)(b.a,{isBlocking:!0},void 0)},void 0):l?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ue.a,{title:l.title,titleSuffix:We.b,description:"LeetCode\uff08\u529b\u6263\uff09\u7cbe\u9009 LeetBook "+l.title+"\uff0c"+l.description+"\u3002",keywords:Object(a.__spread)(We.a,l.subjects.map((function(e){return e.name})),[l.title,l.author.realName])},void 0),Object(o.jsx)(fg,Object(a.__assign)({imgUrl:l.coverImg},{children:Object(s.q)()?Object(o.jsx)(bg,{detail:l,hots:m||[]},void 0):Object(o.jsxs)(td,{children:[Object(o.jsxs)(ld,{children:[Object(o.jsx)(Wr.a.Item,{children:Object(o.jsx)(Et.a,Object(a.__assign)({to:gg.leetbook.home()},{children:"LeetBook \u5217\u8868"}),void 0)},void 0),Object(o.jsx)(Wr.a.Item,{children:l.title},void 0)]},void 0),Object(o.jsxs)(id,{children:[Object(o.jsxs)(nd,{children:[Object(o.jsx)(ap,{},void 0),Object(o.jsx)(lg,{},t)]},void 0),Object(o.jsxs)(ad,{children:[Object(o.jsx)(nm,{slug:l.slug},void 0),Object(o.jsx)(pm,{},void 0),Object(o.jsx)(ud,{tags:l.commonTags},void 0),Object(o.jsx)(Ju,{author:l.author},void 0),Object(o.jsx)(bb,{descBlocks:l.descBlocks},void 0),Object(o.jsx)(gp,{books:m||[]},void 0),Object(o.jsx)(db,{},void 0)]},void 0)]},void 0)]},void 0)}),void 0),Object(s.q)()?null:Object(o.jsx)(ct.a,{scrollElement:_},void 0),Object(o.jsx)(Cs,{isActive:C,hideModal:w,companyForm:null===l||void 0===l?void 0:l.companyForm},void 0)]},void 0):Object(o.jsx)(ed,{children:Object(o.jsx)(et.a,{type:"img",size:"lg",description:"\u6682\u65e0\u8be5 LeetBook \u6570\u636e"},void 0)},void 0)}function fg(e){var t=e.imgUrl,i=Object(a.__rest)(e,["imgUrl"]),n=Object(a.__read)(Object(Er.a)(!1),2),r=n[0],d=n[1];return Object(Ke.a)((function(){var e=document.createElement("img");return e.addEventListener("load",d),e.src=t,function(){e.removeEventListener("load",d)}}),[t,d]),Object(o.jsx)(Zr,Object(a.__assign)({background:t,loaded:r},i),void 0)}function Og(){var e=Object(c.j)().pathname;return Object(r.useEffect)((function(){document.body.scrollTop=0}),[e]),null}var kg,hg=i("8DVL"),xg=i("+eVu"),yg={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookMyCount"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookOwnedBooks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"leetbookMyFavorites"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbookMyCount {\n  leetbookOwnedBooks {\n    pageInfo {\n      total\n    }\n  }\n  leetbookMyFavorites {\n    pageInfo {\n      total\n    }\n  }\n}"}},operationName:"leetbookMyCount",defName:"leetbookOwnedBooks,leetbookMyFavorites"};!function(e){e.Favorite="Favorite",e.Owned="Owned"}(kg||(kg={}));var _g=function(){var e;return(e={loading:!0})[kg.Favorite]=0,e[kg.Owned]=0,e},Sg=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState=_g(),i}var i,n,o,r,d,c,l,s,u;return Object(a.__extends)(t,e),t.prototype.resetStore=function(){return _g()},t.prototype.disableLoading=function(e){e.loading=!1},t.prototype.minusFavoriteCount=function(e){e[kg.Favorite]--},t.prototype.addFavoriteCount=function(e){e[kg.Favorite]++},t.prototype.setCount=function(e,t){var i,n,a,o;e[kg.Favorite]=null!==(n=null===(i=t.leetbookMyFavorites)||void 0===i?void 0:i.pageInfo.total)&&void 0!==n?n:0,e[kg.Owned]=null!==(o=null===(a=t.leetbookOwnedBooks)||void 0===a?void 0:a.pageInfo.total)&&void 0!==o?o:0},t.prototype.fetchCount=function(e){var t=this;return e.pipe(Object(L.a)((function(){return t.client.query({query:yg,fetchPolicy:"network-only"}).pipe(Object(M.a)((function(){return Y.a})),Object(q.a)((function(e){var i=e.data;return t.getActions().setCount(i)})),Object(Se.a)(t.getActions().disableLoading()),Object(hi.a)(t.dispose$))})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"resetStore",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"disableLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"minusFavoriteCount",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof h.Draft&&h.Draft)?r:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"addFavoriteCount",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof h.Draft&&h.Draft)?d:Object,"function"===typeof(c="undefined"!==typeof W.LeetbookMyCount&&W.LeetbookMyCount.Query)?c:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setCount",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof z.a&&z.a)?l:Object]),Object(a.__metadata)("design:returntype","function"===typeof(s="undefined"!==typeof z.a&&z.a)?s:Object)],t.prototype,"fetchCount",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof H.a&&H.a)?u:Object])],t)}(k.a),Cg=i("y+6c"),Ng=i("CSvv"),Fg=l.a.main.paths,wg=Object(_i.a)(Ng.g,ut.a.leetbookLibraryRowExposure),Ig=d.a.memo((function(e){var t=Object(a.__read)(Object(j.a)(Sg),2)[1],i=t.minusFavoriteCount,n=t.addFavoriteCount,d=e.ownedType===R.Pb.Expired,c=(e.ownedType===R.Pb.Unowned||e.ownedType===R.Pb.Refunded)&&e.visibility===R.u.Removed,l=Object(om.a)(e),s=Object(Cg.a)(e),u=Object(r.useCallback)((function(e){e?n():i()}),[n,i]),b=Object(kp.a)(e.id,e.isFavorite,u),p=b.star,m=b.toggleIsFavorite,g=Object(r.useCallback)((function(e){e.preventDefault(),m()}),[m]);return Object(o.jsxs)(Pg,Object(a.__assign)({bookSlug:e.slug,readable:!c,onClick:ut.a.leetbookLibraryRowClick},{children:[Object(o.jsx)(wg,{coverImg:e.coverImg,ownedType:e.ownedType,productInfo:e.productInfo,ownedStatusTagVisible:!0,coverWidth:90,coverHeight:120},void 0),Object(o.jsxs)(Ng.d,{children:[Object(o.jsxs)(Ng.i,{children:[Object(o.jsxs)(Ng.k,{children:[Object(o.jsx)(Ng.j,Object(a.__assign)({isExpired:d},{children:e.title}),void 0),s&&Object(o.jsx)(Ng.e,{children:"\u6709\u66f4\u65b0"},void 0)]},void 0),Object(o.jsx)(Ng.c,Object(a.__assign)({isExpired:d},{children:e.description}),void 0)]},void 0),Object(o.jsxs)("div",{children:[d&&Object(o.jsx)(Ag,{bookId:e.id},void 0),null!==l&&Object(o.jsx)(xg.a,{barColor:d?_.a.grey(6):void 0,width:"320px",percent:l,percentVisible:!0},void 0)]},void 0)]},void 0),Object(o.jsxs)(Ng.a,{children:[Object(o.jsx)("div",Object(a.__assign)({onClick:g},{children:p}),void 0),!!e.progress&&Object(o.jsx)(Dg,{bookSlug:e.slug,readable:!c,isExpired:d},void 0)]},void 0)]}),void 0)}));function Pg(e){var t=e.bookSlug,i=e.readable,n=e.onClick,d=Object(a.__rest)(e,["bookSlug","readable","onClick"]),c=Object(r.useCallback)((function(){null===n||void 0===n||n(),Ya.a.danger("\u5185\u5bb9\u5b58\u5728\u98ce\u9669\u4fe1\u606f\uff0c\u6682\u65f6\u65e0\u6cd5\u9605\u8bfb")}),[n]);return i?Object(o.jsx)(Ng.f,Object(a.__assign)({to:Fg.leetbook.detail({bookSlug:t}),onClick:n},d),void 0):Object(o.jsx)(Ng.b,Object(a.__assign)({onClick:c},d),void 0)}var Tg=Object(Lt.a)(Object(_i.a)(Ng.h,ut.a.leetbookLibraryPremiumButtonExposure),ut.a.leetbookLibraryPremiumButtonClick);function Ag(e){var t=e.bookId,i=Object(Ob.d)({leetbookId:t}),n=i.loading,d=i.getTokenAndGotoPremiumPay,c=Object(r.useCallback)((function(e){e.preventDefault(),d()}),[d]);return Object(o.jsx)(Tg,Object(a.__assign)({kind:"text",size:"sm",prefixIcon:Object(o.jsx)(vb.a,{},void 0),loading:n,onClick:c},{children:"\u5347\u7ea7 Plus \u4f1a\u5458, \u7ee7\u7eed\u514d\u8d39\u8bfb"}),void 0)}var Rg=Object(Lt.a)(Object(_i.a)(S.a,ut.a.leetbookLibraryContinueReadingButtonExposure),ut.a.leetbookLibraryContinueReadingButtonClick);function Dg(e){var t=e.bookSlug,i=e.readable,n=e.isExpired,d=Object(fb.a)(t),c=d.loading,l=d.continueReading,s=Object(r.useCallback)((function(e){i&&(e.preventDefault(),l())}),[i,l]),u=Object(r.useCallback)((function(e){n&&e.preventDefault()}),[n]);return Object(o.jsx)("div",Object(a.__assign)({onClick:u},{children:Object(o.jsx)(Rg,Object(a.__assign)({size:"sm",loading:c,disabled:n,onClick:s},{children:"\u7ee7\u7eed\u9605\u8bfb"}),void 0)}),void 0)}var Bg=Object(y.a)("div",{target:"e1qroc680"})(Kr,{flex:"1 1 auto",minHeight:"776px",padding:"32px 32px 48px 32px",display:"flex",flexDirection:"column",alignItems:"center"},"label:Container;"),zg=Object(y.a)("div",{target:"e1qroc681"})({width:"100%",height:"200px",margin:"92px 0px 36px 0px"},"label:PlaceholderContainer;"),Lg=l.a.main.paths;function qg(){var e=Object(a.__read)(Object(j.a)(hg.a),2),t=e[0],i=e[1],n=Object(c.k)().tab,d=function(e,t){switch(t){case wl.b.Favorite:return e.fetchFavorites;case wl.b.History:return e.fetchHistory;default:return e.fetchOwnedBooks}}(i,n);return Object(r.useEffect)((function(){return d(),function(){i.dispose$(),i.resetStore()}}),[d,i]),t.loading||t.books.length?Object(o.jsxs)(Bg,{children:[t.books.map((function(e){return Object(r.createElement)(Ig,Object(a.__assign)({},e,{key:e.id}))})),t.loading&&Object(o.jsx)(b.a,{height:t.books.length?"20px":void 0},void 0),t.hasNext&&!t.loading&&Object(o.jsx)(S.a,Object(a.__assign)({kind:"transparent",size:"xs",onClick:d},{children:"\u663e\u793a\u66f4\u591a"}),void 0)]},void 0):Object(o.jsxs)(Bg,{children:[Object(o.jsx)(zg,{children:Object(o.jsx)(et.a,{type:"img",size:"lg",description:"\u6682\u65e0\u8bb0\u5f55"},void 0)},void 0),Object(o.jsx)(Et.a,Object(a.__assign)({to:Lg.leetbook.home()},{children:Object(o.jsx)(S.a,Object(a.__assign)({size:"sm"},{children:"\u8fd4\u56de LeetBook \u5217\u8868"}),void 0)}),void 0)]},void 0)}var Eg=i("tV9o"),Mg=i("0FcP"),Hg=Object(y.a)("div",{target:"eq4rm7s0"})(Kr,{flex:"0 0 auto",width:"296px",height:"220px",padding:"16px 8px 8px 8px",marginRight:"16px",display:"flex",flexDirection:"column"},"label:Container;"),Vg=Object(y.a)("h1",{target:"eq4rm7s1"})(Mt.a.heading.h4,En.a.title,{flex:"0 0 auto",margin:"0 0 16px 16px"},"label:Title;"),Wg=Object(y.a)(Et.a,{shouldForwardProp:qt.a,target:"eq4rm7s2"})((function(e){var t,i=e.selected;return{flex:"1 1 auto",display:"flex",alignItems:"center",width:"100%",padding:"0 16px",borderRadius:"3px",background:i?_.a.primary(0):"transparent",transition:"background .3s","> div:first-of-type":(t={background:i?_.a.primary(5):_.a.grey(3),color:i?_.a.grey(0):_.a.grey(6),transition:"background .3s, color .3s"},t[_.c]={color:i?_.a.grey(9):_.a.grey(6),background:i?_.a.primary(5):_.a.grey(4)},t)}}),"label:Item;"),Qg=Object(y.a)("div",{target:"eq4rm7s3"})({width:"28px",height:"28px",borderRadius:"100%",display:"flex",alignItems:"center",justifyContent:"center"},"label:IconContainer;"),$g=Object(y.a)("h2",{target:"eq4rm7s4"})(Mt.a.paragraph.md,En.a.title,{marginLeft:"12px"},"label:ItemTitle;"),Ug=Object(y.a)("span",{target:"eq4rm7s5"})(Mt.a.paragraph.sm,En.a.title,{marginLeft:"auto"},"label:Count;"),Kg=l.a.main.paths,Gg=[{title:"\u6211\u7684 LeetBook",Icon:Eg.a,countKey:kg.Owned,path:Kg.leetbook.library({})},{title:"\u6211\u7684\u6536\u85cf",Icon:$b.a,countKey:kg.Favorite,path:Kg.leetbook.library({tab:wl.b.Favorite})},{title:"\u6d4f\u89c8\u8bb0\u5f55",Icon:Mg.a,path:Kg.leetbook.library({tab:wl.b.History})}],Yg=Object(Lt.a)(Wg,(function(e){e["data-title"]&&ut.a.leetbookLibraryMenuClick(e["data-title"])}));function Jg(){var e=Object(a.__read)(Object(j.a)(Sg),2),t=e[0],i=e[1].fetchCount,n=Object(c.j)().pathname;return Object(r.useEffect)((function(){i()}),[i]),Object(r.useEffect)((function(){Gg.forEach((function(e){var t=e.title;ut.a.leetbookLibraryMenuExposure(t)}))}),[]),Object(o.jsxs)(Hg,{children:[Object(o.jsx)(Vg,{children:"\u6211\u7684\u4e66\u67b6"},void 0),Gg.map((function(e){var i=e.title,r=e.Icon,d=e.countKey,c=e.path;return Object(o.jsxs)(Yg,Object(a.__assign)({"data-title":i,to:c,selected:c===n},{children:[Object(o.jsx)(Qg,{children:Object(o.jsx)(r,{size:16},void 0)},void 0),Object(o.jsx)($g,{children:i},void 0),d&&!t.loading&&Object(o.jsx)(Ug,{children:Object(pb.a)(t[d])},void 0)]}),c)}))]},void 0)}var Xg,Zg=Object(Ze.b)(Gr,{minWidth:"1075px"},"label:detailDesktopWidth;"),ej=Object(Ze.b)(Xg||(Xg=Object(a.__makeTemplateObject)(["\n  #lc-home {\n    min-width: 1075px;\n  }\n\n  #lc-footer > div {\n    ",";\n  }\n\n  #lc-header > nav {\n    ",";\n  }\n"],["\n  #lc-home {\n    min-width: 1075px;\n  }\n\n  #lc-footer > div {\n    ",";\n  }\n\n  #lc-header > nav {\n    ",";\n  }\n"])),Zg,Zg),tj=Object(y.a)("div",{target:"e1iwgl4l0"})(Zg,{width:"100%",flex:"1 1 auto",display:"flex",margin:Object(s.q)()?"72px 24px":"24px auto 82px auto",padding:"0 75px"},"label:Container;"),ij=l.a.main.paths;var nj,aj,oj,rj,dj,cj,lj=Object($e.a)((function(){var e=Object(c.k)().tab,t=void 0===e||Object.values(wl.b).includes(e);return Object(r.useEffect)((function(){ut.a.leetbookLibraryPageExposure()}),[]),t?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ze.a,{styles:ej},void 0),Object(o.jsx)(Ue.a,{title:"\u6211\u7684\u4e66\u67b6"},void 0),Object(o.jsxs)(tj,{children:[Object(o.jsx)(Jg,{},void 0),Object(o.jsx)(qg,{},void 0)]},void 0)]},void 0):Object(o.jsx)(c.b,{to:ij.leetbook.library({})},void 0)})),sj=i("/WF+"),uj=i("+Sm+"),bj=i.n(uj),pj=i("7Ipj"),mj=i.n(pj),gj=i("zOOO"),jj=i.n(gj),vj=i("yTug"),fj=i.n(vj),Oj=i("Ybj7"),kj=i.n(Oj),hj=i("h80M"),xj=i.n(hj),yj=i("zSqU"),_j=i.n(yj),Sj=i("0o2f"),Cj=i.n(Sj),Nj=i("WQu4"),Fj=i.n(Nj),wj=i("OVfV"),Ij=i.n(wj),Pj=i("p0kA"),Tj=i.n(Pj),Aj=i("sRRg"),Rj=i.n(Aj),Dj=i("UcSj"),Bj=i.n(Dj),zj=i("6axe"),Lj=i.n(zj),qj=i("A0yd"),Ej=i.n(qj),Mj=i("Zpc7"),Hj=i.n(Mj),Vj=i("7YR0"),Wj=i.n(Vj),Qj=i("XHAk"),$j=i.n(Qj),Uj=i("SX05"),Kj=i.n(Uj),Gj=i("tr1L"),Yj=i.n(Gj),Jj=i("FwEL"),Xj=i.n(Jj),Zj=i("7aLQ"),ev=i.n(Zj),tv=i("yRbu"),iv=i.n(tv),nv=Object(y.a)("div",{target:"egb7yaz0"})(((nj={minHeight:"280px",backgroundSize:"contain",backgroundImage:'url("'+iv.a+'")'})[_.c]={backgroundImage:'url("'+ev.a+'")'},nj),"label:Container;"),av=Object(y.a)("div",{target:"egb7yaz1"})({display:"flex",margin:"0 auto",maxWidth:"1174px",minWidth:"390px",height:"280px",position:"relative"},"label:Content;"),ov=Object(y.a)("div",{target:"egb7yaz2"})(((aj={position:"absolute",top:"24px",right:"0",display:"flex",justifyContent:"center",alignItems:"center",height:"32px",width:"100px",cursor:"pointer",borderRadius:"8px",backgroundColor:"#F7F7F7","&:hover":{backgroundColor:"#FFFFFF"}})[_.c]={backgroundColor:"#1F1F1F","&:hover":{backgroundColor:"#444444"}},aj),"label:RecentReadFold;"),rv=Object(y.a)("div",{target:"egb7yaz3"})({display:"flex",height:"100%",minWidth:"240px",flexDirection:"column",justifyContent:"center",fontFamily:"PingFang SC",h2:{fontSize:"40px",color:_.b.lc_text_primary(),lineHeight:"48px",marginBottom:"16px"},span:{fontSize:"20px",color:_.b.lc_text_secondary(),lineHeight:"28px"}},"label:TitleContent;"),dv=Object(y.a)("div",{target:"egb7yaz4"})({".ant-popover":{backdropFilter:"blur(26px)",borderRadius:"8px",paddingLeft:"0px",fontSize:"12px"},".ant-popover-arrow":{display:"none !important"},".ant-popover-inner":{background:_.b.Overlay6(),borderRadius:"8px",padding:"12px 16px",height:"68px",width:"281px"},".ant-popover-inner-content":{padding:"unset"},".ant-popover-content":{borderRadius:"8px"}},"label:PopoverContainer;"),cv=Object(y.a)("div",{target:"egb7yaz5"})({display:"flex",marginLeft:"24px",gap:"24px"},"label:PathMainContainer;"),lv=Object(y.a)("div",{target:"egb7yaz6"})({display:"flex",flexDirection:"column",flexShrink:"0",paddingTop:"96px",gap:"14px","#item1-1::after":{content:'""',position:"absolute",top:"12px",right:"-8px",width:"44px",height:"46px",border:"1px dashed",borderTop:"0",borderLeft:"0",borderRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item1-2::after":{content:'""',position:"absolute",top:"-50px",right:"-18px",width:"10px",height:"0",borderTop:"1px dashed",borderColor:_.b.lc_icon_tertiary()},"#item2-1::before":{content:'""',position:"absolute",top:"12px",left:"-8px",width:"10px",height:"46px",border:"1px dashed",borderTop:"0",borderBottom:"0",borderRight:"0",borderRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item2-1::after":{content:'""',position:"absolute",top:"12px",right:"-51px",width:"46px",height:"0",borderTop:"1px dashed",borderColor:_.b.lc_icon_tertiary()},"#item2-2::after":{content:'""',position:"absolute",top:"12px",right:"-70px",width:"68px",height:"0",borderTop:"1px dashed",borderColor:_.b.lc_icon_tertiary()},"#item2-3::after":{content:'""',position:"absolute",top:"12px",right:"-28px",width:"28px",height:"0",borderTop:"1px dashed",borderColor:_.b.lc_icon_tertiary()},"#item2-4::after":{content:'""',position:"absolute",bottom:"12px",right:"-14px",width:"12px",height:"84px",border:"1px dashed",borderLeft:"0",borderTop:"0",borderBottomRightRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item3-1::after":{content:'""',position:"absolute",top:"12px",right:"-25px",width:"25px",height:"0",borderTop:"1px dashed",borderColor:_.b.lc_icon_tertiary()},"#item4-1::before":{content:'""',position:"absolute",top:"12px",left:"-14px",width:"12px",height:"42px",border:"1px dashed",borderBottom:"0",borderRight:"0",borderTopLeftRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item4-2::after":{content:'""',position:"absolute",top:"12px",right:"-12px",width:"12px",height:"23px",border:"1px dashed",borderLeft:"0",borderBottom:"0",borderTopRightRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item4-3::after":{content:'""',position:"absolute",bottom:"12px",right:"-48px",width:"44px",height:"23px",border:"1px dashed",borderLeft:"0",borderTop:"0",borderBottomRightRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item4-4::after":{content:'""',position:"absolute",top:"55px",right:"-11px",width:"45px",height:"23px",border:"1px dashed",borderLeft:"0",borderTop:"0",borderBottomRightRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item5-1::before":{content:'""',position:"absolute",top:"12px",left:"-16px",width:"18px",height:"43px",border:"1px dashed",borderBottom:"0",borderRight:"0",borderTopLeftRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item5-2::after":{content:'""',position:"absolute",top:"12px",left:"-15px",width:"14px",height:"0",borderTop:"1px dashed",borderColor:_.b.lc_icon_tertiary()},"#item6-1::before":{content:'""',position:"absolute",top:"12px",left:"-15px",width:"14px",height:"89px",border:"1px dashed",borderRight:"0",borderRadius:"5px",borderColor:_.b.lc_icon_tertiary()},"#item6-2::before":{content:'""',position:"absolute",top:"12px",left:"-28px",width:"28px",height:"0",borderTop:"1px dashed",borderColor:_.b.lc_icon_tertiary()}},"label:PathColComtainer;"),sv=i("excc"),uv=(i("FLAH"),i("GFTg")),bv=Object(y.a)("a",{target:"e1gltwzz0"})(((oj={display:"flex",alignItems:"center",justifyContent:"center",padding:"6px 11px",border:"1px solid",borderColor:_.b.lc_icon_tertiary(),borderRadius:"5px",height:"28px",position:"relative",color:_.b.lc_text_tertiary(),cursor:"pointer",alignSelf:"flex-start",fontSize:"10px",backgroundColor:_.b.lc_layer_02()})[_.c]={backgroundColor:"rgba(0, 0, 0, 0.2)"},oj["&:hover"]=((rj={color:_.b.lc_text_primary(),backgroundColor:"#FFFFFF"})[_.c]={backgroundColor:"#525252"},rj.borderColor=_.b.lc_support_success(),rj[".border-dot"]={backgroundColor:_.b.lc_support_success()},rj),oj),"label:PathItemContainer;"),pv=Object(y.a)("div",{target:"e1gltwzz1"})({width:"10.5px",height:"10.5px",borderRadius:"100%",marginRight:"5px"},"label:Dot;"),mv=Object(y.a)("div",{target:"e1gltwzz2"})({display:"flex",img:{width:"34px",height:"46px",marginRight:"8px"},div:{color:_.b.lc_text_inverse(),fontWeight:400,lineHeight:"16px"}},"label:PopoverContent;"),gv=Object(y.a)("div",{target:"e1gltwzz3"})(((dj={position:"absolute",top:"9px",width:"8px",height:"8px",border:"1px solid #EFEFEF",borderRadius:"100%",backgroundColor:_.b.lc_icon_tertiary()})[_.c]={borderColor:"#2A2A2A"},dj),"label:BorderDot;"),jv=Object(y.a)(gv,{target:"e1gltwzz4"})({left:"-4.5px"},"label:BorderDotLeft;"),vv=Object(y.a)(gv,{target:"e1gltwzz5"})({right:"-4.5px"},"label:BorderDotRight;"),fv=function(e){var t=e.img,i=e.title,n=e.description,r=e.bgColor,d=e.link,c=e.id,l=Object(o.jsxs)(mv,{children:[Object(o.jsx)(uv.a,{src:t},void 0),Object(o.jsx)("div",{children:n},void 0)]},void 0);return Object(o.jsx)(sv.a,Object(a.__assign)({content:l,align:{offset:[10,0]},getPopupContainer:function(){return document.querySelector(".path-popover")},placement:"rightTop"},{children:Object(o.jsxs)(bv,Object(a.__assign)({href:d,id:c,onClick:function(){return ut.a.leetbookPathItemClick(d)}},{children:[Object(o.jsx)(pv,{style:{background:r}},void 0),Object(o.jsx)("span",{children:i},void 0),Object(o.jsx)(jv,{className:"border-dot"},void 0),Object(o.jsx)(vv,{className:"border-dot"},void 0)]}),void 0)}),void 0)},Ov=function(e){var t=e.fold;return Object(o.jsxs)(cv,Object(a.__assign)({style:{pointerEvents:t?"auto":"none"}},{children:[Object(o.jsxs)(lv,{children:[Object(o.jsx)(fv,{img:mj.a,description:"\u6570\u7ec4\u548c\u5b57\u7b26\u4e32\u662f\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u57fa\u672c\u6a21\u5757\uff0c\u5927\u591a\u6570\u9762\u8bd5\u95ee\u9898\u90fd\u5c5e\u4e8e\u8fd9\u4e2a\u8303\u7574\u3002",link:"https://leetcode.cn/leetbook/detail/array-and-string/",title:"\u6570\u7ec4\u548c\u5b57\u7b26\u4e32",bgColor:"linear-gradient(180deg, #FECC7B 0%, #EC6B7D 100%)",id:"item1-1"},void 0),Object(o.jsx)(fv,{img:Lj.a,description:"\u54c8\u5e0c\u8868\u662f\u4e00\u79cd\u652f\u6301\u5feb\u901f\u63d2\u5165\u548c\u641c\u7d22\u7684\u6570\u636e\u7ed3\u6784\u3002",link:"https://leetcode.cn/leetbook/detail/lc-class-hash/",title:"\u54c8\u5e0c\u8868",bgColor:"linear-gradient(180deg, #559BF3 0%, #005BE3 100%)"},void 0),Object(o.jsx)(fv,{img:bj.a,description:"\u5fc5\u5907\u7b97\u6cd5\u9898\u4ee3\u7801\u6a21\u677f\u3001\u6838\u5fc3\u7b97\u6cd5\u53ca\u6570\u636e\u7ed3\u6784\u77e5\u8bc6\u70b9\uff0c\u9ad8\u6548\u5907\u6218\u6280\u672f\u9762\u8bd5\u3002",link:"https://leetcode.cn/leetbook/detail/arithmetic-interview-cheat-sheet/",title:"\u7b97\u6cd5\u9762\u8bd5\u5c0f\u6284",bgColor:"linear-gradient(180deg, #B2E2FF 0%, #3B50FF 100%)",id:"item1-2"},void 0)]},void 0),Object(o.jsxs)(lv,{children:[Object(o.jsx)(fv,{img:Xj.a,description:"\u56f4\u7ed5\u5341\u79cd\u7ecf\u5178\u6392\u5e8f\u7b97\u6cd5\u8fdb\u884c\u8bb2\u89e3\u548c\u7ec3\u4e60\uff0c\u91cd\u70b9\u4ecb\u7ecd\u5404\u7c7b\u6392\u5e8f\u7b97\u6cd5\u7684\u4f18\u5316\u548c\u6f14\u8fdb\u5386\u53f2\u3002",link:"https://leetcode.cn/leetbook/detail/sort-algorithms/",title:"\u6392\u5e8f\u7b97\u6cd5",bgColor:"linear-gradient(180deg, #8E7BFF 0%, #3F23E3 100%)",id:"item2-1"},void 0),Object(o.jsx)(fv,{img:Ej.a,description:"\u94fe\u8868\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3\u52a8\u6001\u6570\u91cf\u7684\u6570\u636e\u5b58\u50a8\uff0c\u6709\u6548\u7ba1\u7406\u4e0d\u5b9a\u91cf\u7684\u6570\u636e\uff0c\u66f4\u597d\u5730\u652f\u6301\u7a0b\u5e8f\u7684\u8fd0\u884c\u548c\u64cd\u4f5c\u3002",link:"https://leetcode.cn/leetbook/detail/lc-class-lian-biao/",title:"\u94fe\u8868",bgColor:"linear-gradient(180deg, #FF7CC1 0%, #7147C8 100%)",id:"item2-2"},void 0),Object(o.jsx)(fv,{img:xj.a,description:"\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u662f\u4e00\u79cd\u5728\u56de\u9000\u4e4b\u524d\u5c3d\u53ef\u80fd\u6df1\u5165\u6bcf\u4e2a\u5206\u652f\u7684\u904d\u5386\u7b97\u6cd5\uff0c\u7528\u4e8e\u904d\u5386\u6216\u641c\u7d22\u6811\u6216\u56fe\u3002",link:"https://leetcode.cn/leetbook/detail/dfs/",title:"\u6df1\u5ea6\u4f18\u5148\u641c\u7d22",bgColor:"linear-gradient(180deg, #F7A12C 0%, #BF4C20 100%)",id:"item2-3"},void 0),Object(o.jsx)(fv,{img:jj.a,description:"\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\u662f\u4e00\u79cd\u5148\u8bbf\u95ee\u6240\u6709\u540c\u5c42\u7ed3\u70b9\uff0c\u518d\u7ee7\u7eed\u6df1\u5165\u4e0b\u4e00\u5c42\u7684\u904d\u5386\u7b97\u6cd5\uff0c\u7528\u4e8e\u5f97\u5230\u65e0\u6743\u56fe\u7684\u6700\u77ed\u8def\u5f84\u3002",link:"https://leetcode.cn/leetbook/detail/bfs/",title:"\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22",bgColor:"linear-gradient(180deg, #B0D81D 0%, #487A08 100%)",id:"item2-4"},void 0)]},void 0),Object(o.jsxs)(lv,{children:[Object(o.jsx)(fv,{img:fj.a,description:"\u4e8c\u5206\u67e5\u627e\u4e5f\u79f0\u6298\u534a\u67e5\u627e\uff0c\u5b83\u662f\u4e00\u79cd\u6548\u7387\u8f83\u9ad8\u7684\u67e5\u627e\u65b9\u6cd5\u3002",link:"https://leetcode.cn/leetbook/detail/binary-search/",title:"\u4e8c\u5206\u67e5\u627e",bgColor:"linear-gradient(180deg, #02B7EC 0%, #79C262 100%)",id:"item3-1"},void 0),Object(o.jsx)(fv,{img:Wj.a,description:"\u6811\u662f\u5e38\u89c1\u7684\u6570\u636e\u4fe1\u606f\u7ec4\u7ec7\u7ed3\u6784\u3002\u4e86\u89e3\u6811\u7684\u57fa\u672c\u6982\u5ff5\u3001\u5e38\u89c1\u95ee\u9898\u548c\u6280\u5de7\uff0c\u6709\u52a9\u4e8e\u89e3\u51b3\u5bf9\u6811\u4e2d\u4fe1\u606f\u8fdb\u884c\u7edf\u8ba1\u7684\u9700\u6c42\u3002",link:"https://leetcode.cn/leetbook/detail/pu-tong-shu/",title:"\u666e\u901a\u6811",bgColor:"linear-gradient(180deg, #BFEF88 0%, #2CAD71 100%)"},void 0),Object(o.jsx)(fv,{img:Ij.a,description:"\u56f4\u7ed5\u56fe\u7ed3\u6784\u8fdb\u884c\u77e5\u8bc6\u70b9\u4e0e\u9ad8\u9891\u4f8b\u9898\u7684\u8bb2\u89e3\uff0c\u6db5\u76d6\u4e86\u56fe\u7684\u76f8\u5173\u6982\u5ff5\u548c\u9762\u8bd5\u8003\u70b9\u3002",link:"https://leetcode.cn/leetbook/detail/graph/",title:"\u56fe",bgColor:"linear-gradient(180deg, #47ECC7 0%, #11AFA9 100%)"},void 0)]},void 0),Object(o.jsxs)(lv,Object(a.__assign)({style:{marginTop:"-42px"}},{children:[Object(o.jsx)(fv,{img:$j.a,description:"\u524d\u7f00\u548c\u662f\u4e00\u79cd\u91cd\u8981\u7684\u9884\u5904\u7406\uff0c\u80fd\u591f\u964d\u4f4e\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u3002",link:"https://leetcode.cn/leetbook/detail/qian-zhui-he/",title:"\u524d\u7f00\u548c",bgColor:"linear-gradient(180deg, #33CDFD 0%, #2755D7 100%)",id:"item4-1"},void 0),Object(o.jsx)(fv,{img:Yj.a,description:"\u6ed1\u52a8\u7a97\u53e3\u4e0e\u53cc\u6307\u9488\u662f\u57fa\u4e8e\u66b4\u529b\u89e3\u6cd5\u7684\u4f18\u5316\uff0c\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u5230\u7ebf\u6027\uff0c\u89e3\u9898\u65f6\u7684\u5173\u952e\u662f\u5b9a\u4e49\u597d\u5faa\u73af\u4e0d\u53d8\u91cf\u3002",link:"https://leetcode.cn/leetbook/detail/sliding-window-and-two-pointers/",title:"\u6ed1\u52a8\u7a97\u53e3\u548c\u53cc\u6307\u9488",bgColor:"linear-gradient(180deg, #96DAF1 0%, #53ABD6 100%)",id:"item4-4"},void 0),Object(o.jsx)(fv,{img:Hj.a,description:"\u6808\u4e00\u822c\u9002\u7528\u4e8e\u7f16\u7a0b\u8bed\u8a00\u7684\u5185\u5bb9\u7ba1\u7406\u3001\u51fd\u6570\u8c03\u7528\u65f6\u4e0a\u4e0b\u6587\u7ba1\u7406\uff1b\u961f\u5217\u5219\u9002\u7528\u7ebf\u7a0b\u4efb\u52a1\u8c03\u5ea6\u3001\u6392\u961f\u7cfb\u7edf\u3002",link:"https://leetcode.cn/leetbook/detail/lc-class-queue-stack/",title:"\u961f\u5217\u4e0e\u6808",bgColor:"linear-gradient(180deg, #5FA4FF 0%, #2C5FCA 100%)",id:"item4-2"},void 0),Object(o.jsx)(fv,{img:Rj.a,description:"\u638c\u63e1\u5806\u7684\u57fa\u672c\u77e5\u8bc6\u4e0e\u64cd\u4f5c\u7684\u76f8\u5173\u539f\u7406\uff0c\u8fd0\u7528\u5806\u89e3\u51b3\u5b9e\u9645\u95ee\u9898\u3002",link:"https://leetcode.cn/leetbook/detail/heap/",title:"\u5806",bgColor:"linear-gradient(180deg, #EF79B5 0%, #992D49 100%)",id:"item4-3"},void 0)]}),void 0),Object(o.jsxs)(lv,{children:[Object(o.jsx)(fv,{img:Kj.a,description:"\u9012\u5f52\u662f\u7a0b\u5e8f\u8c03\u7528\u81ea\u8eab\u7684\u7f16\u7a0b\u6280\u5de7\uff0c\u5b83\u4e0e\u6808\u3001\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u3001\u5206\u6cbb\u7b97\u6cd5\u90fd\u6709\u7740\u5bc6\u5207\u7684\u8054\u7cfb\u3002",link:"https://leetcode.cn/leetbook/detail/recursion-and-divide-and-conquer/",title:"\u9012\u5f52\u548c\u5206\u6cbb",bgColor:"linear-gradient(180deg, #5B56F9 0%, #9C4CDD 99.99%, #7C34B5 100%)",id:"item5-1"},void 0),Object(o.jsx)(fv,{img:Tj.a,description:"\u8d2a\u5fc3\u7b97\u6cd5\u662f\u6307\u5728\u6c42\u89e3\u95ee\u9898\u65f6\uff0c\u603b\u662f\u505a\u51fa\u5f53\u524d\u770b\u6765\u6700\u597d\u7684\u9009\u62e9\u3002",link:"https://leetcode.cn/leetbook/detail/greedy/",title:"\u8d2a\u5fc3\u7b97\u6cd5",bgColor:"linear-gradient(180deg, #FF8F4C 0%, #CE5A57 100%)",id:"item5-2"},void 0),Object(o.jsx)(fv,{img:Bj.a,description:"\u4ece\u52a8\u6001\u89c4\u5212\u4e2d\u7684\u57fa\u7840\u6a21\u578b\u5f00\u59cb\uff0c\u7ed3\u5408\u7ecf\u5178\u4f8b\u9898\uff0c\u6df1\u5165\u6d45\u51fa\u8bb2\u89e3\u52a8\u6001\u89c4\u5212\u76f8\u5173\u57fa\u7840\u77e5\u8bc6\u3002",link:"https://leetcode.cn/leetbook/detail/lc-class-dynamic-programming-basic/",title:"\u52a8\u6001\u89c4\u5212\u57fa\u7840\u6a21\u578b",bgColor:"linear-gradient(180deg, #FFDE59 0%, #F5902A 100%)"},void 0)]},void 0),Object(o.jsxs)(lv,{children:[Object(o.jsx)(fv,{img:kj.a,description:"\u5728\u4e00\u4e9b\u7b97\u6cd5\u4e2d\uff0c\u5de7\u5999\u4f7f\u7528\u4f4d\u8fd0\u7b97\u53ef\u4ee5\u5927\u91cf\u51cf\u5c11\u8fd0\u884c\u5f00\u9500\uff1b\u800c\u7b97\u6cd5\u79bb\u4e0d\u5f00\u6570\u5b66\uff0c\u6709\u4e9b\u7b97\u6cd5\u9700\u8981\u6570\u5b66\u8bc1\u660e\u5176\u6b63\u786e\u6027\u3002",link:"https://leetcode.cn/leetbook/detail/bit-manipulation-and-math/",title:"\u4f4d\u8fd0\u7b97\u548c\u6570\u5b66",bgColor:"linear-gradient(180deg, #4A99FD 0%, #438DFF 100%)"},void 0),Object(o.jsx)(fv,{img:_j.a,description:"\u638c\u63e1\u8fd0\u7528\u52a8\u6001\u89c4\u5212\u89e3\u51b3\u95ee\u9898\u7684\u601d\u8def\uff0c\u80fd\u591f\u8fd0\u7528\u52a8\u6001\u89c4\u5212\u89e3\u51b3\u7ebf\u6027\u3001\u524d\u7f00\u548c\u3001\u533a\u95f4\u8fd9\u4e09\u7c7b\u95ee\u9898\u3002",link:"https://leetcode.cn/leetbook/detail/dynamic-programming-1-plus/",title:"\u7ebf\u6027 & \u533a\u95f4\u95ee\u9898",bgColor:"linear-gradient(180deg, #3BE28C 0%, #1F9E71 100%)",id:"item6-1"},void 0),Object(o.jsx)(fv,{img:Cj.a,description:"\u4ecb\u7ecd\u80cc\u5305\u3001\u72b6\u6001\u538b\u7f29\u3001\u8ba1\u6570\u95ee\u9898\u3001\u77e9\u9635\u5feb\u901f\u5e42\u4ee5\u53ca\u6570\u4f4d\u52a8\u6001\u89c4\u5212\u95ee\u9898\u7684\u57fa\u672c\u6982\u5ff5\u548c\u89e3\u9898\u601d\u8def\u3002",link:"https://leetcode.cn/leetbook/detail/dynamic-programming-2-plus/",title:"\u72b6\u538b\u3001\u8ba1\u6570 & \u6570\u4f4d\u95ee\u9898",bgColor:"linear-gradient(180deg, #657AE6 0%, #5E42A2 100%)",id:"item6-2"},void 0),Object(o.jsx)(fv,{img:Fj.a,description:"\u8bb2\u89e3\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\u53d8\u79cd\u95ee\u9898\uff0c\u68cb\u76d8\u3001\u6811\u5f62\u3001\u56fe\u4e0a\u3001\u6982\u7387\u4e0e\u535a\u5f08\u52a8\u6001\u89c4\u5212\u7684\u57fa\u672c\u6982\u5ff5\u548c\u89e3\u9898\u601d\u8def\u3002",link:"https://leetcode.cn/leetbook/detail/dynamic-programming-3-plus/",title:"\u6811\u5f62\u3001\u56fe\u4e0a\u3001\u6982\u7387 & \u535a\u5f08\u95ee\u9898",bgColor:"linear-gradient(180deg, #78EACD 0%, #41A5B1 100%)"},void 0)]},void 0)]}),void 0)},kv=i("5EZz"),hv=(i("ZX+C"),i("uWeL")),xv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookLastReadBook"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookLastReadBook"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"leetbookBriefNode"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"leetbookBriefNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LeetbookBriefBookNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStudied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chapterNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnlyPageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numCompletedPremium"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"productInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowBorrow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPremiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAfter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBefore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"forSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastNewPageForSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commonTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"#import '../fragments/leetbook-brief-node.graphql'\n\nquery leetbookLastReadBook {\n  leetbookLastReadBook {\n    ...leetbookBriefNode\n  }\n}"}},operationName:"leetbookLastReadBook",defName:"leetbookLastReadBook"},yv=i("hDcj"),_v=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={books:[],allOwnedBooksNum:0,loading:!0},i}var i,n,o,r,d,c;return Object(a.__extends)(t,e),t.prototype.resetStore=function(){return{books:[],allOwnedBooksNum:0,loading:!0}},t.prototype._disableLoading=function(e){e.loading=!1},t.prototype._setBooks=function(e,t){e.books=t.books,e.allOwnedBooksNum=t.allOwnedBooksNum},t.prototype.fetchLastReadBooks=function(e){var t=this;return e.pipe(Object(L.a)((function(){return Object(gl.a)([t.client.query({query:xv,fetchPolicy:"no-cache"}).pipe(Object(M.a)((function(){return Object(B.a)(null)}))),t.client.query({query:yv.a,variables:{orderBy:R.Ob.LeetbookUpdatedTime,page:1,pageSize:3},fetchPolicy:"no-cache"}).pipe(Object(M.a)((function(){return Object(B.a)(null)}))),t.client.query({query:yg,fetchPolicy:"network-only"}).pipe(Object(M.a)((function(){return Object(B.a)(null)})))]).pipe(Object(q.a)((function(e){var i,n,o,r=Object(a.__read)(e,3),d=r[0],c=r[1],l=r[2];return t.getActions()._setBooks({books:Object(xm.a)(G()([null===d||void 0===d?void 0:d.data.leetbookLastReadBook]),G()(null!==(n=null===(i=null===c||void 0===c?void 0:c.data.leetbookOwnedBooks)||void 0===i?void 0:i.data.map((function(e){return null===e||void 0===e?void 0:e.book})))&&void 0!==n?n:[]),"id"),allOwnedBooksNum:(null===(o=null===l||void 0===l?void 0:l.data.leetbookOwnedBooks)||void 0===o?void 0:o.pageInfo.total)||0})})),Object(Se.a)(t.getActions()._disableLoading()),Object(hi.a)(t.dispose$))})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"resetStore",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_disableLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setBooks",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object]),Object(a.__metadata)("design:returntype","function"===typeof(d="undefined"!==typeof z.a&&z.a)?d:Object)],t.prototype,"fetchLastReadBooks",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof H.a&&H.a)?c:Object])],t)}(k.a),Sv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookContinuousReadingDays"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookContinuousReadingDays"},arguments:[],directives:[]}]}}],loc:{source:{body:"query leetbookContinuousReadingDays {\n  leetbookContinuousReadingDays\n}"}},operationName:"leetbookContinuousReadingDays",defName:"leetbookContinuousReadingDays"},Cv=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={count:null,loading:!0},i}var i,n,o,r,d,c;return Object(a.__extends)(t,e),t.prototype.resetStore=function(){return{count:null,loading:!0}},t.prototype._disableLoading=function(e){e.loading=!1},t.prototype._setCount=function(e,t){e.count=t},t.prototype.fetchContinuousReadingDays=function(e){var t=this;return e.pipe(Object(L.a)((function(){return t.client.query({query:Sv}).pipe(Object(q.a)((function(e){var i=e.data;return t.getActions()._setCount(i.leetbookContinuousReadingDays)})),Object(Se.a)(t.getActions()._disableLoading()),Object(hi.a)(t.dispose$))})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.d)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",[]),Object(a.__metadata)("design:returntype",Object)],t.prototype,"resetStore",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_disableLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object,Number]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setCount",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof z.a&&z.a)?r:Object]),Object(a.__metadata)("design:returntype","function"===typeof(d="undefined"!==typeof z.a&&z.a)?d:Object)],t.prototype,"fetchContinuousReadingDays",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof H.a&&H.a)?c:Object])],t)}(k.a),Nv=i("EO8L"),Fv=i.n(Nv),wv=Object(y.a)("div",{target:"e1mqsz5m0"})(((cj={height:"232px",width:"100%",maxWidth:"1200px",position:"absolute",pointerEvents:"none",top:"24px",left:"50%",transform:"translateX(-50%)",display:"flex",justifyContent:"flex-end",zIndex:3})["@media(max-width: 1200px)"]={paddingRight:"24px"},cj["@media(max-width: 478px)"]={display:"none"},cj),"label:WapperContent;"),Iv=Object(y.a)("div",{target:"e1mqsz5m1"})({height:"232px",width:"280px",backgroundColor:_.b.Overlay7(),border:_.b.lc_button_secondary_hover(),pointerEvents:"auto",borderRadius:"8px",padding:"20px 24px 24px",boxSizing:"border-box",color:_.b.LabelSecondary(),backdropFilter:"blur(16px)"},"label:Contain;"),Pv=Object(y.a)("img",{target:"e1mqsz5m2"})({height:"50px",width:"37px",borderRadius:"4px",float:"left"},"label:Img;"),Tv=Object(y.a)("div",{target:"e1mqsz5m3"})({overflow:"hidden",marginTop:"12px",cursor:"pointer"},"label:Recent;"),Av=Object(y.a)("div",{target:"e1mqsz5m4"})({float:"left",marginLeft:"12px"},"label:RecentData;"),Rv=Object(y.a)("div",{target:"e1mqsz5m5"})({display:"inline-block",fontWeight:"500",color:_.b.Black(),maxWidth:"180px",marginBottom:"5px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"label:Title;"),Dv=Object(y.a)("div",{target:"e1mqsz5m6"})({width:"178px",color:"rgba(82, 82, 82, 0.6)",".ant-progress-inner":{backgroundColor:_.b.lc_support_info_background(),height:"4px"},".ant-progress-text":{color:_.b.lc_text_tertiary(),fontSize:"12px"},".ant-progress-bg":{backgroundColor:_.b.lc_system_primary(),height:"4px !important"}},"label:ProgressBox;"),Bv=Object(y.a)("div",{target:"e1mqsz5m7"})({display:"flex",justifyContent:"space-between",marginTop:"14px",cursor:"pointer"},"label:Book;"),zv=Object(y.a)("div",{target:"e1mqsz5m8"})({width:"108px",height:"82px",float:"left",background:_.b.lc_fill_01(),padding:"8px 12px",borderRadius:"4px",":hover":{background:_.b.lc_fill_02()}},"label:Box;"),Lv=Object(y.a)("div",{target:"e1mqsz5m9"})({fontSize:"24px",fontWeight:700,color:_.b.BrandBase(),marginTop:"14px","> span":{color:_.b.Overlay6(),fontWeight:400,fontSize:"12px",marginLeft:"4px"}},"label:Num;"),qv=Object(y.a)("div",{target:"e1mqsz5m10"})({fontWeight:"400",fontSize:"12px",lineHeight:"16px"},"label:Login;"),Ev=Object(y.a)("div",{target:"e1mqsz5m11"})({fontWeight:"500",fontSize:"14px",lineHeight:"20px",marginBottom:"6px",color:_.b.lc_text_primary()},"label:LoginTitle;"),Mv=Object(y.a)("div",{target:"e1mqsz5m12"})({width:"232px",height:"32px",background:_.b.lc_button_primary(),borderRadius:"4px",textAlign:"center",lineHeight:"32px",marginTop:"16px",color:_.b.Overlay1(),cursor:"pointer",":hover":{background:_.b.lc_button_primary_hover()},":active":{background:_.b.lc_button_primary_active()}},"label:LoginButton;"),Hv=Object(y.a)("div",{target:"e1mqsz5m13"})({textAlign:"center"},"label:NoBookBox;"),Vv=Object(y.a)("img",{target:"e1mqsz5m14"})({width:"70px",height:"58px"},"label:NoBookImg;"),Wv=Object(y.a)("div",{target:"e1mqsz5m15"})({fontWeight:"400",fontSize:"12px",lineHeight:"16px",margin:"8px auto 24px",textAlign:"center",color:"rgba(82, 82, 82, 0.6)"},"label:NoBookText;"),Qv=Object(y.a)("div",{target:"e1mqsz5m16"})({position:"absolute",top:"-24px",bottom:"-24px",left:"252px",right:"-0",backdropFilter:"blur(6px)"},"label:FilterContainer;"),$v=d.a.memo((function(e){var t,i=e.handleFold,n=Object(a.__read)(Object(j.a)(_v),2),d=n[0],s=n[1],u=Object(a.__read)(Object(j.a)(Cv),2),b=u[0],p=u[1],m=Object(r.useContext)(D.d).isSignedIn,g=Object(om.a)(d.books[0]),v=Object(fb.a)(null===(t=d.books[0])||void 0===t?void 0:t.slug).continueReading,f=Object(c.i)(),O=l.a.main.paths,k=!!i,h=Object(r.useCallback)((function(){var e;ut.a.leetbookReadStudyProgressClick(null===(e=d.books[0])||void 0===e?void 0:e.title),v()}),[d.books,v]);return Object(r.useEffect)((function(){var e;d.books.length&&ut.a.leetbookReadStudyProgressExposure(null===(e=d.books[0])||void 0===e?void 0:e.title)}),[d.books]),Object(r.useEffect)((function(){return s.fetchLastReadBooks(),p.fetchContinuousReadingDays(),function(){s.dispose$(),p.dispose$()}}),[s,p]),Object(o.jsxs)(wv,{children:[k&&Object(o.jsx)(Qv,{},void 0),Object(o.jsxs)(Iv,Object(a.__assign)({onClick:function(e){return e.stopPropagation()}},{children:[m?d.books.length?Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",Object(a.__assign)({style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},{children:["\u6700\u8fd1\u9605\u8bfb",i&&Object(o.jsx)(hv.a,{onClick:i,size:16,color:_.b.lc_icon_secondary(),style:{cursor:"pointer"}},void 0)]}),void 0),Object(o.jsxs)(Tv,Object(a.__assign)({onClick:h},{children:[Object(o.jsx)(Pv,{src:d.books[0].coverImg},void 0),Object(o.jsxs)(Av,{children:[Object(o.jsx)(Rv,{children:d.books[0].title},void 0),Object(o.jsx)(Dv,{children:Object(o.jsx)(kv.a,{percent:g||void 0},void 0)},void 0)]},void 0)]}),void 0)]},void 0):Object(o.jsxs)(Hv,{children:[Object(o.jsx)(Vv,{src:Fv.a},void 0),Object(o.jsx)(Wv,{children:"\u6682\u65e0\u6b63\u5728\u9605\u8bfb\u7684\u4e66"},void 0)]},void 0):Object(o.jsxs)(qv,{children:[Object(o.jsx)(Ev,{children:"\u672a\u767b\u5f55"},void 0),Object(o.jsx)("div",{children:"\u767b\u5f55\u540e\u53ef\u67e5\u770b\u6700\u8fd1\u9605\u8bfb\u54e6\uff5e"},void 0),Object(o.jsx)(Mv,Object(a.__assign)({onClick:wp.a.signIn},{children:"\u767b\u5f55"}),void 0)]},void 0),Object(o.jsxs)(Bv,Object(a.__assign)({onClick:function(){ut.a.leetbookReadStudyBoxClick(),f.push(O.leetbook.library({}))}},{children:[Object(o.jsxs)(zv,{children:["\u6211\u7684\u4e66\u67b6",Object(o.jsxs)(Lv,{children:[d.allOwnedBooksNum,Object(o.jsx)("span",{children:"\u672c"},void 0)]},void 0)]},void 0),Object(o.jsxs)(zv,{children:["\u8fde\u7eed\u9605\u8bfb",Object(o.jsxs)(Lv,{children:[b.count,Object(o.jsx)("span",{children:"\u5929"},void 0)]},void 0)]},void 0)]}),void 0)]}),void 0)]},void 0)})),Uv=function(){var e=Object(a.__read)(Object(r.useState)(!0),2),t=e[0],i=e[1],n=function(e){e.stopPropagation(),i(!t)};return Xi((function(){ut.a.leetbookUnfoldRecentReadClick(String(t))}),[t]),Object(o.jsxs)(nv,Object(a.__assign)({onClick:function(){return i(!0)}},{children:[Object(o.jsxs)(av,Object(a.__assign)({className:"pathContent"},{children:[Object(o.jsxs)(rv,{children:[Object(o.jsx)("h2",{children:"\u63a2\u7d22\u77e5\u8bc6\u5730\u56fe"},void 0),Object(o.jsx)("span",{children:"\u901a\u5f80\u7f16\u7a0b\u9ad8\u5cf0\u7684\u5fc5\u7ecf\u4e4b\u8def"},void 0)]},void 0),Object(o.jsx)(Ov,{fold:t},void 0),t?Object(o.jsxs)(ov,Object(a.__assign)({onClick:n},{children:["\u6700\u8fd1\u9605\u8bfb ",Object(o.jsx)(sj.a,{size:16,color:_.b.lc_icon_secondary(),style:{marginLeft:"4px"}},void 0)]}),void 0):Object(o.jsx)($v,{handleFold:n},void 0)]}),void 0),Object(s.q)()?Object(o.jsx)(o.Fragment,{},void 0):Object(o.jsx)(dv,{className:"path-popover"},void 0)]}),void 0)};function Kv(){return Object(o.jsx)(Uv,{},void 0)}var Gv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookAllSubjects"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookAllSubjects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query leetbookAllSubjects {\n  leetbookAllSubjects {\n    name\n    slug\n  }\n}"}},operationName:"leetbookAllSubjects",defName:"leetbookAllSubjects"},Yv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookTopTags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"size"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subjectSlug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookTopTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"Variable",name:{kind:"Name",value:"size"}}},{kind:"Argument",name:{kind:"Name",value:"subjectSlug"},value:{kind:"Variable",name:{kind:"Name",value:"subjectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query leetbookTopTags($size: Int!, $subjectSlug: String) {\n  leetbookTopTags(size: $size, subjectSlug: $subjectSlug) {\n    name\n    slug\n    nameTranslated\n  }\n}"}},operationName:"leetbookTopTags",defName:"leetbookTopTags"},Jv={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookSubjectBooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SearchLeetbookOrderByEnum"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"premiumFree"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subjectSlug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagSlugs"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"terminal"}},type:{kind:"NamedType",name:{kind:"Name",value:"TerminalEnum"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookSubjectBooksV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}},{kind:"Argument",name:{kind:"Name",value:"premiumFree"},value:{kind:"Variable",name:{kind:"Name",value:"premiumFree"}}},{kind:"Argument",name:{kind:"Name",value:"subjectSlug"},value:{kind:"Variable",name:{kind:"Name",value:"subjectSlug"}}},{kind:"Argument",name:{kind:"Name",value:"tagSlugs"},value:{kind:"Variable",name:{kind:"Name",value:"tagSlugs"}}},{kind:"Argument",name:{kind:"Name",value:"terminal"},value:{kind:"Variable",name:{kind:"Name",value:"terminal"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNext"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageNum"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"leetbookBriefNode"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"leetbookBriefNode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LeetbookBriefBookNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStudied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chapterNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnlyPageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numCompletedPremium"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"productInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowBorrow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPremiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAfter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBefore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"forSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastNewPageForSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commonTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"#import '../fragments/leetbook-brief-node.graphql'\n\nquery leetbookSubjectBooks(\n  $limit: Int!,\n  $offset: Int!,\n  $orderBy: SearchLeetbookOrderByEnum!,\n  $premiumFree: Boolean!,\n  $subjectSlug: String,\n  $tagSlugs: [String!],\n  $terminal: TerminalEnum\n) {\n  leetbookSubjectBooksV2(\n    limit: $limit,\n    offset: $offset,\n    orderBy: $orderBy,\n    premiumFree: $premiumFree,\n    subjectSlug: $subjectSlug,\n    tagSlugs: $tagSlugs,\n    terminal: $terminal,\n  ) {\n    pageInfo {\n      hasNext\n      pageNum\n    }\n    data {\n      ...leetbookBriefNode\n    }\n  }\n}"}},operationName:"leetbookSubjectBooks",defName:"leetbookSubjectBooksV2"};var Xv,Zv=function(e){function t(t){var i,n=e.call(this)||this;return n.client=t,n.defaultState={loading:!0,hasNext:!0,nextPage:0,books:[],subjectsLoading:!0,subjects:[],selectedSubjectSlug:(i=Object(zo.parse)(window.location.search,{ignoreQueryPrefix:!0}).subject,"string"===typeof i?i:null),tagsLoading:!0,tags:[],selectedTagSlugs:[],selectedOrderBy:R.uc.Normal,isPremiumOnly:!1},n}var i,n,o,r,d,c,l,s,u,b,p,m,g,j,v,k,x,y,_,S,C,N,F,w,I,P;return Object(a.__extends)(t,e),t.prototype.resetFilters=function(e){e.selectedSubjectSlug=null,e.selectedTagSlugs=[],e.selectedOrderBy=R.uc.Normal,e.isPremiumOnly=!1},t.prototype.resetTagsAndOrderBy=function(e){e.selectedTagSlugs=[],e.selectedOrderBy=R.uc.Normal},t.prototype.setSelectedSubjectSlug=function(e,t){e.selectedSubjectSlug=t},t.prototype.setSelectedTagSlugs=function(e,t){e.selectedTagSlugs=t},t.prototype.setSelectedOrderBy=function(e,t){e.selectedOrderBy=t},t.prototype.setIsPremiumOnly=function(e,t){e.isPremiumOnly=t},t.prototype.resetPageInfo=function(e){e.hasNext=!0,e.nextPage=0},t.prototype.setLoading=function(e,t){e.loading=t},t.prototype._setBooksAsFilterChange=function(e,t){t&&(e.hasNext=t.pageInfo.hasNext,e.nextPage=t.pageInfo.pageNum,e.books=G()(t.data))},t.prototype.fetchBooksAsFilterChange=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t._queryBooks(Object(a.__assign)(Object(a.__assign)({},e),{offset:0})).pipe(Object(q.a)((function(e){var i=e.data;return t.getActions()._setBooksAsFilterChange(i.leetbookSubjectBooksV2)})),Object(E.a)(t.getActions().setLoading(!0)),Object(Se.a)(t.getActions().setLoading(!1)),Object(hi.a)(t.dispose$))})))},t.prototype._appendBooks=function(e,t){t&&(e.hasNext=t.pageInfo.hasNext,e.nextPage=t.pageInfo.pageNum,e.books=Object(xm.a)(e.books,G()(t.data),"id"))},t.prototype.fetchMoreBooks=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(Gc.a)((function(e){var t=Object(a.__read)(e,2)[1],n=t.nextPage,o=t.selectedSubjectSlug,r=t.selectedTagSlugs,d=t.selectedOrderBy,c=t.isPremiumOnly;return i._queryBooks({offset:12*n,orderBy:d,premiumFree:c,subjectSlug:null!==o&&void 0!==o?o:void 0,tagSlugs:r}).pipe(Object(q.a)((function(e){var t=e.data;return i.getActions()._appendBooks(t.leetbookSubjectBooksV2)})),Object(E.a)(i.getActions().setLoading(!0)),Object(Se.a)(i.getActions().setLoading(!1)),Object(hi.a)(i.dispose$))})))},t.prototype._setSubjects=function(e,t){e.subjectsLoading=!1,e.subjects=t},t.prototype.fetchSubjects=function(e,t){var i=this;return e.pipe(Object(X.a)(t),Object(L.a)((function(e){var t=Object(a.__read)(e,2)[1].selectedSubjectSlug;return i.client.query({query:Gv}).pipe(Object(M.a)((function(){return Y.a})),Object(q.a)((function(e){var i=e.data,n=G()(i.leetbookAllSubjects);return{subjects:n,shouldResetSubject:!n.find((function(e){return e.slug===t}))}})),Object(Z.b)((function(e){var t=e.subjects;return e.shouldResetSubject?Object(B.a)(i.getActions().setSelectedSubjectSlug(null),i.getActions()._setSubjects(t)):Object(B.a)(i.getActions()._setSubjects(t))})),Object(hi.a)(i.dispose$))})))},t.prototype._setTagsLoading=function(e,t){e.tagsLoading=t},t.prototype._setTags=function(e,t){e.tags=t},t.prototype.fetchTags=function(e){var t=this;return e.pipe(Object(L.a)((function(e){return t.client.query({query:Yv,variables:e}).pipe(Object(q.a)((function(e){var i=e.data;return t.getActions()._setTags(i.leetbookTopTags)})),Object(E.a)(t.getActions()._setTagsLoading(!0)),Object(Se.a)(t.getActions()._setTagsLoading(!1)),Object(M.a)((function(){return Object(B.a)(t.getActions()._setTags([]))})),Object(hi.a)(t.dispose$))})))},t.prototype._queryBooks=function(e){return this.client.query({query:Jv,variables:Object(a.__assign)(Object(a.__assign)({},e),{limit:12,terminal:R.Ic.Web})}).pipe(Object(M.a)((function(){return Y.a})))},Object(a.__decorate)([Object(O.a)(),Object(a.__metadata)("design:type","function"===typeof(i="undefined"!==typeof z.a&&z.a)?i:Object)],t.prototype,"dispose$",void 0),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof h.Draft&&h.Draft)?n:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"resetFilters",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof h.Draft&&h.Draft)?o:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"resetTagsAndOrderBy",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof h.Draft&&h.Draft)?r:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setSelectedSubjectSlug",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof h.Draft&&h.Draft)?d:Object,Array]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setSelectedTagSlugs",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(c="undefined"!==typeof h.Draft&&h.Draft)?c:Object,"function"===typeof(l="undefined"!==typeof R.uc&&R.uc)?l:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setSelectedOrderBy",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof h.Draft&&h.Draft)?s:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setIsPremiumOnly",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof h.Draft&&h.Draft)?u:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"resetPageInfo",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(b="undefined"!==typeof h.Draft&&h.Draft)?b:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof h.Draft&&h.Draft)?p:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setBooksAsFilterChange",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(m="undefined"!==typeof z.a&&z.a)?m:Object]),Object(a.__metadata)("design:returntype","function"===typeof(g="undefined"!==typeof z.a&&z.a)?g:Object)],t.prototype,"fetchBooksAsFilterChange",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(j="undefined"!==typeof h.Draft&&h.Draft)?j:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_appendBooks",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(v="undefined"!==typeof z.a&&z.a)?v:Object,"function"===typeof(k="undefined"!==typeof z.a&&z.a)?k:Object]),Object(a.__metadata)("design:returntype","function"===typeof(x="undefined"!==typeof z.a&&z.a)?x:Object)],t.prototype,"fetchMoreBooks",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof h.Draft&&h.Draft)?y:Object,Array]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setSubjects",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(_="undefined"!==typeof z.a&&z.a)?_:Object,"function"===typeof(S="undefined"!==typeof z.a&&z.a)?S:Object]),Object(a.__metadata)("design:returntype","function"===typeof(C="undefined"!==typeof z.a&&z.a)?C:Object)],t.prototype,"fetchSubjects",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof h.Draft&&h.Draft)?N:Object,Boolean]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setTagsLoading",null),Object(a.__decorate)([Object(O.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(F="undefined"!==typeof h.Draft&&h.Draft)?F:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"_setTags",null),Object(a.__decorate)([Object(O.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof z.a&&z.a)?w:Object]),Object(a.__metadata)("design:returntype","function"===typeof(I="undefined"!==typeof z.a&&z.a)?I:Object)],t.prototype,"fetchTags",null),t=Object(a.__decorate)([Object(f.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof H.a&&H.a)?P:Object])],t)}(k.a),ef={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookCategories"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subcategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bookIds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbookCategories {\n  leetbookCategories {\n    id\n    name\n    subcategories {\n      bookIds\n      id\n      name\n    }\n  }\n}"}},operationName:"leetbookCategories",defName:"leetbookCategories"},tf={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookAdsSubjectBooks"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookAdsSubjectBooks"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStudied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chapterNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numCompletedPremium"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"productInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allowBorrow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAfter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBefore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"forSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastNewPageForSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commonTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"\n\nquery leetbookAdsSubjectBooks{\n  leetbookAdsSubjectBooks {\n    id\n      slug\n      title\n      coverImg\n      description\n      totalStudied\n      recommendation\n      author {\n        title\n        bio\n        realName\n        avatar\n        userSlug\n      }\n      chapterNum\n      pageNum\n      progress {\n        numCompleted\n        numCompletedPremium\n        accessedAt\n      }\n      productInfo {\n        premiumOnly\n        allowBorrow\n        product {\n          id\n          slug\n          price\n          premiumPrice\n          discounts {\n            id\n            availableAfter\n            availableBefore\n            price\n          }\n        }\n      }\n      forSaleAt\n      lastNewPageForSaleAt\n      ownedType\n      commonTags {\n        nameTranslated\n        name\n        slug\n      }\n  }\n}"}},operationName:"leetbookAdsSubjectBooks",defName:"leetbookAdsSubjectBooks"},nf={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbooksByIds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbooksByIds"},arguments:[{kind:"Argument",name:{kind:"Name",value:"bookIds"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStudied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalStudied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"realName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userAvatar"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chapterNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numCompletedPremium"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"productInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"premiumOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allowBorrow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAfter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBefore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"forSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastNewPageForSaleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commonTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbooksByIds($ids: [Int!]){\n  leetbooksByIds(bookIds: $ids) {\n      id\n      slug\n      title\n      coverImg\n      description\n      totalStudied\n      recommendation\n      totalStudied\n      ownedType\n      author {\n        user {\n          realName\n          userSlug\n          userAvatar\n        }\n        title\n        bio\n      }\n      chapterNum\n      pageNum\n      progress {\n        numCompleted\n        numCompletedPremium\n        accessedAt\n      }\n      productInfo {\n        premiumOnly\n        allowBorrow\n        product {\n          id\n          slug\n          price\n          premiumPrice\n          discounts {\n            id\n            availableAfter\n            availableBefore\n            price\n          }\n        }\n      }\n      forSaleAt\n      lastNewPageForSaleAt\n      commonTags {\n        nameTranslated\n        name\n        slug\n      }\n    \n  }\n}\n"}},operationName:"leetbooksByIds",defName:"leetbooksByIds"},af=i("qC7o"),of=i("1mzw"),rf=i("34WX"),df="776px",cf=Object(y.a)("div",{target:"etmy6ba0"})({minHeight:df,marginTop:"18px",marginBottom:"120px",position:"relative",zIndex:0},"label:Container;"),lf=Object(y.a)("div",{target:"etmy6ba1"})({height:df},"label:PlaceholderContainer;"),sf=(rf.c,Ur.a.dropdown,(Xv={borderRadius:"8px",border:"none",background:_.b.White(.8),backdropFilter:"blur(15px)",pointerEvents:"none"})[""+of.a]={display:"none"},Xv[_.c]={border:"none",background:_.b.fixed.Black(.8)},Mt.a.paragraph.sm,_.b.LabelTertiary(),Mt.a.paragraph.md,_.b.LabelQuaternary(),Object(y.a)("div",{target:"etmy6ba7"})({fontSize:"20px",fontWeight:"500",color:_.b.LabelPrimary()},"label:Category;")),uf=Object(y.a)("div",{target:"etmy6ba8"})({".ant-popover":{backdropFilter:"blur(26px)",borderRadius:"8px",paddingLeft:"0px"},".ant-popover-arrow":{display:"none !important"},".ant-popover-inner":{background:_.b.Overlay6(),borderRadius:"8px",padding:"12px 16px",height:"180px",width:"300px"},".ant-popover-inner-content":{padding:"unset"},".ant-popover-content":{borderRadius:"8px"}},"label:PopoverContainer;");function bf(e){return Object(a.__read)(Object(j.a)(Zv),1)[0].loading||e.data.length?Object(o.jsxs)(cf,{children:[e.data.map((function(t,i){return Object(o.jsxs)(sf,{children:[t.name,Object(o.jsx)(af.a,{books:t.book,module:t.name},void 0)]},i+"+"+e.currentActive)})),Object(s.q)()?Object(o.jsx)(o.Fragment,{},void 0):Object(o.jsx)(uf,{className:"book-card-popover"},void 0)]},void 0):Object(o.jsx)(cf,{children:Object(o.jsx)(lf,{children:Object(o.jsx)(et.a,{type:"img",size:"lg",description:"\u6682\u65e0\u8bb0\u5f55"},void 0)},void 0)},void 0)}var pf=Object(y.a)("div",{target:"e1cheh6g0"})({margin:"24px 0 40px",height:"40px",overflow:"hidden"},"label:Container;"),mf=Object(y.a)("div",{target:"e1cheh6g1"})({padding:"0px 16px",height:"40px",fontSize:"16px",fontWeight:"400",borderRadius:"8px",display:"inline-block",textAlign:"center",lineHeight:"40px",marginRight:"24px",cursor:"pointer",":hover":{background:_.b.lc_fill_01()},":active":{background:_.b.lc_fill_02()}},"label:Item;"),gf=Object(y.a)("div",{target:"e1cheh6g2"})({whiteSpace:"nowrap",height:"40px","> .active":{background:_.b.lc_button_secondary(),fontWeight:"500",cursor:"default"}},"label:SubjectBox;"),jf=Object(y.a)("div",{target:"e1cheh6g3"})({height:"64px"},"label:ScrollMiss;"),vf=d.a.memo((function(e){var t=Object(a.__read)(Object(r.useState)(window.innerWidth<1200?window.innerWidth:null),2),i=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){window.innerWidth<1200?n(window.innerWidth):n(null)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(o.jsx)(pf,Object(a.__assign)({style:i?{width:i+"px"}:{}},{children:Object(o.jsx)(jf,Object(a.__assign)({style:i?{width:i+"px",overflowX:"auto"}:{}},{children:Object(o.jsx)(gf,{children:e.subjects.map((function(t){return ut.a.leetbookTabExposure(t.name),Object(o.jsx)(mf,Object(a.__assign)({className:e.currentActive===t.name?"active":"",onClick:function(){ut.a.leetbookTabClick(t.name),e.changSubject(t.name)}},{children:t.name}),t.name)}))},void 0)}),void 0)}),void 0)})),ff=Object(y.a)("div",{target:"et8h0vz0"})({marginTop:"4px",paddingLeft:"15px"},"label:Container;"),Of=(_.b.FillQuaternary(),[{name:"\u529b\u6263\u7cbe\u9009",module:[{name:"\u65b0\u54c1\u901f\u9012",data:[177,183,193,192,180,185,184,181]},{name:"\u9762\u8bd5\u51c6\u5907",data:[110,109,108,112,178,145]},{name:"\u7b97\u6cd5\u5b66\u4e60",data:[107,94,91,54,55,151]},{name:"\u771f\u9898\u7ec3\u624b",data:[166,164,163,138,170,62]},{name:"\u6280\u672f\u5fc5\u5b66",data:[169,133,65,127,121,31,57]}]},{name:"\u4f1a\u5458\u4e13\u533a",module:[{name:"\u5c0a\u8d35\u72ec\u4eab",data:[135,112,110,109,108,96,95,93,84,59,55,54,29,166,164,163]},{name:"\u514d\u8d39\u501f\u9605",data:[133,111,107,101,94,91,82,81,78,77,65,62,52,145,138,151,154,170,172,169,171,162,178,175]},{name:"\u4e13\u4eab\u6298\u6263",data:[136,57,53,51,50,49]}]},{name:"\u7b97\u6cd5\u4e0e\u6570\u636e\u7ed3\u6784",module:[{name:"\u6570\u636e\u7ed3\u6784",data:[30,177,183,193,93,107,77,172,39,41,47,48,103]},{name:"\u521d\u7ea7\u7b97\u6cd5",data:[101,185,37,34]},{name:"\u8fdb\u9636\u7b97\u6cd5",data:[91,82,81,54,55,151,192,180,184,181,104,94,175,171]},{name:"\u7efc\u5408\u63d0\u5347",data:[43,44,45,53,52,51,50,49,98,72,67,61,58,59]}]},{name:"\u6c42\u804c\u901a\u5173",module:[{name:"\u516b\u80a1\u6587",data:[112,169,84,65,86]},{name:"\u524d\u7aef",data:[135,110,109,108,96,95,162]},{name:"\u540e\u7aef",data:[133,178,112,70,69]},{name:"\u524d\u6cbf AI",data:[57,136,128,123,121,114]},{name:"\u9762\u8bd5\u6307\u5bfc",data:[111,62,29,145,138,154,166,164,163,170,90,89,80,79,76,60,46,62,40,36,64,146,160,188]}]},{name:"\u5c97\u4f4d\u5165\u95e8",module:[{name:"\u524d\u7aef",data:[71,124,135,108,96,95]},{name:"\u540e\u7aef",data:[129,127,126,70,69,66]},{name:"\u524d\u6cbf AI",data:[57,136,128,123,121,114,113,31,97,122]}]}]);function kf(){var e,t,i=Object(a.__read)(Object(j.a)(Zv),2),n=i[0],d=i[1],c=n.selectedSubjectSlug,l=n.selectedTagSlugs,s=n.selectedOrderBy,u=n.isPremiumOnly,p=Object(a.__read)(Object(r.useState)(Object(Ze.b)({body:{overflowX:"hidden"}})),1)[0];Object(r.useEffect)((function(){d.resetPageInfo(),d.fetchBooksAsFilterChange({subjectSlug:null!==c&&void 0!==c?c:void 0,tagSlugs:l,orderBy:s,premiumFree:u})}),[d,c,l,s,u]),Object(r.useEffect)((function(){return function(){d.dispose$(),d.resetFilters(),d.resetPageInfo()}}),[d]);var m=Object(Ip.a)(["leetbookCategories"],(function(){return Ap.d.query({query:ef,context:{uri:Ap.h},fetchPolicy:"no-cache"}).then((function(e){var t=e.data;try{var i=t.leetbookCategories;if(i.length)return function(e){var t=[];return e.forEach((function(e){var i;t.push({name:e.name,module:null===(i=e.subcategories)||void 0===i?void 0:i.map((function(e){return{name:e.name,data:e.bookIds?JSON.parse(e.bookIds):[]}}))})})),t}(i)}catch(e){return Of}return Of})).catch((function(){return Of}))})).data,g=void 0===m?[]:m,v=Object(r.useMemo)((function(){return g.length>0?g[0].name:""}),[g]),f=Object(a.__read)(Object(r.useState)(v),2),O=f[0],k=f[1];Object(r.useEffect)((function(){g.length>0&&k(v)}),[v,g.length]);var h=Object(r.useCallback)((function(e){k(e)}),[]),x=[];g.length&&(x=null!==(t=null===(e=g.find((function(e){return e.name===O})))||void 0===e?void 0:e.module.reduce((function(e,t){return e.concat(t.data)}),[]))&&void 0!==t?t:[]);var y=Object(Ip.a)(["leetbooksByIds",{ids:x}],(function(){return Ap.d.query({variables:{ids:x},query:nf,context:{uri:Ap.j},fetchPolicy:"no-cache"}).then((function(e){return e.data.leetbooksByIds}))}),{enabled:!!(null===x||void 0===x?void 0:x.length)}),_=y.data,S=y.isFetching,C=Object(Ip.a)(["leetbookAdsSubjectBooks"],(function(){return Ap.d.query({query:tf,context:{uri:Ap.h},fetchPolicy:"no-cache"}).then((function(e){var t=e.data;return G()(t.leetbookAdsSubjectBooks).map((function(e){return Object(a.__assign)(Object(a.__assign)({},e),{author:{title:e.author.title,bio:e.author.bio,user:{userAvatar:e.author.avatar,realName:e.author.realName,userSlug:e.author.userSlug}}})}))}))}),{enabled:O===v}).data,N=void 0===C?[]:C,F=Object(r.useMemo)((function(){var e,t=O===v?N:[],i=Object(a.__spread)(g).find((function(e){return e.name===O})),n=null===i||void 0===i?void 0:i.module;if(!(null===_||void 0===_?void 0:_.length)||!(null===n||void 0===n?void 0:n.length))return[];var o=0;for(var r in n){var d=n[r].data.length;n[r].book=_.slice(o,o+d),o+=d}return n[0].book=t.concat(null!==(e=n[0].book)&&void 0!==e?e:[]),n}),[_,g,v,N,O]);return Object(o.jsxs)(ff,{children:[Object(o.jsx)(Ze.a,{styles:p},void 0),Object(o.jsx)(vf,{subjects:g,currentActive:O,changSubject:h},void 0),S?Object(o.jsx)(b.a,{height:"700px"},void 0):Object(o.jsx)(bf,{data:F,currentActive:O},void 0)]},void 0)}var hf,xf,yf,_f=Object(y.a)("section",{target:"e1lx8jn00"})({height:"48px",width:"48px",borderRadius:"8px",boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.04), 0px 8px 32px rgba(0, 0, 0, 0.04), 0px 12px 48px rgba(0, 0, 0, 0.04)",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",right:"30px",bottom:"100px",backgroundColor:_.b.lc_layer_01(),cursor:"pointer"},"label:ScrollTop;"),Sf=Object(y.a)("svg",{target:"e1lx8jn01"})({height:"24px",width:"24px",color:_.b.lc_icon_tertiary()},"label:ScrollSvg;"),Cf=d.a.memo((function(){var e=Object(r.useCallback)((function(){document.body.scrollTop=0}),[]),t=Object(a.__read)(Object(r.useState)(!1),2),i=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){var e;return function(){e||(e=setTimeout((function(){document.body.scrollTop>document.body.clientHeight?n(!0):n(!1),e=null}),200))}};return document.body.addEventListener("scroll",e()),function(){document.body.removeEventListener("scroll",e())}}),[]),i?Object(o.jsx)(_f,Object(a.__assign)({onClick:function(){return e()}},{children:Object(o.jsx)(Sf,Object(a.__assign)({width:"18",height:"18",viewBox:"0 0 18 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},{children:Object(o.jsx)("path",{d:"M9.82653 2.39557C9.38107 1.91299 8.61868 1.91298 8.17323 2.39556L1.74271 9.36196C1.0775 10.0826 1.58864 11.25 2.56936 11.25L6.74988 11.25V14.25C6.74988 15.0785 7.42145 15.75 8.24988 15.75H9.74988C10.5783 15.75 11.2499 15.0785 11.2499 14.25V11.25L15.4304 11.25C16.4111 11.25 16.9223 10.0826 16.257 9.36196L9.82653 2.39557Z"},void 0)}),void 0)}),void 0):Object(o.jsx)(o.Fragment,{},void 0)})),Nf=Object(Ze.b)({body:{overflow:"unset"},"#lc-home > div":(hf={background:_.b.Overlay1()},hf[_.c]={background:_.b.LayerBg()},hf)},"label:globalStyle;"),Ff=((xf={zIndex:0,width:"100%",padding:"0px 28px",margin:"0 auto",flex:"1 1 auto",display:"flex",justifyContent:"center"})[_.c]={background:_.b.LayerBg()},Object(Ct.k)({paddingTop:"48px",background:_.b.Overlay1()}),Object(y.a)("div",{target:"e114yjp11"})(((yf={zIndex:0})[_.c]={background:_.b.LayerBg()},yf),Object(Ct.k)({paddingTop:"48px",background:_.b.Overlay1()}),"label:WapperContainer;")),wf=Object(y.a)("section",{target:"e114yjp12"})({margin:"0 auto",maxWidth:"1200px",minWidth:390,background:_.b.LayerBg()},"label:MainContainer;");Mt.a.paragraph.md,Ct.l,_.b.LabelTertiary(),Mt.a.paragraph.sm,_.b.FillTertiary(),_.b.LabelTertiary();function If(){var e=Object(a.__read)(Object(r.useState)(window.innerWidth),2),t=e[0],i=e[1];return Object(r.useEffect)((function(){ut.a.leetbookHomePageExposure("true");var e=function(){i(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ze.a,{styles:Nf},void 0),Object(o.jsx)(Ue.a,{title:We.b,titleSuffix:null,description:"\u6280\u672f\u5b66\u4e60\u6709\u56f0\u96be\uff1fLeetCode\uff08\u529b\u6263\uff09\u7cbe\u9009 LeetBook \u5e2e\u52a9\u4f60\u9488\u5bf9\u6027\u89e3\u51b3\u6280\u672f\u5b66\u4e60\u96be\u9898\uff0c\u7cfb\u7edf\u638c\u63e1\u70ed\u95e8\u6280\u672f\u77e5\u8bc6\u70b9\u3001\u5168\u65b9\u4f4d\u68b3\u7406\u77e5\u8bc6\u96be\u70b9\uff0c\u8ba9\u5b66\u4e60\u66f4\u9ad8\u6548\u3002"},void 0),Object(o.jsxs)(Ff,Object(a.__assign)({style:{width:t}},{children:[Object(o.jsx)(Kv,{},void 0),Object(o.jsx)(wf,{children:Object(o.jsx)(kf,{},void 0)},void 0)]}),void 0),Object(o.jsx)(Cf,{},void 0)]},void 0)}var Pf,Tf=Object(y.a)("div",{target:"e1ftp6fy0"})({flex:"1 1 auto",display:"flex",flexDirection:"column",minWidth:Object(s.q)()?"unset":$r.f,position:"relative",zIndex:0,"#lc-footer":{marginTop:0}},"label:Container;"),Af=l.a.main.PATH;t.default=(Pf=function(){return Object(u.a)()?Object(o.jsx)(p.a,{children:Object(o.jsx)(Tf,{children:Object(o.jsxs)(c.e,{children:[Object(o.jsx)(c.c,{path:Af.leetbook.read,component:Qs},void 0),Object(o.jsx)(c.c,{render:Rf},void 0)]},void 0)},void 0)},void 0):Object(o.jsx)(b.a,{isBlocking:!0,height:"400px"},void 0)},function(e){return Object(o.jsx)(Pf,Object(a.__assign)({},e),void 0)});function Rf(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m.a,{id:"lc-header"},void 0),Object(o.jsxs)(c.e,{children:[Object(o.jsx)(c.c,{path:Af.leetbook.detail,component:jg},void 0),Object(o.jsx)(c.c,{path:Af.leetbook.library,component:lj},void 0),Object(o.jsx)(c.c,{component:If},void 0)]},void 0),!Object(s.q)()&&Object(o.jsx)(g.a,{id:"lc-footer",utmSource:"leetbook-footer"},void 0)]},void 0)}},"577J":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("jg1C"),o=i("ERkP"),r=i.n(o),d=i("GG6d"),c=r.a.forwardRef((function(e,t){return Object(a.jsx)(d.a,Object(n.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M7.293 7.293l4-4h1.414l4 4a1 1 0 01-1.414 1.414L13 6.414V15a1 1 0 11-2 0V6.414L8.707 8.707a1 1 0 11-1.414-1.414zM3 19v-7a1 1 0 112 0v7a1 1 0 001 1h12a1 1 0 001-1v-7a1 1 0 112 0v7a3 3 0 01-3 3H6a3 3 0 01-3-3z",clipRule:"evenodd"},void 0)}),void 0)}))},"6+j8":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("D57K"),a=i("jg1C"),o=i("ERkP"),r=i.n(o),d=i("pI2m"),c=function(e){return r.a.Children.map(null!==e&&void 0!==e?e:[],(function(e){var t=e;return{key:String(t.key),headerFunc:t.props.header,bodyFunc:t.props.body,disabled:t.props.disabled||!1,headerWidth:t.props.tabHeaderWidth,headerMinWidth:t.props.tabHeaderMinWidth,headerMaxWidth:t.props.tabHeaderMaxWidth}}))},l=i("cdBm"),s=i("uYd9"),u={defaultScheme:"md",schemes:{lg:{lineHeight:"20px",horizontalPadding:12,verticalPadding:8,dividerHeight:"20px",fontSize:"14px"},md:{lineHeight:"20px",horizontalPadding:8,verticalPadding:6,dividerHeight:"16px",fontSize:"14px"},sm:{lineHeight:"20px",horizontalPadding:8,verticalPadding:4,fontSize:"14px",dividerHeight:"12px"},xs:{lineHeight:"20px",fontSize:"14px",horizontalPadding:4,verticalPadding:0,dividerHeight:"8px"}}},b=Object(l.combine)({size:{defaultScheme:"md",schemes:{lg:{padding:"8px 12px"},md:{padding:"6px 8px"},sm:{padding:"4px 8px"},xs:{padding:"0 4px"}}}},s.a),p=Object(l.combine)({size:u},s.c),m=Object(l.combine)({size:u},s.d),g=function(e){var t=e.type,i=e.tabPosition,r=e.size,l=e.onChangeActiveKey,u=e.defaultActiveKey,g=e.activeKey,j=e.children,v=e.forceRender,f=e.tabHeaderWidth,O=e.tabHeaderMinWidth,k=e.tabHeaderMaxWidth,h=e.className,x=e.headerClassName,y=Object(n.__read)(Object(d.a)({defaultState:null!==u&&void 0!==u?u:"",propState:g,onStateChange:l}),2),_=y[0],S=y[1],C=Object(o.useCallback)((function(e){var t=e.currentTarget.dataset,i=t.key;"false"===t.disabled&&S(i)}),[l]),N=c(j).map((function(e){var o="default"===t?p:m,d=e.key,c=e.disabled,l=e.headerMinWidth,s=e.headerMaxWidth,u=e.headerWidth,b=e.key===_;return Object(a.jsx)(o,Object(n.__assign)({"data-key":d,onClick:C,type:t,size:r,"data-is-active":b,"data-disabled":c,isActive:b,disabled:c,tabPosition:i,minWidth:l||O,maxWidth:s||k,width:u||f},{children:e.headerFunc({isActive:b,disabled:c,key:d,activeKey:_})}),d)})),F=c(j).map((function(e){var i=e.key,o=e.bodyFunc,r=e.disabled,d=e.key===_,c={isActive:d,disabled:r,key:i,activeKey:_};return Object(a.jsx)(b,Object(n.__assign)({"data-is-active":d,type:t,forceRender:v,isActive:d},{children:(v||d)&&o(c)}),i)}));return Object(a.jsxs)(s.f,Object(n.__assign)({className:h},{children:["top"===i&&Object(a.jsx)(s.e,Object(n.__assign)({className:x},{children:N}),void 0),Object(a.jsx)(s.b,{children:F},void 0),"bottom"===i&&Object(a.jsx)(s.e,Object(n.__assign)({className:x},{children:N}),void 0)]}),void 0)}},"6axe":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/lcClassHash.7ec701c5.png"},"7Ipj":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/arrayAndString.dc8178ca.png"},"7YR0":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/puTongShu.3bc80735.png"},"7aLQ":function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/banner-dark.002b212d.png"},"9Bbn":function(e,t,i){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"prizeClaim"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"relatedKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"relatedType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ActivityRelatedTypeEnum"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"business"}},type:{kind:"NamedType",name:{kind:"Name",value:"ActivityBusiness"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prizeClaim"},arguments:[{kind:"Argument",name:{kind:"Name",value:"relatedKey"},value:{kind:"Variable",name:{kind:"Name",value:"relatedKey"}}},{kind:"Argument",name:{kind:"Name",value:"relatedType"},value:{kind:"Variable",name:{kind:"Name",value:"relatedType"}}},{kind:"Argument",name:{kind:"Name",value:"business"},value:{kind:"Variable",name:{kind:"Name",value:"business"}}},{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prizeItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"desc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hint"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prizeLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAddressRequired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"myPrizeLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updateAddressDeadline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prizeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimedNumber"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"addressId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"myPrizeLink"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"mutation prizeClaim($relatedKey: String, $relatedType: ActivityRelatedTypeEnum, $business: ActivityBusiness, $slug: String) {\n  prizeClaim(relatedKey: $relatedKey, relatedType: $relatedType, business: $business, slug: $slug) {\n    ok\n    result {\n      prizeItems {\n        name\n        cover\n        desc\n        hint\n        prizeLink\n        isAddressRequired\n        myPrizeLink\n        updateAddressDeadline\n        prizeType\n        sourceId\n        claimedNumber\n      }\n      addressId\n      myPrizeLink\n    }\n  }\n}"}},operationName:"prizeClaim",defName:"prizeClaim"}},"9xzp":function(e,t,i){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookPageHelpfulFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookPageHelpfulFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isHelpful"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"helpfulCount"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query leetbookPageHelpfulFeedback($pageId: ID!) {\n  leetbookPageHelpfulFeedback(pageId: $pageId) {\n    isHelpful\n    helpfulCount\n  }\n}\n"}},operationName:"leetbookPageHelpfulFeedback",defName:"leetbookPageHelpfulFeedback"}},A0yd:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/lcClassLianBiao.c8e1406f.png"},BmmU:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n,a=i("D57K"),o=i("jg1C"),r=(i("ERkP"),i("k6is")),d=i("tgHz"),c=i("TMWK"),l=i("fgAA"),s=i("lDJ/"),u=i("IM9M"),b={padding:"10px 0","p, ul, ol, dl":{lineHeight:"24px"}},p=Object(c.a)(u.a,{target:"e4o6ek10"})(Object(a.__assign)(Object(a.__assign)({},b),((n={hr:{margin:"10px 0"},".leetbook-info":{fontSize:"14px",textAlign:"justify",color:l.a.grey(7)},".leetbook-info .round, .leetbook-info .round-sm":{borderRadius:"5px"},".leetbook-info .round-md":{borderRadius:"8px"},".leetbook-info .round-lg":{borderRadius:"13px"},".leetbook-info .round-xl":{borderRadius:"21px"},".leetbook-info .round-xxl":{borderRadius:"34px"},".leetbook-info .align-center, .leetbook-info .text-center":{textAlign:"center"},".leetbook-info h1, .leetbook-info h2, .leetbook-info h3":{fontWeight:"bold",fontSize:"18px",margin:"0 0 15px 0",color:l.a.grey(8)},".leetbook-info p, .leetbook-info ul li, .leetbook-info ol li, .leetbook-info .panel, .leetbook-info table":{lineHeight:"24px"}," .leetbook-info ul, .leetbook-info ol":{paddingLeft:"20px"},".leetbook-info .panel":{padding:"15px 20px",borderRadius:"8px",background:l.a.grey(0),border:"1px solid "+l.a.grey(0),boxShadow:"0 6px 18px "+l.a.fix.grey(9,.14)},".leetbook-info table.classlist":{width:"100%"},".leetbook-info table.classlist, .leetbook-info table.classlist *":{border:"none"},".leetbook-info table.classlist th, .leetbook-info table.classlist td":{padding:"10px 20px"},".leetbook-info table.classlist th":{color:l.a.fix.grey(0),background:l.a.fix.grey(9),fontSize:"18px",textAlign:"center"},".leetbook-info table.classlist tr:nth-of-type(2n - 1) td":{background:"rgba(1, 1, 1, 0.1)"},".leetbook-info table.classlist tr:first-child th:first-child, .leetbook-info table.classlist tr:first-child td:first-child":{borderTopLeftRadius:"8px"},".leetbook-info table.classlist tr:first-child th:last-child, .leetbook-info table.classlist tr:first-child td:last-child":{borderTopRightRadius:"8px"},".leetbook-info table.classlist tr:last-child th:first-child, .leetbook-info table.classlist tr:last-child td:first-child":{borderBottomLeftRadius:"8px"},".leetbook-info table.classlist tr:last-child th:last-child, .leetbook-info table.classlist tr:last-child td:last-child":{borderBottomRightRadius:"8px"},".leetbook-info .heading":{position:"relative",zIndex:1,margin:"20px 0",padding:"0 50px",textAlign:"center",display:"inline-block",height:"45px",fontWeight:"bold",minWidth:"220px",lineHeight:"43px",fontSize:"18px",color:l.a.grey(8)},".leetbook-info .heading .dec_frame":{top:0,left:0,zIndex:1,position:"absolute",width:"100%",height:"45px",border:"1px solid "+l.a.grey(4)},".leetbook-info .heading .dec_frame::before":{content:'""',display:"block",zIndex:1,position:"absolute",height:"45px",width:"calc(100% + 2px)",border:"1px solid "+l.a.grey(4),top:"-5px",left:"-5px"},".leetbook-info .heading .dec_frame::after":{content:'""',display:"block",zIndex:1,position:"absolute",height:"45px",width:"calc(100% + 2px)",border:"1px solid "+l.a.grey(4),top:"3px",left:"3px"},".leetbook-info .heading .dec":{borderRadius:"100%",position:"absolute",height:"15px",width:"15px",top:"15px",left:"15px",background:"linear-gradient(-90deg, #e761ab, #7c84f2)"},".leetbook-info .heading .dec_t":{width:"72px",height:"72px",position:"absolute",clipPath:"inset(0px 0px 0px 43px)",transform:"rotate(225deg)",top:"-20px",left:"-20px"},".leetbook-info .heading .dec_t::after":{content:'""',position:"absolute",top:"10px",bottom:"10px",left:"10px",right:"10px",transform:"rotate(-45deg)",background:"linear-gradient(90deg, #e761ab, #7c84f2)"},".leetbook-info .heading .dec_t:last-child":{top:"initial",left:"initial",bottom:"-20px",right:"-20px",zIndex:2,width:"64px",height:"64px",clipPath:"inset(0px 0px 0px 40px)",transform:"rotate(45deg)"}})[l.c]={".leetbook-info .panel":{background:l.a.grey(2),border:"1px solid "+l.a.grey(4)},".leetbook-info img.title":{filter:"invert() hue-rotate(180deg) brightness(1.5)"}},n)),"label:StyledHTML;"),m=Object(c.a)(s.a,{target:"e4o6ek11"})(Object(a.__assign)({},b),"label:StyledMarkdown;"),g=function(e){var t=e.type,i=e.children,n=e.className;if("MARKDOWN"===t)return Object(o.jsx)(m,Object(a.__assign)({className:n},{children:i}),void 0);if("HTML"===t){var c=Object(d.a)(i);return Object(o.jsx)(p,Object(a.__assign)({className:n},{children:Object(o.jsx)(r.a,{html:c,config:{ADD_TAGS:["iframe","style"],FORCE_BODY:!0}},void 0)}),void 0)}return null}},CHb6:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("prCu"),a=i.n(n),o=i("ERkP"),r=i.n(o),d=i("zCf4");function c(){var e=Object(d.j)();return r.a.useMemo((function(){return a.a.parse(e.search.slice(1))}),[e])}},EO8L:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/no-recent-book.bb420095.png"},FwEL:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/sortAlgorithms.dc1f0935.png"},"I+mb":function(e,t,i){"use strict";function n(e){return e.children||null}i.d(t,"a",(function(){return n}))},M8E6:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/coding.ea04abde.png"},Mrg4:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/LCplus.0607837d.png"},OVfV:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/graph.cde02ded.png"},POpa:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e,t){try{return e?JSON.parse(e):t}catch(e){return t}}},PqOD:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("jg1C"),o=i("ERkP"),r=i.n(o),d=i("GG6d"),c=r.a.forwardRef((function(e,t){return Object(a.jsx)(d.a,Object(n.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M4 5a1 1 0 01.993.883L5 6v10.2a.8.8 0 00.7.794l.1.006H10a1 1 0 01.117 1.993L10 19H5.8a2.8 2.8 0 01-2.795-2.63L3 16.2V6a1 1 0 011-1zm13.448 0c1.077 0 2.117.288 3.046.829.463.27.628.88.369 1.361a.942.942 0 01-1.309.384A4.16 4.16 0 0017.448 7c-2.488 0-4.525 2.228-4.525 5s2.037 5 4.525 5c.75 0 1.47-.2 2.118-.58a.942.942 0 011.31.379 1.022 1.022 0 01-.365 1.362 6.027 6.027 0 01-3.063.839C13.876 19 11 15.855 11 12s2.876-7 6.448-7z",clipRule:"evenodd"},void 0)}),void 0)}))},SX05:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/recursionAndDivideAndConquer.81705b0f.png"},UcSj:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/lcClassDynamicProgrammingBasic.93cc6612.png"},WQu4:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/dynamicProgramming3Plus.e777214a.png"},XHAk:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/qianZhuiHe.b358d2d5.png"},Ybj7:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/bitManipulationAndMath.e2716f38.png"},YvpN:function(e,t,i){"use strict";i.d(t,"b",(function(){return j})),i.d(t,"a",(function(){return v}));var n=i("jg1C"),a=i("w0mW"),o=i.n(a),r=i("ERkP"),d=i.n(r),c=i("fQLH"),l=i("D57K"),s=i("lXyA"),u=i.n(s),b=i("xAVt"),p=i.n(b);var m=u()((function(){return Promise.all([new Promise((function(e,t){var i=document.createElement("script");i.type="text/javascript",i.src="//g.alicdn.com/de/prismplayer/2.8.7/aliplayer-min.js",i.onload=function(){e(window.Aliplayer)},i.onerror=t,document.head.appendChild(i)})),new Promise((function(e,t){var i=document.createElement("link");i.rel="stylesheet",i.href="//g.alicdn.com/de/prismplayer/2.8.7/skins/default/aliplayer-min.css",i.onload=function(){e()},i.onerror=t,document.head.appendChild(i)}))]).then((function(e){return Object(l.__read)(e,1)[0]}))}));var g=new c.a,j=g.asObservable();function v(e){var t=e.uuid,i=e.videoId,a=e.playAuth,r=e.coverUrl,c=e.containerElm,l=e.videoSize;return d.a.useEffect((function(){var e,n=!1;return m().then((function(d){if(!n){var s=c.parentElement;if(s){var u=function(e){var t=document.createElement("div"),i=document.createElement("div");if(t.setAttribute("class",p.a.prismPlayerContainer),t.setAttribute("data-has-size",""+!!e),t.appendChild(i),e){var n=e.height/e.width;t.style.maxWidth=e.width+"px",i.style.padding=50*n+"% 50%"}return t}(l),b=document.createElement("div"),m=o()("aliPlayer");b.setAttribute("id",m),u.appendChild(b),s.replaceChild(u,c),function(e){e.on("ready",(function(){var t=e._el;t.tabIndex=1,t.onkeydown=function(t){var i=t.code;"Tab"!==i&&(t.preventDefault(),t.stopPropagation());var n=e.getStatus();if("Space"===i&&("playing"===n?e.pause():e.play()),"ArrowLeft"===i||"ArrowRight"===i){var a=e.getCurrentTime();e.seek("ArrowLeft"===i?a-3:a+3)}}}))}(e=new d({id:m,vid:i,playauth:a,encryptType:1,cover:r,autoplay:!1,preload:!0,playsinline:!0,keyShortCuts:!0})),function(e){for(var t=e.getElementsByTagName("img"),i=t.length,n=0;n<i;n++){var a=t.item(n),o=a.parentNode;if(o&&"prism-progress-cursor"===o.className){a.className=(a.className||"")+" no-preview";break}}}(b),e.on("play",(function(){g.next(t)})),e.on("ready",(function(){var t;b.setAttribute("data-is-ready","true"),null===(t=b.querySelector("video"))||void 0===t||t.addEventListener("click",(function(){"playing"===e.getStatus()?e.pause():e.play()}))}))}}})),function(){n=!0}}),[t,l,i,a,r,c]),Object(n.jsx)("div",{},void 0)}},Zpc7:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/lcClassQueueStack.5bbf4f2a.png"},dmxw:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/leetbook-read-prize.15533296.png"},dylr:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return y}));var n,a=i("D57K"),o=i("5Nzd"),r=i("u3dr"),d=i("2wT7"),c=i("9EWH"),l=i("d9YI"),s=i("HnWI"),u=i("AouM"),b=i("Jg5f"),p=i("IMYO"),m=i("W/Ou"),g=i("RtDN"),j=i("B07F"),v=i("y9rd"),f=i("9xzp"),O={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookSetPageIsHelpful"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookSetPageIsHelpful"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"pageId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation leetbookSetPageIsHelpful($pageId: ID!) {\n  leetbookSetPageIsHelpful(pageId: $pageId) {\n    ok\n  }\n}"}},operationName:"leetbookSetPageIsHelpful",defName:"leetbookSetPageIsHelpful"},k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"leetbookPageFeedbackType"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookPageFeedbackType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"desc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mark"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtype"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"desc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mark"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query leetbookPageFeedbackType {\n  leetbookPageFeedbackType {\n    desc\n    mark\n    subtype {\n      desc\n      mark\n    }\n  }\n}\n"}},operationName:"leetbookPageFeedbackType",defName:"leetbookPageFeedbackType"},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"leetbookAddPageFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"feedbackInfo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPageFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leetbookAddPageFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"feedbackInfo"},value:{kind:"Variable",name:{kind:"Name",value:"feedbackInfo"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation leetbookAddPageFeedback($feedbackInfo: AddPageFeedbackInput!) {\n  leetbookAddPageFeedback(feedbackInfo: $feedbackInfo) {\n    ok\n  }\n}"}},operationName:"leetbookAddPageFeedback",defName:"leetbookAddPageFeedback"},x=i("L6nh");!function(e){e.Idle="Idle",e.Loading="Loading",e.Success="Success",e.Error="Error"}(n||(n={}));var y=function(e){function t(t){var i=e.call(this)||this;return i.client=t,i.defaultState={isHelpful:!1,helpfulCount:0,leetbookPageFeedbackType:[],submitStatus:n.Idle},i}var i,d,y,_,S,C,N,F,w,I,P,T,A;return Object(a.__extends)(t,e),t.prototype.setFeedback=function(e,t){var i,n;e.isHelpful=(null===(i=t.leetbookPageHelpfulFeedback)||void 0===i?void 0:i.isHelpful)||!1,e.helpfulCount=(null===(n=t.leetbookPageHelpfulFeedback)||void 0===n?void 0:n.helpfulCount)||0},t.prototype.setFeedbackType=function(e,t){e.leetbookPageFeedbackType=t},t.prototype.setSubmitStatus=function(e,t){e.submitStatus=t},t.prototype.fetchFeedback=function(e){var t=this;return e.pipe(Object(u.a)((function(e){return t.client.query({query:f.a,variables:{pageId:e},fetchPolicy:"network-only"}).pipe(Object(b.a)((function(e){var i=e.data;return t.getActions().setFeedback(i)})))})))},t.prototype.setIsHelpful=function(e){var t=this;return e.pipe(Object(u.a)((function(e){return t.client.mutate({mutation:O,variables:{pageId:e}}).pipe(Object(b.a)((function(){return t.getActions().fetchFeedback(e)})))})))},t.prototype.fetchLeetbookPageFeedbackType=function(e){var t=this;return e.pipe(Object(u.a)((function(){return t.client.query({query:k}).pipe(Object(b.a)((function(e){var i=e.data;return t.getActions().setFeedbackType(i.leetbookPageFeedbackType)})))})))},t.prototype.submitPageFeedback=function(e){var t=this;return e.pipe(Object(u.a)((function(e){return t.client.mutate({mutation:h,variables:e}).pipe(Object(p.a)((function(){return l.a})),Object(b.a)((function(){return v.a.success("\u63d0\u4ea4\u6210\u529f\uff01\u611f\u8c22\u4f60\u7684\u53cd\u9988\uff01"),t.getActions().setSubmitStatus(n.Success)})),Object(m.a)(t.getActions().setSubmitStatus(n.Loading)),Object(g.a)(t.getActions().setSubmitStatus(n.Idle)))})))},Object(a.__decorate)([Object(r.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(i="undefined"!==typeof c.Draft&&c.Draft)?i:Object,"function"===typeof(d="undefined"!==typeof x.LeetbookPageHelpfulFeedback&&x.LeetbookPageHelpfulFeedback.Query)?d:Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setFeedback",null),Object(a.__decorate)([Object(r.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(y="undefined"!==typeof c.Draft&&c.Draft)?y:Object,Object]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setFeedbackType",null),Object(a.__decorate)([Object(r.c)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(_="undefined"!==typeof c.Draft&&c.Draft)?_:Object,String]),Object(a.__metadata)("design:returntype",void 0)],t.prototype,"setSubmitStatus",null),Object(a.__decorate)([Object(r.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof s.a&&s.a)?S:Object]),Object(a.__metadata)("design:returntype","function"===typeof(C="undefined"!==typeof s.a&&s.a)?C:Object)],t.prototype,"fetchFeedback",null),Object(a.__decorate)([Object(r.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(N="undefined"!==typeof s.a&&s.a)?N:Object]),Object(a.__metadata)("design:returntype","function"===typeof(F="undefined"!==typeof s.a&&s.a)?F:Object)],t.prototype,"setIsHelpful",null),Object(a.__decorate)([Object(r.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(w="undefined"!==typeof s.a&&s.a)?w:Object]),Object(a.__metadata)("design:returntype","function"===typeof(I="undefined"!==typeof s.a&&s.a)?I:Object)],t.prototype,"fetchLeetbookPageFeedbackType",null),Object(a.__decorate)([Object(r.b)(),Object(a.__metadata)("design:type",Function),Object(a.__metadata)("design:paramtypes",["function"===typeof(P="undefined"!==typeof s.a&&s.a)?P:Object]),Object(a.__metadata)("design:returntype","function"===typeof(T="undefined"!==typeof s.a&&s.a)?T:Object)],t.prototype,"submitPageFeedback",null),t=Object(a.__decorate)([Object(o.a)(),Object(a.__metadata)("design:paramtypes",["function"===typeof(A="undefined"!==typeof j.a&&j.a)?A:Object])],t)}(d.a)},h80M:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/dfs.b6c51f25.png"},irZQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("D57K"),a=i("Srm7"),o=i.n(a),r=i("ERkP"),d=i("ildc"),c=i("u/u7"),l=i("sTfV");function s(e){void 0===e&&(e=2e3);var t=Object(n.__read)(Object(r.useState)(),2),i=t[0],a=t[1],s=void 0!==i;return Object(r.useEffect)((function(){Promise.race([Object(c.a)(),new Promise((function(t){return setTimeout((function(){console.info("timeout when loading app token..."),t(null)}),e)}))]).then((function(e){a(null!==e&&void 0!==e?e:"")}))}),[e]),Object(r.useEffect)((function(){var e,t=null!==(e=o.a.get(l.a))&&void 0!==e?e:"";s&&(o.a.set(l.a,i),i!==t?window.location.reload():Object(d.o)()&&i&&console.info("app token is valid."))}),[s,i]),s}},itFC:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var n=i("D57K"),a=i("jAPv"),o=i("3I8i"),r=i("8Zi/"),d=i.n(r),c=i("ERkP"),l=i.n(c),s=i("jg1C"),u=i("GG6d"),b=l.a.forwardRef((function(e,t){return Object(s.jsx)(u.a,Object(n.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M3 9a2 2 0 002 2h4a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v4zm2-3a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm8 3a2 2 0 002 2h4a2 2 0 002-2V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v4zm2-3a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1h-2a1 1 0 01-1-1V6zM5 21a2 2 0 01-2-2v-4a2 2 0 012-2h4a2 2 0 012 2v4a2 2 0 01-2 2H5zm1-6a1 1 0 00-1 1v2a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 00-1-1H6zm14.5 4h-1a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5zm-7-6h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5zm2 2a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-1zm-2 2h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5zm2 2a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-1zm1.5-1.5a.5.5 0 01.5-.5h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1zm1.5-4.5h-1a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h1a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5zm1 2h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z",clipRule:"evenodd"},void 0)}),void 0)})),p=i("UmVR"),m=i("fsNG"),g=i.n(m),j=i("nnyb");function v(e){var t=e.styles,i=e.scrollElement,r=Object(c.useCallback)((function(){!function(e){var t;void 0===e&&(e=null!==(t=window.document.scrollingElement)&&void 0!==t?t:window.document.documentElement);o.a.remove(e),Object(o.a)({targets:e,scrollTop:0,easing:"linear",duration:300})}((null===i||void 0===i?void 0:i.current)||void 0)}),[i]);return Object(a.c)(j.e,Object(n.__assign)({css:t},{children:[Object(a.c)(j.f,{children:[Object(a.c)(j.g,{children:[Object(a.b)(j.h,{children:"\u529b\u6263\uff08LeetCode\uff09App"},void 0),Object(a.b)(j.h,{children:"\u626b\u7801\u5f00\u542f\u638c\u4e0a\u5b66\u4e60"},void 0),Object(a.b)(j.d,{children:Object(a.b)(d.a,{renderAs:"svg",value:window.location.href,level:"Q",imageSettings:{src:g.a,width:40,height:40}},void 0)},void 0),Object(a.b)(j.i,{children:"\u4f7f\u7528 App \u626b\u4e00\u626b\u529f\u80fd\uff0c\u7acb\u5373\u5f00\u542f\u5b66\u4e60"},void 0)]},void 0),Object(a.b)(j.a,{children:Object(a.b)(b,{},void 0)},void 0)]},void 0),Object(a.b)(j.j,Object(n.__assign)({onClick:r,css:j.l},{children:Object(a.b)(p.a,{},void 0)}),void 0)]}),void 0)}},oUHe:function(e,t,i){"use strict";i.d(t,"a",(function(){return F})),i.d(t,"b",(function(){return I}));var n=i("D57K"),a=i("BQ33"),o=i.n(a),r=i("5MVY"),d=i.n(r),c=i("dwj7"),l=i("AouM"),s=i("Jg5f"),u=i("a5QR"),b=i("5Nzd"),p=i("8Fqk"),m=i("HnWI"),g=i("Cc9O"),j=i("0cIN"),v=i("JpoA"),f=i("pN2L"),O=i("W/Ou"),k=i("4HYP"),h=i("IMYO"),x=i("eb+u"),y=i("U3QC"),_=i("fa4O"),S=i("l8fx");var C=function(e){return Object(p.a)((function(){return new m.a((function(t){var i=new AbortController;return function(e,t,i){var n,a=null!==(n=document.timeline.currentTime)&&void 0!==n?n:performance.now();function o(e){t.aborted||(i(e),r(e))}function r(t){var i=t-a,n=Math.round(i/e)*e,r=a+n+e-performance.now();setTimeout((function(){return requestAnimationFrame(o)}),r)}r(a)}(e,i.signal,(function(e){return t.next(e)})),function(){i.abort()}}))}))},N=function(){function e(e){var t=this,i=void 0===e?{}:e,a=i.tickTime,o=void 0===a?1e3:a,r=i.checkServerInterval,d=void 0===r?1e4:r;this._current=null,this._current$=Object(p.a)((function(){var e=b.b.getInstance(S.a),i=C(t._checkServerInterval).pipe(Object(O.a)(void 0)).pipe(Object(l.a)((function(){return Object(g.a)(Object(j.a)(t._tickTime/2).pipe(Object(k.b)((function(){return Object(v.a)(null)}))),e.get("/timestamp/")).pipe(Object(s.a)((function(e){return 1e3*e.timestamp})),Object(h.a)((function(){return null===t._current?Object(f.a)(Date.now()):Object(f.a)(t._current+t._tickTime)})),Object(k.b)((function(e){var i,n=null!==(i=document.timeline.currentTime)&&void 0!==i?i:performance.now();return C(t._tickTime).pipe(Object(s.a)((function(t){return e+t-n})),Object(O.a)(e))})))})));return C(t._tickTime).pipe(Object(s.a)((function(){return Date.now()}))).pipe(Object(x.a)(i),Object(s.a)((function(e){var i=Object(n.__read)(e,2),a=i[0],o=i[1];return t._isLocalDateValid(a,o)?a:o})),Object(O.a)(Date.now()),Object(y.a)((function(e){return t._current=e})))})),this._isLocalDateValid=function(e,i){return Math.abs(e-i)<=t._tickTime+15e3},this._tickTime=o,this._checkServerInterval=d}return Object.defineProperty(e.prototype,"current$",{get:function(){return this._current$},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sharedCurrent$",{get:function(){return this._current$.pipe(Object(_.a)())},enumerable:!1,configurable:!0}),e}();function F(e){if(e<=0)return{days:0,hours:0,minutes:0,seconds:0,remainingMs:0};var t=o.a.duration(e,"milliseconds");return{days:Math.floor(t.asDays()),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),remainingMs:e}}o.a.extend(d.a);var w=(new N).sharedCurrent$;function I(e){return Object(c.a)((function(e,t){return t.pipe(Object(l.a)((function(e){var t=Object(n.__read)(e,1)[0];return w.pipe(Object(s.a)((function(e){return t-e})),Object(u.a)((function(e){return e>0})),Object(s.a)((function(e){return[F(e),Math.floor(e/1e3)<=0]})))})))}),[F(e-Date.now()),!(e>Date.now())],[e])}},p0kA:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/greedy.fa975877.png"},qC7o:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return l}));var n=i("D57K"),a=i("jg1C"),o=i("ERkP"),r=i("66Zf"),d=i("rm0z"),c=i("zVlL");function l(t){var i=Object(n.__read)(Object(o.useState)(6),2),l=i[0],s=i[1];Object(o.useEffect)((function(){r.a.leetbookBookModuleExposure(t.module)}),[t.module]);var u=Object(o.useMemo)((function(){var e;return null===(e=t.books)||void 0===e?void 0:e.filter((function(e){return!!e}))}),[t.books]);return Object(a.jsx)(c.b,{children:Array.isArray(u)&&u.length>l?u.slice(0,l).map((function(i,n){return Object(a.jsx)(c.a,{children:Object(a.jsx)(d.a,{book:i,module:t.module},void 0)},e+i.id+n)})).concat(Object(a.jsx)(c.c,{children:Object(a.jsx)(c.d,Object(n.__assign)({onClick:function(){r.a.leetbookBookShowMoreClick(),s(l+6)}},{children:"\u52a0\u8f7d\u66f4\u591a"}),void 0)},e+"viewMore")):Array.isArray(u)?u.map((function(i,n){return Object(a.jsx)(c.a,{children:Object(a.jsx)(d.a,{book:i,module:t.module},void 0)},e+i.id+n)})):void 0},void 0)}}).call(this,i("cyaT")(e))},qFH2:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("D57K"),a=i("K/af"),o=i("pu3o"),r=i("ERkP"),d=i("EdJC"),c=i("gd5h"),l=i("xqpu"),s=i("ildc"),u=i("USmW"),b=i("/EbH"),p=i("6Ltx"),m=i("IDJE");function g(e){var t=Object(r.useContext)(l.d).isSignedIn,i=Object(n.__read)(Object(a.a)(u.a),1)[0].enableNewPremiumPage,g=Object(d.a)(["query_payment_token",e],(function(){return c.d.query({query:b.a,fetchPolicy:"network-only"}).then((function(e){var t;return null===(t=e.data.myTokens)||void 0===t?void 0:t.paymentUserToken}))}),{enabled:!!t}),j=g.data,v=g.isLoading,f=Object(r.useMemo)((function(){if(i&&!(null===e||void 0===e?void 0:e.oldVersionPay)){var t=Object(o.stringify)(e);return"/premium-detail/"+(t?"?"+t:"")}if(j){var n=Object(m.c)(j,e);return Object(s.t)()?Object(p.d)(n):n}}),[i,e,j]),O=Object(r.useCallback)((function(){f&&open(f,"_blank")}),[f]);return{isLoading:v,paymentUrl:f,goPayment:O}}},rm0z:function(e,t,i){"use strict";i.d(t,"a",(function(){return z}));var n=i("D57K"),a=i("jg1C"),o=i("excc"),r=(i("FLAH"),i("ERkP")),d=i.n(r),c=i("aSGY"),l=i("ildc"),s=i("+19b"),u=i("34li"),b=i("66Zf"),p=i("Mrg4"),m=i.n(p),g=i("2qVZ"),j=i.n(g),v=i("TMWK"),f=i("fgAA"),O=Object(v.a)("div",{target:"e1d8t7hf0"})({"&:hover .is-wrong-mobile":{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.02), 0px 4px 8px rgba(0, 0, 0, 0.02), 0px 6px 12px rgba(0, 0, 0, 0.02)",transform:"translateY(-4px)"}},"label:Wrapper;"),k=Object(v.a)("div",{target:"e1d8t7hf1"})({width:"379px",height:"100px",background:f.b.Layer1(),borderRadius:"8px",marginBottom:"16px",position:"relative",cursor:"pointer",transition:"transform 0.3s cubic-bezier(0.22, 1, 0.36, 1)"},"label:Container;"),h=Object(v.a)("img",{target:"e1d8t7hf2"})({width:"68px",height:"92px",borderRadius:"4px",margin:"4px",float:"left"},"label:Img;"),x=Object(v.a)("div",{target:"e1d8t7hf3"})({width:"283px",height:"100px",position:"relative",left:"84px"},"label:Content;"),y=Object(v.a)("div",{target:"e1d8t7hf4"})({lineHeight:"20px",width:"100%",fontWeight:500,fontSize:"14px",top:"8px",position:"absolute",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},"label:Title;"),_=Object(v.a)("div",{target:"e1d8t7hf5"})({lineHeight:"16px",fontSize:"12px",width:"100%",position:"absolute",top:"32px",fontWeight:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:f.b.LabelSecondary()},"label:Description;"),S=Object(v.a)("div",{target:"e1d8t7hf6"})({lineHeight:"16px",fontSize:"12px",fontWeight:"400",color:f.b.lc_text_tertiary(),bottom:"8px",position:"absolute"},"label:Bottom;"),C=Object(v.a)("span",{target:"e1d8t7hf7"})({marginLeft:"24px"},"label:Views;"),N=Object(v.a)("div",{target:"e1d8t7hf8"})({color:f.b.Overlay1(),display:"flex",flexWrap:"wrap",width:"268px",minHeight:"156px"},"label:PopoverContent;"),F=Object(v.a)("div",{target:"e1d8t7hf9"})({fontWeight:"500",fontSize:"16px",lineHeight:"24px",alignSelf:"flex-start",width:"100%","> p":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"> div":{marginTop:"8px",fontWeight:400,fontSize:"14px",lineheight:"20px",opacity:"0.8",alignSelf:"flex-start",wordBreak:"break-all",maxHeight:"100px",overflowY:"auto"}},"label:PopoverData;"),w=Object(v.a)("div",{target:"e1d8t7hf10"})({alignSelf:"flex-end",fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"label:User;"),I=Object(v.a)("img",{target:"e1d8t7hf11"})({height:"20px",width:"20px",marginRight:"8px",borderRadius:"50%"},"label:UserImg;"),P=Object(v.a)("span",{target:"e1d8t7hf12"})({fontWeight:500},"label:UserName;"),T=Object(v.a)("span",{target:"e1d8t7hf13"})({opacity:"0.8",fontWeight:400},"label:UserCompany;"),A=Object(v.a)("div",{target:"e1d8t7hf14"})({color:"#FFA116",fontWeight:"500",fontSize:"12px",lineHeight:"16px",position:"absolute",bottom:"30px","> span":{color:f.b.lc_text_quaternary(),marginLeft:"4px",textDecoration:"line-through"}},"label:VipText;"),R=Object(v.a)("img",{target:"e1d8t7hf15"})({height:"16px",width:"19px",position:"absolute",left:"-32px",top:"6px"},"label:VipImg;"),D=Object(v.a)("div",{target:"e1d8t7hf16"})({position:"absolute",bottom:"4px",left:"-80px",color:"#fff",paddingLeft:"8px",width:"68px",height:"20px",fontWeight:"500",fontSize:"12px",lineHeight:"16px",background:"linear-gradient(180deg, rgba(96, 96, 96, 0) 0%, rgba(0, 0, 0, 0.24) 100%)",borderRadius:"0 0 4px 4px"},"label:Price;"),B=Object(v.a)("img",{target:"e1d8t7hf17"})({height:"14px",width:"14px",marginRight:"4px",verticalAlign:"text-bottom"},"label:ViewImg;"),z=d.a.memo((function(e){var t,i,d,p,g=null===e||void 0===e?void 0:e.book;Object(r.useEffect)((function(){b.a.leetbookBookCardExposure(e.book.title),b.a.leetbookBookModuleCardExposure(e.book.title,e.module)}),[e.book,e.module]);var v=Object(r.useMemo)((function(){var e,t;return(null===(e=g.productInfo)||void 0===e?void 0:e.premiumOnly)?s.a.PremiumOnly:(null===(t=g.productInfo)||void 0===t?void 0:t.allowBorrow)?s.a.PremiumFree:null}),[g.productInfo]);if(!g)return Object(a.jsx)(a.Fragment,{},void 0);var f=Object(a.jsxs)(N,{children:[Object(a.jsxs)(F,{children:[Object(a.jsx)("p",{children:g.title},void 0),Object(a.jsx)("div",{children:g.description},void 0)]},void 0),Object(a.jsxs)(w,{children:[Object(a.jsx)(I,{src:null===(i=null===(t=g.author)||void 0===t?void 0:t.user)||void 0===i?void 0:i.userAvatar},void 0),Object(a.jsx)(P,{children:null===(p=null===(d=g.author)||void 0===d?void 0:d.user)||void 0===p?void 0:p.realName},void 0),function(){var e,t;if(null===(e=g.author)||void 0===e?void 0:e.title)return Object(a.jsxs)(T,{children:[" | ",null===(t=g.author)||void 0===t?void 0:t.title]},void 0)}()]},void 0)]},void 0);var z=Object(a.jsxs)(x,{children:[Object(a.jsx)(y,{children:g.title},void 0),Object(a.jsx)(_,{children:g.recommendation},void 0),function(){var e,t;if(v!==s.a.PremiumOnly)return(null===(t=null===(e=g.productInfo)||void 0===e?void 0:e.product)||void 0===t?void 0:t.price)&&g.ownedType!==u.Pb.Purchased?Object(a.jsxs)(D,{children:["\xa5",g.productInfo.product.price/100]},void 0):void 0}(),function(){var e,t,i,n,o,r,d,c;return v===s.a.PremiumOnly?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(A,{children:"\u4f1a\u5458\u4e13\u4eab"},void 0),Object(a.jsx)(R,{src:m.a},void 0)]},void 0):v===s.a.PremiumFree?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(A,{children:"\u4f1a\u5458\u514d\u8d39\u501f\u9605"},void 0),Object(a.jsx)(R,{src:m.a},void 0)]},void 0):(null===(t=null===(e=g.productInfo)||void 0===e?void 0:e.product)||void 0===t?void 0:t.premiumPrice)&&(null===(n=null===(i=g.productInfo)||void 0===i?void 0:i.product)||void 0===n?void 0:n.price)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(A,{children:["\u4f1a\u5458\u4ef7 \xa5",(null===(r=null===(o=g.productInfo)||void 0===o?void 0:o.product)||void 0===r?void 0:r.premiumPrice)/100,Object(a.jsxs)("span",{children:["\xa5",(null===(c=null===(d=g.productInfo)||void 0===d?void 0:d.product)||void 0===c?void 0:c.price)/100]},void 0)]},void 0),Object(a.jsx)(R,{src:m.a},void 0)]},void 0):void 0}(),Object(a.jsxs)(S,{children:[g.chapterNum+" \u7ae0"," \xb7 ",g.pageNum+" \u8282",Object(a.jsxs)(C,{children:[Object(a.jsx)(B,{src:j.a},void 0),Object(c.a)(g.totalStudied)]},void 0)]},void 0)]},void 0);return Object(a.jsx)(o.a,Object(n.__assign)({content:f,align:{offset:[10,0]},getPopupContainer:function(){return document.querySelector(".book-card-popover")},placement:"rightTop"},{children:Object(a.jsx)(O,{children:Object(a.jsxs)(k,Object(n.__assign)({onClick:function(){!function(t){if(b.a.leetbookBookCardClick(e.book.title),b.a.leetbookBookModuleCardClick(e.book.title,e.module),t){var i=window.open("about:blank");i&&(i.location.href=location.origin+"/leetbook/detail/"+t+"/")}}(g.slug)},className:Object(l.q)()?"":"is-wrong-mobile"},{children:[Object(a.jsx)(h,{src:g.coverImg},void 0),z]}),void 0)},void 0)}),void 0)}))},sRRg:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/heap.84742eae.png"},tV9o:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("jg1C"),o=i("ERkP"),r=i.n(o),d=i("GG6d"),c=r.a.forwardRef((function(e,t){return Object(a.jsx)(d.a,Object(n.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e,{children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M12 12a5 5 0 110-10 5 5 0 010 10zm-9 9v-2a5 5 0 015-5h8a5 5 0 015 5v2a1 1 0 01-1 1H4a1 1 0 01-1-1z",clipRule:"evenodd"},void 0)}),void 0)}))},tgHz:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("Xpb+"),o=i.n(a),r=i("KjBU"),d=i.n(r),c=function(e){var t,i,a=(new DOMParser).parseFromString(e,"text/html"),r=a.getElementsByClassName("math-tex");try{for(var c=Object(n.__values)(r),l=c.next();!l.done;l=c.next()){var s=l.value,u=d()(s.innerHTML.replace(/\\[(, )]/g,""));s.innerHTML=o.a.renderToString(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}return function(e){var t=".leetbook-info .heading";if(null!=e.querySelector(t)&&!e.querySelector(".dec_frame"))for(var i=e.querySelectorAll(t),n=0;n<i.length;n++){var a=i[n].getAttribute("data-color1"),o=i[n].getAttribute("data-color2"),r=i[n].getAttribute("data-color"),d="";null!==a&&null!==o&&(d="\n        .dec#LB_dec_"+n+" {\n          background: linear-gradient(-90deg, "+a+", "+o+");\n        }\n        .dec_t#LB_dec_t1_"+n+"::after,\n        .dec_t#LB_dec_t2_"+n+"::after {\n          background: linear-gradient(90deg, "+a+", "+o+");\n        }\n      "),null!==r&&(d="\n        .dec#LB_dec_"+n+" {\n          background: "+r+";\n        }\n        .dec_t#LB_dec_t1_"+n+"::after,\n        .dec_t#LB_dec_t2_"+n+"::after {\n          background: "+r+";\n        }\n      "),i[n].innerHTML.includes('<div class="dec_frame">')||(i[n].innerHTML+="\n        <style>\n          "+d+'\n        </style>\n        <div class="dec_frame"></div>\n        <div class="dec" id="LB_dec_'+n+'"></div>\n        <div class="dec_t" id="LB_dec_t1_'+n+'"></div>\n        <div class="dec_t" id="LB_dec_t2_'+n+'"></div>\n      ')}}(a),a.documentElement.innerHTML}},tr1L:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/slidingWindowAndTwoPointers.452e656f.png"},twFB:function(e,t,i){var n=i("H87J"),a=i("xqc8")(n);e.exports=a},"u/u7":function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("lXyA"),o=i.n(a),r=i("ildc"),d=o()((function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){return window.LeetCodeJsBridge?[2,window.LeetCodeJsBridge]:[2,new Promise((function(e){document.addEventListener("LeetCodeJsBridgeReady",(function(){e(window.LeetCodeJsBridge)}),!1)}))]}))}))}));function c(){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e;return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return Object(r.o)()?(console.info("init js bridge..."),[4,d()]):[2,null];case 1:return e=t.sent(),[2,new Promise((function(t){e.callHandler("getAccessToken",{},(function(e){var i=e.token;console.info("\u83b7\u53d6\u5230 token "+i),t(i)}))}))]}}))}))}},uYd9:function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return d})),i.d(t,"a",(function(){return c})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return s})),i.d(t,"b",(function(){return u}));var n=i("TMWK"),a=i("fgAA"),o=Object(n.a)("span",{target:"elwd2yu0"})((function(e){var t=e.isActive,i=e.disabled,n=e.size,o=e.minWidth,r=e.maxWidth,d=e.width;return{minWidth:o,maxWidth:r,lineHeight:n.lineHeight,fontSize:n.fontSize,padding:n.verticalPadding+"px "+n.horizontalPadding+"px",flex:d?"none":"1",boxSizing:"border-box",position:"relative",display:"flex",width:d||"auto",alignItems:"center",justifyContent:"center",textAlign:"center",color:t?a.a.primary(5):a.a.grey(6,i?.5:1),fontWeight:t?"bold":"normal",cursor:i?"not-allowed":"pointer","&::before":{position:"absolute",top:"50%",transform:"translateX(-50%) translateY(-50%)",content:'""',left:0,opacity:1,height:n.dividerHeight,width:"1px",backgroundColor:a.a.grey(3)},"&:first-of-type":{"&::before":{width:"0"}},"&:last-child":{borderRight:"none"},"&:hover":{color:i?a.a.grey(6,.5):a.a.primary(5)}}}),"label:TabViewHeaderBlock;"),r=Object(n.a)(o,{target:"elwd2yu1"})((function(e){var t=e.isActive,i=e.tabPosition;return{backgroundColor:t?a.a.grey(0):a.a.grey(2),borderBottom:"top"!==i||t?"none":"1px solid "+a.a.grey(3),borderTop:"bottom"!==i||t?"none":"1px solid "+a.a.grey(3),borderLeft:t?"1px solid "+a.a.grey(3):"none",borderRight:t?"1px solid "+a.a.grey(3):"none","&::before":{display:t?"none":"visible"},'&[data-is-active="true"] + &':{"&::before":{display:"none"}},"&:last-child":{borderRight:"none"},"&:first-of-type":{borderLeft:"none","&::before":{display:"none"}}}}),"label:TabViewHeaderDefaultBlock;"),d=Object(n.a)(o,{target:"elwd2yu2"})((function(e){var t=e.isActive,i=e.tabPosition,n=e.size;return{"&::after":{content:'""',position:"absolute",height:t?"2px":"0",backgroundColor:t?a.a.primary(5):a.a.grey(0),left:"50%",transform:"translateX(-50%)",width:"calc(100% - "+2*n.horizontalPadding+"px)",bottom:t&&"top"===i?"0":"none",top:t&&"bottom"===i?"0":"none"}}}),"label:TabViewHeaderLineBlock;"),c=Object(n.a)("div",{target:"elwd2yu3"})((function(e){var t=e.size,i=e.isActive;return{padding:t.padding,boxSizing:"border-box",width:i?"100%":"0",height:i?"auto":"0",display:i?"visible":"none"}}),"label:TabViewBodyBlock;"),l=Object(n.a)("div",{target:"elwd2yu4"})({width:"100%"},"label:TabViewWrapper;"),s=Object(n.a)("div",{target:"elwd2yu5"})({display:"flex",flexWrap:"nowrap",width:"100%"},"label:TabViewHeaderWrapper;"),u=Object(n.a)("div",{target:"elwd2yu6"})({},"label:TabViewBodyWrapper;")},wdc6:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("TMWK"),a=i("cdBm"),o=i("fgAA"),r=i("Tnl3"),d={defaultScheme:"detail-light",schemes:{"detail-light":{textColor:o.a.grey(8),backgroundColor:o.a.grey(0),iconColor:o.a.grey(7),hoverBackgroundColor:o.a.grey(1),darkTextColor:o.a.grey(7),darkBackgroundColor:o.b.BaseGrey3(),darkIconColor:o.a.grey(6),darkHoverBackgroundColor:o.a.grey(5)},"detail-dark":{textColor:o.a.grey(0),backgroundColor:o.a.grey(8),iconColor:o.a.grey(1),hoverBackgroundColor:o.a.grey(9,.8),darkTextColor:o.a.grey(0),darkBackgroundColor:o.a.grey(8),darkHoverBackgroundColor:o.a.grey(7)}}},c=Object(n.a)(r.a,{target:"eyjjm610"})((function(e){var t,i=e.kind;return(t={})[o.c]={boxShadow:i.darkBorderColor&&"inset 0px 0px 0px 1px "+i.darkBorderColor,backgroundColor:i.darkBackgroundColor,color:i.darkTextColor,"> svg":{color:i.darkIconColor},"&:hover:not(:disabled)":{boxShadow:i.darkBorderColor&&"inset 0px 0px 0px 1px "+i.darkHoverBorderColor,backgroundColor:i.darkHoverBackgroundColor,color:i.darkHoverTextColor,"> svg":{color:i.darkHoverIconColor}}},t}),"label:BaseLeetbookButton;"),l=Object(a.combine)({kind:d,size:{defaultScheme:"lg",schemes:{xs:{padding:"4px 8px",fontSize:"12px",iconSize:"16px",svgSpacing:"2px"},sm:{padding:"8px 8px",fontSize:"12px",iconSize:"16px",svgSpacing:"2px"},md:{padding:"8px 16px",fontSize:"14px",iconSize:"18px",svgSpacing:"4px"},lg:{padding:"8px 30px",fontSize:"14px",iconSize:"18px",svgSpacing:"4px"}}}},c)},xAVt:function(e,t,i){e.exports={"prism-player-container":"prism-player-container__ZsEP",prismPlayerContainer:"prism-player-container__ZsEP","prism-thumbnail":"prism-thumbnail__1zis",prismThumbnail:"prism-thumbnail__1zis"}},xqc8:function(e,t,i){var n=i("zaNA"),a=i("H87J"),o=i("S3pA"),r=i("R3TX"),d=i("SU8Q"),c=i("cH1A");e.exports=function(e){return c((function(t){return t=a(t,d(o)),r((function(i){var a=this;return e(t,(function(e){return n(e,a,i)}))}))}))}},yRbu:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/banner.0f4a20c1.png"},yTug:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/binarySearch.a4f62dac.png"},zOOO:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/bfs.b5c54aa3.png"},zSqU:function(e,t){e.exports="https://static.leetcode.cn/cn-mono-assets/production/assets/dynamicProgramming1Plus.572982d2.png"},zVlL:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return c})),i.d(t,"d",(function(){return l}));var n,a=i("TMWK"),o=i("fgAA"),r=Object(a.a)("div",{target:"eagnapc0"})(((n={margin:"24px 0px 40px 0px",width:"1169px",display:"flex",flexWrap:"wrap","> section:nth-of-type(3n)":{marginRight:"0px"}})["@media(max-width: 991px)"]={width:"780px","> section:nth-of-type(3n)":{marginRight:"16px"},"> section:nth-of-type(2n)":{marginRight:"0px"}},n["@media(max-width: 478px)"]={width:"398px",marginRight:"0px"},n),"label:BookModuleContainer;"),d=Object(a.a)("section",{target:"eagnapc1"})({marginRight:"16px"},"label:BookBox;"),c=Object(a.a)("div",{target:"eagnapc2"})({width:"100%"},"label:ViewMore;"),l=Object(a.a)("div",{target:"eagnapc3"})({backgroundColor:o.b.lc_button_secondary(),borderRadius:"8px",width:"182px",height:"32px",lineHeight:"32px",textAlign:"center",fontSize:"14px",fontWeight:"400",margin:"auto",cursor:"pointer",":hover":{backgroundColor:o.b.lc_button_secondary_hover()},":active":{backgroundColor:o.b.lc_button_secondary_active()}},"label:ViewMoreButton;")}}]);